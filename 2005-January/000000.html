<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Picdb-svn] r1 - / trunk trunk/backends trunk/backends/backup trunk/backends/include trunk/backends/src trunk/frontends trunk/frontends/text trunk/frontends/text/src trunk/include trunk/src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/picdb-svn/2005-January/index.html" >
   <LINK REL="made" HREF="mailto:picdb-svn%40lists.berlios.de?Subject=Re%3A%20%5BPicdb-svn%5D%20r1%20-%20/%20trunk%20trunk/backends%20trunk/backends/backup%20trunk/backends/include%20trunk/backends/src%20trunk/frontends%20trunk/frontends/text%20trunk/frontends/text/src%20trunk/include%20trunk/src&In-Reply-To=%3C200501150336.j0F3ak8Y029948%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Picdb-svn] r1 - / trunk trunk/backends trunk/backends/backup trunk/backends/include trunk/backends/src trunk/frontends trunk/frontends/text trunk/frontends/text/src trunk/include trunk/src</H1>
    <B>Jens Krafczyk at BerliOS</B> 
    <A HREF="mailto:picdb-svn%40lists.berlios.de?Subject=Re%3A%20%5BPicdb-svn%5D%20r1%20-%20/%20trunk%20trunk/backends%20trunk/backends/backup%20trunk/backends/include%20trunk/backends/src%20trunk/frontends%20trunk/frontends/text%20trunk/frontends/text/src%20trunk/include%20trunk/src&In-Reply-To=%3C200501150336.j0F3ak8Y029948%40sheep.berlios.de%3E"
       TITLE="[Picdb-svn] r1 - / trunk trunk/backends trunk/backends/backup trunk/backends/include trunk/backends/src trunk/frontends trunk/frontends/text trunk/frontends/text/src trunk/include trunk/src">segv at sheep.berlios.de
       </A><BR>
    <I>Sat Jan 15 04:36:46 CET 2005</I>
    <P><UL>
        
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#0">[ date ]</a>
              <a href="thread.html#0">[ thread ]</a>
              <a href="subject.html#0">[ subject ]</a>
              <a href="author.html#0">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: segv
Date: 2005-01-15 04:36:41 +0100 (Sat, 15 Jan 2005)
New Revision: 1

Added:
   trunk/
   trunk/AUTHORS
   trunk/Api-doc/
   trunk/COPYING
   trunk/ChangeLog
   trunk/Doxyfile
   trunk/INSTALL
   trunk/Makefile.am
   trunk/Makefile.in
   trunk/NEWS
   trunk/README
   trunk/aclocal.m4
   trunk/autom4te.cache/
   trunk/backends/
   trunk/backends/Makefile.am
   trunk/backends/Makefile.in
   trunk/backends/backup/
   trunk/backends/backup/file.cc
   trunk/backends/backup/file.hpp
   trunk/backends/gpl_hdr.txt
   trunk/backends/include/
   trunk/backends/include/file.hpp
   trunk/backends/include/sqlite.hpp
   trunk/backends/src/
   trunk/backends/src/Makefile.am
   trunk/backends/src/Makefile.in
   trunk/backends/src/file.cc
   trunk/backends/src/sqlite.cc
   trunk/config.dtd
   trunk/config.guess
   trunk/config.h.in
   trunk/config.sub
   trunk/config.xml
   trunk/configure
   trunk/configure.ac
   trunk/depcomp
   trunk/edit
   trunk/frontends/
   trunk/frontends/Makefile.am
   trunk/frontends/Makefile.in
   trunk/frontends/text/
   trunk/frontends/text/Makefile.am
   trunk/frontends/text/Makefile.in
   trunk/frontends/text/include/
   trunk/frontends/text/src/
   trunk/frontends/text/src/Makefile.am
   trunk/frontends/text/src/Makefile.in
   trunk/frontends/text/src/main.cc
   trunk/gpl_hdr.txt
   trunk/include/
   trunk/include/backend.hpp
   trunk/include/backends
   trunk/include/config.hpp
   trunk/include/db.hpp
   trunk/include/exception.hpp
   trunk/include/filedata.hpp
   trunk/include/filelist.hpp
   trunk/include/logger.hpp
   trunk/include/media.hpp
   trunk/include/memorymanager.hpp
   trunk/include/os.hpp
   trunk/include/picdb.hpp
   trunk/include/sqlbackend.hpp
   trunk/include/unixos.hpp
   trunk/include/warning.hpp
   trunk/include/xml.hpp
   trunk/include/xmllogstream.hpp
   trunk/install-sh
   trunk/ltmain.sh
   trunk/main.bmp
   trunk/main.cc
   trunk/memorymanager.cc
   trunk/missing
   trunk/mkclasses.sh
   trunk/mkinstalldirs
   trunk/mysqlcfg.xml
   trunk/src/
   trunk/src/Makefile.am
   trunk/src/Makefile.in
   trunk/src/backend.cc
   trunk/src/config.cc
   trunk/src/db.cc
   trunk/src/exception.cc
   trunk/src/filedata.cc
   trunk/src/filelist.cc
   trunk/src/logger.cc
   trunk/src/media.cc
   trunk/src/memorymanager.cc
   trunk/src/os.cc
   trunk/src/picdb_init.cc
   trunk/src/sqlbackend.cc
   trunk/src/unixos.cc
   trunk/src/warning.cc
   trunk/src/xml.cc
   trunk/src/xmllogstream.cc
   trunk/stamp-h.in
   trunk/testrun
Log:
Initial Import

Added: trunk/AUTHORS
===================================================================

Added: trunk/COPYING
===================================================================
--- trunk/COPYING	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/COPYING	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+link /usr/share/automake-1.5/COPYING
\ No newline at end of file


Property changes on: trunk/COPYING
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/ChangeLog
===================================================================

Added: trunk/Doxyfile
===================================================================
--- trunk/Doxyfile	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/Doxyfile	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,216 @@
+#!/usr/bin/env doxygen
+# Doxyfile 1.3.7
+
+#---------------------------------------------------------------------------
+# Project related configuration options
+#---------------------------------------------------------------------------
+PROJECT_NAME           = Picdb
+PROJECT_NUMBER         = 
+OUTPUT_DIRECTORY       = /home/segfault/projects/c/picdb/Api-doc/
+CREATE_SUBDIRS         = YES
+OUTPUT_LANGUAGE        = English
+USE_WINDOWS_ENCODING   = NO
+BRIEF_MEMBER_DESC      = YES
+REPEAT_BRIEF           = YES
+ABBREVIATE_BRIEF       = 
+ALWAYS_DETAILED_SEC    = YES
+INLINE_INHERITED_MEMB  = YES
+FULL_PATH_NAMES        = NO
+STRIP_FROM_PATH        = 
+STRIP_FROM_INC_PATH    = 
+SHORT_NAMES            = NO
+JAVADOC_AUTOBRIEF      = NO
+MULTILINE_CPP_IS_BRIEF = NO
+DETAILS_AT_TOP         = NO
+INHERIT_DOCS           = YES
+DISTRIBUTE_GROUP_DOC   = NO
+TAB_SIZE               = 3
+ALIASES                = 
+OPTIMIZE_OUTPUT_FOR_C  = NO
+OPTIMIZE_OUTPUT_JAVA   = NO
+SUBGROUPING            = YES
+#---------------------------------------------------------------------------
+# Build related configuration options
+#---------------------------------------------------------------------------
+EXTRACT_ALL            = YES
+EXTRACT_PRIVATE        = NO
+EXTRACT_STATIC         = NO
+EXTRACT_LOCAL_CLASSES  = YES
+EXTRACT_LOCAL_METHODS  = NO
+HIDE_UNDOC_MEMBERS     = NO
+HIDE_UNDOC_CLASSES     = NO
+HIDE_FRIEND_COMPOUNDS  = NO
+HIDE_IN_BODY_DOCS      = NO
+INTERNAL_DOCS          = YES
+CASE_SENSE_NAMES       = YES
+HIDE_SCOPE_NAMES       = NO
+SHOW_INCLUDE_FILES     = YES
+INLINE_INFO            = YES
+SORT_MEMBER_DOCS       = YES
+SORT_BRIEF_DOCS        = NO
+SORT_BY_SCOPE_NAME     = NO
+GENERATE_TODOLIST      = YES
+GENERATE_TESTLIST      = YES
+GENERATE_BUGLIST       = YES
+GENERATE_DEPRECATEDLIST= YES
+ENABLED_SECTIONS       = 
+MAX_INITIALIZER_LINES  = 30
+SHOW_USED_FILES        = YES
+#---------------------------------------------------------------------------
+# configuration options related to warning and progress messages
+#---------------------------------------------------------------------------
+QUIET                  = NO
+WARNINGS               = YES
+WARN_IF_UNDOCUMENTED   = YES
+WARN_IF_DOC_ERROR      = YES
+WARN_FORMAT            = &quot;$file:$line: $text&quot;
+WARN_LOGFILE           = 
+#---------------------------------------------------------------------------
+# configuration options related to the input files
+#---------------------------------------------------------------------------
+INPUT                  = /home/segfault/projects/c/picdb/src/ \
+                         /home/segfault/projects/c/picdb/include/ \
+                         /home/segfault/projects/c/picdb/backends/src/ \
+                         /home/segfault/projects/c/picdb/backends/include/
+FILE_PATTERNS          = 
+RECURSIVE              = NO
+EXCLUDE                = 
+EXCLUDE_SYMLINKS       = NO
+EXCLUDE_PATTERNS       = 
+EXAMPLE_PATH           = 
+EXAMPLE_PATTERNS       = 
+EXAMPLE_RECURSIVE      = NO
+IMAGE_PATH             = 
+INPUT_FILTER           = 
+FILTER_SOURCE_FILES    = NO
+#---------------------------------------------------------------------------
+# configuration options related to source browsing
+#---------------------------------------------------------------------------
+SOURCE_BROWSER         = YES
+INLINE_SOURCES         = NO
+STRIP_CODE_COMMENTS    = YES
+REFERENCED_BY_RELATION = YES
+REFERENCES_RELATION    = YES
+VERBATIM_HEADERS       = YES
+#---------------------------------------------------------------------------
+# configuration options related to the alphabetical class index
+#---------------------------------------------------------------------------
+ALPHABETICAL_INDEX     = YES
+COLS_IN_ALPHA_INDEX    = 5
+IGNORE_PREFIX          = 
+#---------------------------------------------------------------------------
+# configuration options related to the HTML output
+#---------------------------------------------------------------------------
+GENERATE_HTML          = YES
+HTML_OUTPUT            = html
+HTML_FILE_EXTENSION    = .html
+HTML_HEADER            = 
+HTML_FOOTER            = 
+HTML_STYLESHEET        = 
+HTML_ALIGN_MEMBERS     = YES
+GENERATE_HTMLHELP      = NO
+CHM_FILE               = 
+HHC_LOCATION           = 
+GENERATE_CHI           = NO
+BINARY_TOC             = NO
+TOC_EXPAND             = YES
+DISABLE_INDEX          = NO
+ENUM_VALUES_PER_LINE   = 4
+GENERATE_TREEVIEW      = NO
+TREEVIEW_WIDTH         = 250
+#---------------------------------------------------------------------------
+# configuration options related to the LaTeX output
+#---------------------------------------------------------------------------
+GENERATE_LATEX         = YES
+LATEX_OUTPUT           = latex
+LATEX_CMD_NAME         = latex
+MAKEINDEX_CMD_NAME     = makeindex
+COMPACT_LATEX          = NO
+PAPER_TYPE             = a4wide
+EXTRA_PACKAGES         = 
+LATEX_HEADER           = 
+PDF_HYPERLINKS         = YES
+USE_PDFLATEX           = YES
+LATEX_BATCHMODE        = NO
+LATEX_HIDE_INDICES     = NO
+#---------------------------------------------------------------------------
+# configuration options related to the RTF output
+#---------------------------------------------------------------------------
+GENERATE_RTF           = NO
+RTF_OUTPUT             = rtf
+COMPACT_RTF            = NO
+RTF_HYPERLINKS         = YES
+RTF_STYLESHEET_FILE    = 
+RTF_EXTENSIONS_FILE    = 
+#---------------------------------------------------------------------------
+# configuration options related to the man page output
+#---------------------------------------------------------------------------
+GENERATE_MAN           = NO
+MAN_OUTPUT             = man
+MAN_EXTENSION          = .3
+MAN_LINKS              = NO
+#---------------------------------------------------------------------------
+# configuration options related to the XML output
+#---------------------------------------------------------------------------
+GENERATE_XML           = NO
+XML_OUTPUT             = xml
+XML_SCHEMA             = 
+XML_DTD                = 
+XML_PROGRAMLISTING     = YES
+#---------------------------------------------------------------------------
+# configuration options for the AutoGen Definitions output
+#---------------------------------------------------------------------------
+GENERATE_AUTOGEN_DEF   = YES
+#---------------------------------------------------------------------------
+# configuration options related to the Perl module output
+#---------------------------------------------------------------------------
+GENERATE_PERLMOD       = NO
+PERLMOD_LATEX          = NO
+PERLMOD_PRETTY         = YES
+PERLMOD_MAKEVAR_PREFIX = 
+#---------------------------------------------------------------------------
+# Configuration options related to the preprocessor   
+#---------------------------------------------------------------------------
+ENABLE_PREPROCESSING   = YES
+MACRO_EXPANSION        = NO
+EXPAND_ONLY_PREDEF     = NO
+SEARCH_INCLUDES        = YES
+INCLUDE_PATH           = 
+INCLUDE_FILE_PATTERNS  = 
+PREDEFINED             = 
+EXPAND_AS_DEFINED      = 
+SKIP_FUNCTION_MACROS   = YES
+#---------------------------------------------------------------------------
+# Configuration::additions related to external references   
+#---------------------------------------------------------------------------
+TAGFILES               = 
+GENERATE_TAGFILE       = /home/segfault/projects/c/picdb/tags.xml
+ALLEXTERNALS           = YES
+EXTERNAL_GROUPS        = YES
+PERL_PATH              = /usr/bin/perl
+#---------------------------------------------------------------------------
+# Configuration options related to the dot tool   
+#---------------------------------------------------------------------------
+CLASS_DIAGRAMS         = YES
+HIDE_UNDOC_RELATIONS   = YES
+HAVE_DOT               = YES
+CLASS_GRAPH            = YES
+COLLABORATION_GRAPH    = YES
+UML_LOOK               = YES
+TEMPLATE_RELATIONS     = YES
+INCLUDE_GRAPH          = YES
+INCLUDED_BY_GRAPH      = YES
+CALL_GRAPH             = NO
+GRAPHICAL_HIERARCHY    = YES
+DOT_IMAGE_FORMAT       = png
+DOT_PATH               = 
+DOTFILE_DIRS           = 
+MAX_DOT_GRAPH_WIDTH    = 1024
+MAX_DOT_GRAPH_HEIGHT   = 1024
+MAX_DOT_GRAPH_DEPTH    = 0
+GENERATE_LEGEND        = YES
+DOT_CLEANUP            = YES
+#---------------------------------------------------------------------------
+# Configuration::additions related to the search engine   
+#---------------------------------------------------------------------------
+SEARCHENGINE           = YES


Property changes on: trunk/Doxyfile
___________________________________________________________________
Name: svn:executable
   + 

Added: trunk/INSTALL
===================================================================
--- trunk/INSTALL	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/INSTALL	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+link /usr/share/automake-1.5/INSTALL
\ No newline at end of file


Property changes on: trunk/INSTALL
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/Makefile.am
===================================================================
--- trunk/Makefile.am	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/Makefile.am	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,5 @@
+SUBDIRS = src backends frontends
+bin_PROGRAMS = picdb_test
+picdb_test_SOURCES = main.cc
+#picdb_test_LDADD = -Lsrc/.libs -Lbackends/src/.libs -lpicdb
+picdb_test_LDADD = -L`pwd`/src/ -lpicdb

Added: trunk/Makefile.in
===================================================================
--- trunk/Makefile.in	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/Makefile.in	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,507 @@
+# Makefile.in generated automatically by automake 1.5 from Makefile.am.
+
+# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
+# Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at SET_MAKE</A>@
+
+SHELL = @SHELL@
+
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
+VPATH = @srcdir@
+prefix = @prefix@
+exec_prefix = @exec_prefix@
+
+bindir = @bindir@
+sbindir = @sbindir@
+libexecdir = @libexecdir@
+datadir = @datadir@
+sysconfdir = @sysconfdir@
+sharedstatedir = @sharedstatedir@
+localstatedir = @localstatedir@
+libdir = @libdir@
+infodir = @infodir@
+mandir = @mandir@
+includedir = @includedir@
+oldincludedir = /usr/include
+pkgdatadir = $(datadir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = .
+
+ACLOCAL = @ACLOCAL@
+AUTOCONF = @AUTOCONF@
+AUTOMAKE = @AUTOMAKE@
+AUTOHEADER = @AUTOHEADER@
+
+INSTALL = @INSTALL@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = @program_transform_name@
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+host_alias = @host_alias@
+host_triplet = @host@
+AMTAR = @AMTAR@
+AS = @AS@
+AWK = @AWK@
+CC = @CC@
+CXX = @CXX@
+DEPDIR = @DEPDIR@
+DLLTOOL = @DLLTOOL@
+ECHO = @ECHO@
+EXEEXT = @EXEEXT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+LIBTOOL = @LIBTOOL@
+LN_S = @LN_S@
+OBJDUMP = @OBJDUMP@
+OBJEXT = @OBJEXT@
+PACKAGE = @PACKAGE@
+RANLIB = @RANLIB@
+STRIP = @STRIP@
+VERSION = @VERSION@
+am__include = @am__include@
+am__quote = @am__quote@
+install_sh = @install_sh@
+
+SUBDIRS = src backends frontends
+bin_PROGRAMS = picdb_test
+picdb_test_SOURCES = main.cc
+#picdb_test_LDADD = -Lsrc/.libs -Lbackends/src/.libs -lpicdb
+picdb_test_LDADD = -L`pwd`/src/ -lpicdb
+subdir = .
+ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
+mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+CONFIG_HEADER = config.h
+CONFIG_CLEAN_FILES =
+bin_PROGRAMS = picdb_test$(EXEEXT)
+PROGRAMS = $(bin_PROGRAMS)
+
+am_picdb_test_OBJECTS = main.$(OBJEXT)
+picdb_test_OBJECTS = $(am_picdb_test_OBJECTS)
+picdb_test_DEPENDENCIES =
+picdb_test_LDFLAGS =
+
+DEFS = @DEFS@
+DEFAULT_INCLUDES =  -I. -I$(srcdir) -I.
+CPPFLAGS = @CPPFLAGS@
+LDFLAGS = @LDFLAGS@
+LIBS = @LIBS@
+depcomp = $(SHELL) $(top_srcdir)/depcomp
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@DEP_FILES = $(DEPDIR)/main.Po
+CXXCOMPILE = $(CXX) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
+	$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)
+LTCXXCOMPILE = $(LIBTOOL) --mode=compile $(CXX) $(DEFS) \
+	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
+	$(AM_CXXFLAGS) $(CXXFLAGS)
+CXXLD = $(CXX)
+CXXLINK = $(LIBTOOL) --mode=link $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) \
+	$(AM_LDFLAGS) $(LDFLAGS) -o $@
+CXXFLAGS = @CXXFLAGS@
+DIST_SOURCES = $(picdb_test_SOURCES)
+
+RECURSIVE_TARGETS = info-recursive dvi-recursive install-info-recursive \
+	uninstall-info-recursive all-recursive install-data-recursive \
+	install-exec-recursive installdirs-recursive install-recursive \
+	uninstall-recursive check-recursive installcheck-recursive
+DIST_COMMON = README ./stamp-h.in AUTHORS COPYING ChangeLog INSTALL \
+	Makefile.am Makefile.in NEWS aclocal.m4 config.guess \
+	config.h.in config.sub configure configure.ac depcomp \
+	install-sh ltmain.sh missing mkinstalldirs
+DIST_SUBDIRS = $(SUBDIRS)
+SOURCES = $(picdb_test_SOURCES)
+
+all: config.h
+	$(MAKE) $(AM_MAKEFLAGS) all-recursive
+
+.SUFFIXES:
+.SUFFIXES: .cc .lo .o .obj
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+$(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.ac $(ACLOCAL_M4)
+	cd $(top_srcdir) &amp;&amp; \
+	  $(AUTOMAKE) --gnu  Makefile
+Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
+	cd $(top_builddir) &amp;&amp; \
+	  CONFIG_HEADERS= CONFIG_LINKS= \
+	  CONFIG_FILES=$@ $(SHELL) ./config.status
+
+$(top_builddir)/config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
+	$(SHELL) ./config.status --recheck
+$(srcdir)/configure:  $(srcdir)/configure.ac $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)
+	cd $(srcdir) &amp;&amp; $(AUTOCONF)
+
+$(ACLOCAL_M4):  configure.ac 
+	cd $(srcdir) &amp;&amp; $(ACLOCAL) $(ACLOCAL_AMFLAGS)
+config.h: stamp-h
+	@if test ! -f $@; then \
+		rm -f stamp-h; \
+		$(MAKE) stamp-h; \
+	else :; fi
+stamp-h: $(srcdir)/config.h.in $(top_builddir)/config.status
+	@rm -f stamp-h stamp-hT
+	@echo timestamp &gt; stamp-hT 2&gt; /dev/null
+	cd $(top_builddir) \
+	  &amp;&amp; CONFIG_FILES= CONFIG_HEADERS=config.h \
+	     $(SHELL) ./config.status
+	@mv stamp-hT stamp-h
+$(srcdir)/config.h.in:  $(srcdir)/./stamp-h.in
+	@if test ! -f $@; then \
+		rm -f $(srcdir)/./stamp-h.in; \
+		$(MAKE) $(srcdir)/./stamp-h.in; \
+	else :; fi
+$(srcdir)/./stamp-h.in: $(top_srcdir)/configure.ac $(ACLOCAL_M4) 
+	@rm -f $(srcdir)/./stamp-h.in $(srcdir)/./stamp-h.inT
+	@echo timestamp &gt; $(srcdir)/./stamp-h.inT 2&gt; /dev/null
+	cd $(top_srcdir) &amp;&amp; $(AUTOHEADER)
+	@mv $(srcdir)/./stamp-h.inT $(srcdir)/./stamp-h.in
+
+distclean-hdr:
+	-rm -f config.h
+install-binPROGRAMS: $(bin_PROGRAMS)
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(bindir)
+	@list='$(bin_PROGRAMS)'; for p in $$list; do \
+	  p1=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
+	  if test -f $$p \
+	     || test -f $$p1 \
+	  ; then \
+	    f=`echo $$p1|sed '$(transform);s/$$/$(EXEEXT)/'`; \
+	   echo &quot; $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/$$f&quot;; \
+	   $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/$$f; \
+	  else :; fi; \
+	done
+
+uninstall-binPROGRAMS:
+	@$(NORMAL_UNINSTALL)
+	@list='$(bin_PROGRAMS)'; for p in $$list; do \
+	  f=`echo $$p|sed 's/$(EXEEXT)$$//;$(transform);s/$$/$(EXEEXT)/'`; \
+	  echo &quot; rm -f $(DESTDIR)$(bindir)/$$f&quot;; \
+	  rm -f $(DESTDIR)$(bindir)/$$f; \
+	done
+
+clean-binPROGRAMS:
+	-test -z &quot;$(bin_PROGRAMS)&quot; || rm -f $(bin_PROGRAMS)
+picdb_test$(EXEEXT): $(picdb_test_OBJECTS) $(picdb_test_DEPENDENCIES) 
+	@rm -f picdb_test$(EXEEXT)
+	$(CXXLINK) $(picdb_test_LDFLAGS) $(picdb_test_OBJECTS) $(picdb_test_LDADD) $(LIBS)
+
+mostlyclean-compile:
+	-rm -f *.$(OBJEXT) core *.core
+
+distclean-compile:
+	-rm -f *.tab.c
+
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">main.Po at am__quote</A>@
+
+distclean-depend:
+	-rm -rf $(DEPDIR)
+
+.cc.o:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=no @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(CXXCOMPILE) -c -o $@ `test -f $&lt; || echo '$(srcdir)/'`$&lt;
+
+.cc.obj:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=no @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(CXXCOMPILE) -c -o $@ `cygpath -w $&lt;`
+
+.cc.lo:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=yes @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Plo' tmpdepfile='$(DEPDIR)/$*.TPlo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(LTCXXCOMPILE) -c -o $@ `test -f $&lt; || echo '$(srcdir)/'`$&lt;
+CXXDEPMODE = @CXXDEPMODE@
+uninstall-info-am:
+
+# This directory's subdirectories are mostly independent; you can cd
+# into them and run `make' without going through this Makefile.
+# To change the values of `make' variables: instead of editing Makefiles,
+# (1) if the variable is set in `config.status', edit `config.status'
+#     (which will cause the Makefiles to be regenerated when you run `make');
+# (2) otherwise, pass the desired values on the `make' command line.
+$(RECURSIVE_TARGETS):
+	@set fnord $(MAKEFLAGS); amf=$$2; \
+	dot_seen=no; \
+	target=`echo $@ | sed s/-recursive//`; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  echo &quot;Making $$target in $$subdir&quot;; \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then \
+	    dot_seen=yes; \
+	    local_target=&quot;$$target-am&quot;; \
+	  else \
+	    local_target=&quot;$$target&quot;; \
+	  fi; \
+	  (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case &quot;$$amf&quot; in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done; \
+	if test &quot;$$dot_seen&quot; = &quot;no&quot;; then \
+	  $(MAKE) $(AM_MAKEFLAGS) &quot;$$target-am&quot; || exit 1; \
+	fi; test -z &quot;$$fail&quot;
+
+mostlyclean-recursive clean-recursive distclean-recursive \
+maintainer-clean-recursive:
+	@set fnord $(MAKEFLAGS); amf=$$2; \
+	dot_seen=no; \
+	case &quot;$@&quot; in \
+	  distclean-* | maintainer-clean-*) list='$(DIST_SUBDIRS)' ;; \
+	  *) list='$(SUBDIRS)' ;; \
+	esac; \
+	rev=''; for subdir in $$list; do \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then :; else \
+	    rev=&quot;$$subdir $$rev&quot;; \
+	  fi; \
+	done; \
+	rev=&quot;$$rev .&quot;; \
+	target=`echo $@ | sed s/-recursive//`; \
+	for subdir in $$rev; do \
+	  echo &quot;Making $$target in $$subdir&quot;; \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then \
+	    local_target=&quot;$$target-am&quot;; \
+	  else \
+	    local_target=&quot;$$target&quot;; \
+	  fi; \
+	  (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case &quot;$$amf&quot; in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done &amp;&amp; test -z &quot;$$fail&quot;
+tags-recursive:
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  test &quot;$$subdir&quot; = . || (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) tags); \
+	done
+
+tags: TAGS
+
+ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	mkid -fID $$unique $(LISP)
+
+TAGS: tags-recursive $(HEADERS) $(SOURCES) config.h.in $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  if test &quot;$$subdir&quot; = .; then :; else \
+	    test -f $$subdir/TAGS &amp;&amp; tags=&quot;$$tags -i $$here/$$subdir/TAGS&quot;; \
+	  fi; \
+	done; \
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z &quot;$(ETAGS_ARGS)config.h.in$$unique$(LISP)$$tags&quot; \
+	  || etags $(ETAGS_ARGS) $$tags config.h.in $$unique $(LISP)
+
+GTAGS:
+	here=`CDPATH=: &amp;&amp; cd $(top_builddir) &amp;&amp; pwd` \
+	  &amp;&amp; cd $(top_srcdir) \
+	  &amp;&amp; gtags -i $(GTAGS_ARGS) $$here
+
+distclean-tags:
+	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH
+
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+
+top_distdir = .
+# Avoid unsightly `./'.
+distdir = $(PACKAGE)-$(VERSION)
+
+GZIP_ENV = --best
+
+distdir: $(DISTFILES)
+	-chmod -R a+w $(distdir) &gt;/dev/null 2&gt;&amp;1; rm -rf $(distdir)
+	mkdir $(distdir)
+	@for file in $(DISTFILES); do \
+	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo &quot;$$file&quot; | sed -e 's,/[^/]*$$,,'`; \
+	  if test &quot;$$dir&quot; != &quot;$$file&quot; &amp;&amp; test &quot;$$dir&quot; != &quot;.&quot;; then \
+	    $(mkinstalldirs) &quot;$(distdir)/$$dir&quot;; \
+	  fi; \
+	  if test -d $$d/$$file; then \
+	    cp -pR $$d/$$file $(distdir) \
+	    || exit 1; \
+	  else \
+	    test -f $(distdir)/$$file \
+	    || cp -p $$d/$$file $(distdir)/$$file \
+	    || exit 1; \
+	  fi; \
+	done
+	for subdir in $(SUBDIRS); do \
+	  if test &quot;$$subdir&quot; = .; then :; else \
+	    test -d $(distdir)/$$subdir \
+	    || mkdir $(distdir)/$$subdir \
+	    || exit 1; \
+	    (cd $$subdir &amp;&amp; \
+	      $(MAKE) $(AM_MAKEFLAGS) \
+	        top_distdir=&quot;$(top_distdir)&quot; \
+	        distdir=../$(distdir)/$$subdir \
+	        distdir) \
+	      || exit 1; \
+	  fi; \
+	done
+	-find $(distdir) -type d ! -perm -777 -exec chmod a+rwx {} \; -o \
+	  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
+	  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
+	  ! -type d ! -perm -444 -exec $(SHELL) $(install_sh) -c -m a+r {} {} \; \
+	|| chmod -R a+r $(distdir)
+dist: distdir
+	$(AMTAR) chof - $(distdir) | GZIP=$(GZIP_ENV) gzip -c &gt;$(distdir).tar.gz
+	-chmod -R a+w $(distdir) &gt;/dev/null 2&gt;&amp;1; rm -rf $(distdir)
+
+# This target untars the dist file and tries a VPATH configuration.  Then
+# it guarantees that the distribution is self-contained by making another
+# tarfile.
+distcheck: dist
+	-chmod -R a+w $(distdir) &gt; /dev/null 2&gt;&amp;1; rm -rf $(distdir)
+	GZIP=$(GZIP_ENV) gunzip -c $(distdir).tar.gz | $(AMTAR) xf -
+	chmod -R a-w $(distdir); chmod a+w $(distdir)
+	mkdir $(distdir)/=build
+	mkdir $(distdir)/=inst
+	chmod a-w $(distdir)
+	dc_install_base=`CDPATH=: &amp;&amp; cd $(distdir)/=inst &amp;&amp; pwd` \
+	  &amp;&amp; cd $(distdir)/=build \
+	  &amp;&amp; ../configure --srcdir=.. --prefix=$$dc_install_base \
+	  &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) \
+	  &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) dvi \
+	  &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) check \
+	  &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) install \
+	  &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) installcheck \
+	  &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) uninstall \
+	  &amp;&amp; (test `find $$dc_install_base -type f -print | wc -l` -le 1 \
+	     || (echo &quot;Error: files left after uninstall&quot; 1&gt;&amp;2; \
+	         exit 1) ) \
+	  &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) dist \
+	  &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) distclean \
+	  &amp;&amp; rm -f $(distdir).tar.gz \
+	  &amp;&amp; (test `find . -type f -print | wc -l` -eq 0 \
+	     || (echo &quot;Error: files left after distclean&quot; 1&gt;&amp;2; \
+	         exit 1) )
+	-chmod -R a+w $(distdir) &gt; /dev/null 2&gt;&amp;1; rm -rf $(distdir)
+	@echo &quot;$(distdir).tar.gz is ready for distribution&quot; | \
+	  sed 'h;s/./=/g;p;x;p;x'
+check-am: all-am
+check: check-recursive
+all-am: Makefile $(PROGRAMS) config.h
+installdirs: installdirs-recursive
+installdirs-am:
+	$(mkinstalldirs) $(DESTDIR)$(bindir)
+
+install: install-recursive
+install-exec: install-exec-recursive
+install-data: install-data-recursive
+uninstall: uninstall-recursive
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-recursive
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM=&quot;$(INSTALL_STRIP_PROGRAM)&quot; \
+	  `test -z '$(STRIP)' || \
+	    echo &quot;INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'&quot;` install
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-rm -f Makefile $(CONFIG_CLEAN_FILES) stamp-h stamp-h[0-9]*
+
+maintainer-clean-generic:
+	@echo &quot;This command is intended for maintainers to use&quot;
+	@echo &quot;it deletes files that may require special tools to rebuild.&quot;
+clean: clean-recursive
+
+clean-am: clean-binPROGRAMS clean-generic clean-libtool mostlyclean-am
+
+dist-all: distdir
+	$(AMTAR) chof - $(distdir) | GZIP=$(GZIP_ENV) gzip -c &gt;$(distdir).tar.gz
+	-chmod -R a+w $(distdir) &gt;/dev/null 2&gt;&amp;1; rm -rf $(distdir)
+distclean: distclean-recursive
+	-rm -f config.status config.cache config.log
+distclean-am: clean-am distclean-compile distclean-depend \
+	distclean-generic distclean-hdr distclean-libtool \
+	distclean-tags
+
+dvi: dvi-recursive
+
+dvi-am:
+
+info: info-recursive
+
+info-am:
+
+install-data-am:
+
+install-exec-am: install-binPROGRAMS
+
+install-info: install-info-recursive
+
+install-man:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-recursive
+
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-recursive
+
+mostlyclean-am: mostlyclean-compile mostlyclean-generic \
+	mostlyclean-libtool
+
+uninstall-am: uninstall-binPROGRAMS uninstall-info-am
+
+uninstall-info: uninstall-info-recursive
+
+.PHONY: $(RECURSIVE_TARGETS) GTAGS all all-am check check-am clean \
+	clean-binPROGRAMS clean-generic clean-libtool clean-recursive \
+	dist dist-all distcheck distclean distclean-compile \
+	distclean-depend distclean-generic distclean-hdr \
+	distclean-libtool distclean-recursive distclean-tags distdir \
+	dvi dvi-am dvi-recursive info info-am info-recursive install \
+	install-am install-binPROGRAMS install-data install-data-am \
+	install-data-recursive install-exec install-exec-am \
+	install-exec-recursive install-info install-info-am \
+	install-info-recursive install-man install-recursive \
+	install-strip installcheck installcheck-am installdirs \
+	installdirs-am installdirs-recursive maintainer-clean \
+	maintainer-clean-generic maintainer-clean-recursive mostlyclean \
+	mostlyclean-compile mostlyclean-generic mostlyclean-libtool \
+	mostlyclean-recursive tags tags-recursive uninstall \
+	uninstall-am uninstall-binPROGRAMS uninstall-info-am \
+	uninstall-info-recursive uninstall-recursive
+
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:

Added: trunk/NEWS
===================================================================

Added: trunk/README
===================================================================

Added: trunk/aclocal.m4
===================================================================
--- trunk/aclocal.m4	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/aclocal.m4	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,4269 @@
+# aclocal.m4 generated automatically by aclocal 1.5
+
+# Copyright 1996, 1997, 1998, 1999, 2000, 2001
+# Free Software Foundation, Inc.
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
+# Do all the work for Automake.  This macro actually does too much --
+# some checks are only needed if your package does certain things.
+# But this isn't really a big deal.
+
+# serial 5
+
+# There are a few dirty hacks below to avoid letting `AC_PROG_CC' be
+# written in clear, in which case automake, when reading aclocal.m4,
+# will think it sees a *use*, and therefore will trigger all it's
+# C support machinery.  Also note that it means that autoscan, seeing
+# CC etc. in the Makefile, will ask for an AC_PROG_CC use...
+
+
+# We require 2.13 because we rely on SHELL being computed by configure.
+AC_PREREQ([2.13])
+
+# AC_PROVIDE_IFELSE(MACRO-NAME, IF-PROVIDED, IF-NOT-PROVIDED)
+# -----------------------------------------------------------
+# If MACRO-NAME is provided do IF-PROVIDED, else IF-NOT-PROVIDED.
+# The purpose of this macro is to provide the user with a means to
+# check macros which are provided without letting her know how the
+# information is coded.
+# If this macro is not defined by Autoconf, define it here.
+ifdef([AC_PROVIDE_IFELSE],
+      [],
+      [define([AC_PROVIDE_IFELSE],
+              [ifdef([AC_PROVIDE_$1],
+                     [$2], [$3])])])
+
+
+# AM_INIT_AUTOMAKE(PACKAGE,VERSION, [NO-DEFINE])
+# ----------------------------------------------
+AC_DEFUN([AM_INIT_AUTOMAKE],
+[AC_REQUIRE([AC_PROG_INSTALL])dnl
+# test to see if srcdir already configured
+if test &quot;`CDPATH=:; cd $srcdir &amp;&amp; pwd`&quot; != &quot;`pwd`&quot; &amp;&amp;
+   test -f $srcdir/config.status; then
+  AC_MSG_ERROR([source directory already configured; run \&quot;make distclean\&quot; there first])
+fi
+
+# Define the identity of the package.
+PACKAGE=$1
+AC_SUBST(PACKAGE)dnl
+VERSION=$2
+AC_SUBST(VERSION)dnl
+ifelse([$3],,
+[AC_DEFINE_UNQUOTED(PACKAGE, &quot;$PACKAGE&quot;, [Name of package])
+AC_DEFINE_UNQUOTED(VERSION, &quot;$VERSION&quot;, [Version number of package])])
+
+# Autoconf 2.50 wants to disallow AM_ names.  We explicitly allow
+# the ones we care about.
+ifdef([m4_pattern_allow],
+      [m4_pattern_allow([^AM_[A-Z]+FLAGS])])dnl
+
+# Autoconf 2.50 always computes EXEEXT.  However we need to be
+# compatible with 2.13, for now.  So we always define EXEEXT, but we
+# don't compute it.
+AC_SUBST(EXEEXT)
+# Similar for OBJEXT -- only we only use OBJEXT if the user actually
+# requests that it be used.  This is a bit dumb.
+: ${OBJEXT=o}
+AC_SUBST(OBJEXT)
+
+# Some tools Automake needs.
+AC_REQUIRE([AM_SANITY_CHECK])dnl
+AC_REQUIRE([AC_ARG_PROGRAM])dnl
+AM_MISSING_PROG(ACLOCAL, aclocal)
+AM_MISSING_PROG(AUTOCONF, autoconf)
+AM_MISSING_PROG(AUTOMAKE, automake)
+AM_MISSING_PROG(AUTOHEADER, autoheader)
+AM_MISSING_PROG(MAKEINFO, makeinfo)
+AM_MISSING_PROG(AMTAR, tar)
+AM_PROG_INSTALL_SH
+AM_PROG_INSTALL_STRIP
+# We need awk for the &quot;check&quot; target.  The system &quot;awk&quot; is bad on
+# some platforms.
+AC_REQUIRE([AC_PROG_AWK])dnl
+AC_REQUIRE([AC_PROG_MAKE_SET])dnl
+AC_REQUIRE([AM_DEP_TRACK])dnl
+AC_REQUIRE([AM_SET_DEPDIR])dnl
+AC_PROVIDE_IFELSE([AC_PROG_][CC],
+                  [_AM_DEPENDENCIES(CC)],
+                  [define([AC_PROG_][CC],
+                          defn([AC_PROG_][CC])[_AM_DEPENDENCIES(CC)])])dnl
+AC_PROVIDE_IFELSE([AC_PROG_][CXX],
+                  [_AM_DEPENDENCIES(CXX)],
+                  [define([AC_PROG_][CXX],
+                          defn([AC_PROG_][CXX])[_AM_DEPENDENCIES(CXX)])])dnl
+])
+
+#
+# Check to make sure that the build environment is sane.
+#
+
+# serial 3
+
+# AM_SANITY_CHECK
+# ---------------
+AC_DEFUN([AM_SANITY_CHECK],
+[AC_MSG_CHECKING([whether build environment is sane])
+# Just in case
+sleep 1
+echo timestamp &gt; conftest.file
+# Do `set' in a subshell so we don't clobber the current shell's
+# arguments.  Must try -L first in case configure is actually a
+# symlink; some systems play weird games with the mod time of symlinks
+# (eg FreeBSD returns the mod time of the symlink's containing
+# directory).
+if (
+   set X `ls -Lt $srcdir/configure conftest.file 2&gt; /dev/null`
+   if test &quot;$[*]&quot; = &quot;X&quot;; then
+      # -L didn't work.
+      set X `ls -t $srcdir/configure conftest.file`
+   fi
+   rm -f conftest.file
+   if test &quot;$[*]&quot; != &quot;X $srcdir/configure conftest.file&quot; \
+      &amp;&amp; test &quot;$[*]&quot; != &quot;X conftest.file $srcdir/configure&quot;; then
+
+      # If neither matched, then we have a broken ls.  This can happen
+      # if, for instance, CONFIG_SHELL is bash and it inherits a
+      # broken ls alias from the environment.  This has actually
+      # happened.  Such a system could not be considered &quot;sane&quot;.
+      AC_MSG_ERROR([ls -t appears to fail.  Make sure there is not a broken
+alias in your environment])
+   fi
+
+   test &quot;$[2]&quot; = conftest.file
+   )
+then
+   # Ok.
+   :
+else
+   AC_MSG_ERROR([newly created file is older than distributed files!
+Check your system clock])
+fi
+AC_MSG_RESULT(yes)])
+
+
+# serial 2
+
+# AM_MISSING_PROG(NAME, PROGRAM)
+# ------------------------------
+AC_DEFUN([AM_MISSING_PROG],
+[AC_REQUIRE([AM_MISSING_HAS_RUN])
+$1=${$1-&quot;${am_missing_run}$2&quot;}
+AC_SUBST($1)])
+
+
+# AM_MISSING_HAS_RUN
+# ------------------
+# Define MISSING if not defined so far and test if it supports --run.
+# If it does, set am_missing_run to use it, otherwise, to nothing.
+AC_DEFUN([AM_MISSING_HAS_RUN],
+[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
+test x&quot;${MISSING+set}&quot; = xset || MISSING=&quot;\${SHELL} $am_aux_dir/missing&quot;
+# Use eval to expand $SHELL
+if eval &quot;$MISSING --run true&quot;; then
+  am_missing_run=&quot;$MISSING --run &quot;
+else
+  am_missing_run=
+  am_backtick='`'
+  AC_MSG_WARN([${am_backtick}missing' script is too old or missing])
+fi
+])
+
+# AM_AUX_DIR_EXPAND
+
+# For projects using AC_CONFIG_AUX_DIR([foo]), Autoconf sets
+# $ac_aux_dir to `$srcdir/foo'.  In other projects, it is set to
+# `$srcdir', `$srcdir/..', or `$srcdir/../..'.
+#
+# Of course, Automake must honor this variable whenever it calls a
+# tool from the auxiliary directory.  The problem is that $srcdir (and
+# therefore $ac_aux_dir as well) can be either absolute or relative,
+# depending on how configure is run.  This is pretty annoying, since
+# it makes $ac_aux_dir quite unusable in subdirectories: in the top
+# source directory, any form will work fine, but in subdirectories a
+# relative path needs to be adjusted first.
+#
+# $ac_aux_dir/missing
+#    fails when called from a subdirectory if $ac_aux_dir is relative
+# $top_srcdir/$ac_aux_dir/missing
+#    fails if $ac_aux_dir is absolute,
+#    fails when called from a subdirectory in a VPATH build with
+#          a relative $ac_aux_dir
+#
+# The reason of the latter failure is that $top_srcdir and $ac_aux_dir
+# are both prefixed by $srcdir.  In an in-source build this is usually
+# harmless because $srcdir is `.', but things will broke when you
+# start a VPATH build or use an absolute $srcdir.
+#
+# So we could use something similar to $top_srcdir/$ac_aux_dir/missing,
+# iff we strip the leading $srcdir from $ac_aux_dir.  That would be:
+#   am_aux_dir='\$(top_srcdir)/'`expr &quot;$ac_aux_dir&quot; : &quot;$srcdir//*\(.*\)&quot;`
+# and then we would define $MISSING as
+#   MISSING=&quot;\${SHELL} $am_aux_dir/missing&quot;
+# This will work as long as MISSING is not called from configure, because
+# unfortunately $(top_srcdir) has no meaning in configure.
+# However there are other variables, like CC, which are often used in
+# configure, and could therefore not use this &quot;fixed&quot; $ac_aux_dir.
+#
+# Another solution, used here, is to always expand $ac_aux_dir to an
+# absolute PATH.  The drawback is that using absolute paths prevent a
+# configured tree to be moved without reconfiguration.
+
+AC_DEFUN([AM_AUX_DIR_EXPAND], [
+# expand $ac_aux_dir to an absolute path
+am_aux_dir=`CDPATH=:; cd $ac_aux_dir &amp;&amp; pwd`
+])
+
+# AM_PROG_INSTALL_SH
+# ------------------
+# Define $install_sh.
+AC_DEFUN([AM_PROG_INSTALL_SH],
+[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
+install_sh=${install_sh-&quot;$am_aux_dir/install-sh&quot;}
+AC_SUBST(install_sh)])
+
+# One issue with vendor `install' (even GNU) is that you can't
+# specify the program used to strip binaries.  This is especially
+# annoying in cross-compiling environments, where the build's strip
+# is unlikely to handle the host's binaries.
+# Fortunately install-sh will honor a STRIPPROG variable, so we
+# always use install-sh in `make install-strip', and initialize
+# STRIPPROG with the value of the STRIP variable (set by the user).
+AC_DEFUN([AM_PROG_INSTALL_STRIP],
+[AC_REQUIRE([AM_PROG_INSTALL_SH])dnl
+INSTALL_STRIP_PROGRAM=&quot;\${SHELL} \$(install_sh) -c -s&quot;
+AC_SUBST([INSTALL_STRIP_PROGRAM])])
+
+# serial 4						-*- Autoconf -*-
+
+
+
+# There are a few dirty hacks below to avoid letting `AC_PROG_CC' be
+# written in clear, in which case automake, when reading aclocal.m4,
+# will think it sees a *use*, and therefore will trigger all it's
+# C support machinery.  Also note that it means that autoscan, seeing
+# CC etc. in the Makefile, will ask for an AC_PROG_CC use...
+
+
+
+# _AM_DEPENDENCIES(NAME)
+# ---------------------
+# See how the compiler implements dependency checking.
+# NAME is &quot;CC&quot;, &quot;CXX&quot; or &quot;OBJC&quot;.
+# We try a few techniques and use that to set a single cache variable.
+#
+# We don't AC_REQUIRE the corresponding AC_PROG_CC since the latter was
+# modified to invoke _AM_DEPENDENCIES(CC); we would have a circular
+# dependency, and given that the user is not expected to run this macro,
+# just rely on AC_PROG_CC.
+AC_DEFUN([_AM_DEPENDENCIES],
+[AC_REQUIRE([AM_SET_DEPDIR])dnl
+AC_REQUIRE([AM_OUTPUT_DEPENDENCY_COMMANDS])dnl
+AC_REQUIRE([AM_MAKE_INCLUDE])dnl
+AC_REQUIRE([AM_DEP_TRACK])dnl
+
+ifelse([$1], CC,   [depcc=&quot;$CC&quot;   am_compiler_list=],
+       [$1], CXX,  [depcc=&quot;$CXX&quot;  am_compiler_list=],
+       [$1], OBJC, [depcc=&quot;$OBJC&quot; am_compiler_list='gcc3 gcc']
+       [$1], GCJ,  [depcc=&quot;$GCJ&quot;  am_compiler_list='gcc3 gcc'],
+                   [depcc=&quot;$$1&quot;   am_compiler_list=])
+
+AC_CACHE_CHECK([dependency style of $depcc],
+               [am_cv_$1_dependencies_compiler_type],
+[if test -z &quot;$AMDEP_TRUE&quot; &amp;&amp; test -f &quot;$am_depcomp&quot;; then
+  # We make a subdir and do the tests there.  Otherwise we can end up
+  # making bogus files that we don't know about and never remove.  For
+  # instance it was reported that on HP-UX the gcc test will end up
+  # making a dummy file named `D' -- because `-MD' means `put the output
+  # in D'.
+  mkdir conftest.dir
+  # Copy depcomp to subdir because otherwise we won't find it if we're
+  # using a relative directory.
+  cp &quot;$am_depcomp&quot; conftest.dir
+  cd conftest.dir
+
+  am_cv_$1_dependencies_compiler_type=none
+  if test &quot;$am_compiler_list&quot; = &quot;&quot;; then
+     am_compiler_list=`sed -n ['s/^#*\([a-zA-Z0-9]*\))$/\1/p'] &lt; ./depcomp`
+  fi
+  for depmode in $am_compiler_list; do
+    # We need to recreate these files for each test, as the compiler may
+    # overwrite some of them when testing with obscure command lines.
+    # This happens at least with the AIX C compiler.
+    echo '#include &quot;conftest.h&quot;' &gt; conftest.c
+    echo 'int i;' &gt; conftest.h
+    echo &quot;${am__include} ${am__quote}conftest.Po${am__quote}&quot; &gt; confmf
+
+    case $depmode in
+    nosideeffect)
+      # after this tag, mechanisms are not by side-effect, so they'll
+      # only be used when explicitly requested
+      if test &quot;x$enable_dependency_tracking&quot; = xyes; then
+	continue
+      else
+	break
+      fi
+      ;;
+    none) break ;;
+    esac
+    # We check with `-c' and `-o' for the sake of the &quot;dashmstdout&quot;
+    # mode.  It turns out that the SunPro C++ compiler does not properly
+    # handle `-M -o', and we need to detect this.
+    if depmode=$depmode \
+       source=conftest.c object=conftest.o \
+       depfile=conftest.Po tmpdepfile=conftest.TPo \
+       $SHELL ./depcomp $depcc -c conftest.c -o conftest.o &gt;/dev/null 2&gt;&amp;1 &amp;&amp;
+       grep conftest.h conftest.Po &gt; /dev/null 2&gt;&amp;1 &amp;&amp;
+       ${MAKE-make} -s -f confmf &gt; /dev/null 2&gt;&amp;1; then
+      am_cv_$1_dependencies_compiler_type=$depmode
+      break
+    fi
+  done
+
+  cd ..
+  rm -rf conftest.dir
+else
+  am_cv_$1_dependencies_compiler_type=none
+fi
+])
+$1DEPMODE=&quot;depmode=$am_cv_$1_dependencies_compiler_type&quot;
+AC_SUBST([$1DEPMODE])
+])
+
+
+# AM_SET_DEPDIR
+# -------------
+# Choose a directory name for dependency files.
+# This macro is AC_REQUIREd in _AM_DEPENDENCIES
+AC_DEFUN([AM_SET_DEPDIR],
+[rm -f .deps 2&gt;/dev/null
+mkdir .deps 2&gt;/dev/null
+if test -d .deps; then
+  DEPDIR=.deps
+else
+  # MS-DOS does not allow filenames that begin with a dot.
+  DEPDIR=_deps
+fi
+rmdir .deps 2&gt;/dev/null
+AC_SUBST(DEPDIR)
+])
+
+
+# AM_DEP_TRACK
+# ------------
+AC_DEFUN([AM_DEP_TRACK],
+[AC_ARG_ENABLE(dependency-tracking,
+[  --disable-dependency-tracking Speeds up one-time builds
+  --enable-dependency-tracking  Do not reject slow dependency extractors])
+if test &quot;x$enable_dependency_tracking&quot; != xno; then
+  am_depcomp=&quot;$ac_aux_dir/depcomp&quot;
+  AMDEPBACKSLASH='\'
+fi
+AM_CONDITIONAL([AMDEP], [test &quot;x$enable_dependency_tracking&quot; != xno])
+pushdef([subst], defn([AC_SUBST]))
+subst(AMDEPBACKSLASH)
+popdef([subst])
+])
+
+# Generate code to set up dependency tracking.
+# This macro should only be invoked once -- use via AC_REQUIRE.
+# Usage:
+# AM_OUTPUT_DEPENDENCY_COMMANDS
+
+#
+# This code is only required when automatic dependency tracking
+# is enabled.  FIXME.  This creates each `.P' file that we will
+# need in order to bootstrap the dependency handling code.
+AC_DEFUN([AM_OUTPUT_DEPENDENCY_COMMANDS],[
+AC_OUTPUT_COMMANDS([
+test x&quot;$AMDEP_TRUE&quot; != x&quot;&quot; ||
+for mf in $CONFIG_FILES; do
+  case &quot;$mf&quot; in
+  Makefile|GNUmakefile) dirpart=.;;
+  */Makefile|*/GNUmakefile) dirpart=`echo &quot;$mf&quot; | sed -e 's|/[^/]*$||'`;;
+  *) continue;;
+  esac
+  grep '^DEP_FILES *= *[^ #]' &lt; &quot;$mf&quot; &gt; /dev/null || continue
+  # Extract the definition of DEP_FILES from the Makefile without
+  # running `make'.
+  DEPDIR=`sed -n -e '/^DEPDIR = / s///p' &lt; &quot;$mf&quot;`
+  test -z &quot;$DEPDIR&quot; &amp;&amp; continue
+  # When using ansi2knr, U may be empty or an underscore; expand it
+  U=`sed -n -e '/^U = / s///p' &lt; &quot;$mf&quot;`
+  test -d &quot;$dirpart/$DEPDIR&quot; || mkdir &quot;$dirpart/$DEPDIR&quot;
+  # We invoke sed twice because it is the simplest approach to
+  # changing $(DEPDIR) to its actual value in the expansion.
+  for file in `sed -n -e '
+    /^DEP_FILES = .*\\\\$/ {
+      s/^DEP_FILES = //
+      :loop
+	s/\\\\$//
+	p
+	n
+	/\\\\$/ b loop
+      p
+    }
+    /^DEP_FILES = / s/^DEP_FILES = //p' &lt; &quot;$mf&quot; | \
+       sed -e 's/\$(DEPDIR)/'&quot;$DEPDIR&quot;'/g' -e 's/\$U/'&quot;$U&quot;'/g'`; do
+    # Make sure the directory exists.
+    test -f &quot;$dirpart/$file&quot; &amp;&amp; continue
+    fdir=`echo &quot;$file&quot; | sed -e 's|/[^/]*$||'`
+    $ac_aux_dir/mkinstalldirs &quot;$dirpart/$fdir&quot; &gt; /dev/null 2&gt;&amp;1
+    # echo &quot;creating $dirpart/$file&quot;
+    echo '# dummy' &gt; &quot;$dirpart/$file&quot;
+  done
+done
+], [AMDEP_TRUE=&quot;$AMDEP_TRUE&quot;
+ac_aux_dir=&quot;$ac_aux_dir&quot;])])
+
+# AM_MAKE_INCLUDE()
+# -----------------
+# Check to see how make treats includes.
+AC_DEFUN([AM_MAKE_INCLUDE],
+[am_make=${MAKE-make}
+cat &gt; confinc &lt;&lt; 'END'
+doit:
+	@echo done
+END
+# If we don't find an include directive, just comment out the code.
+AC_MSG_CHECKING([for style of include used by $am_make])
+am__include='#'
+am__quote=
+_am_result=none
+# First try GNU make style include.
+echo &quot;include confinc&quot; &gt; confmf
+# We grep out `Entering directory' and `Leaving directory'
+# messages which can occur if `w' ends up in MAKEFLAGS.
+# In particular we don't look at `^make:' because GNU make might
+# be invoked under some other name (usually &quot;gmake&quot;), in which
+# case it prints its new name instead of `make'.
+if test &quot;`$am_make -s -f confmf 2&gt; /dev/null | fgrep -v 'ing directory'`&quot; = &quot;done&quot;; then
+   am__include=include
+   am__quote=
+   _am_result=GNU
+fi
+# Now try BSD make style include.
+if test &quot;$am__include&quot; = &quot;#&quot;; then
+   echo '.include &quot;confinc&quot;' &gt; confmf
+   if test &quot;`$am_make -s -f confmf 2&gt; /dev/null`&quot; = &quot;done&quot;; then
+      am__include=.include
+      am__quote='&quot;'
+      _am_result=BSD
+   fi
+fi
+AC_SUBST(am__include)
+AC_SUBST(am__quote)
+AC_MSG_RESULT($_am_result)
+rm -f confinc confmf
+])
+
+# serial 3
+
+# AM_CONDITIONAL(NAME, SHELL-CONDITION)
+# -------------------------------------
+# Define a conditional.
+#
+# FIXME: Once using 2.50, use this:
+# m4_match([$1], [^TRUE\|FALSE$], [AC_FATAL([$0: invalid condition: $1])])dnl
+AC_DEFUN([AM_CONDITIONAL],
+[ifelse([$1], [TRUE],
+        [errprint(__file__:__line__: [$0: invalid condition: $1
+])dnl
+m4exit(1)])dnl
+ifelse([$1], [FALSE],
+       [errprint(__file__:__line__: [$0: invalid condition: $1
+])dnl
+m4exit(1)])dnl
+AC_SUBST([$1_TRUE])
+AC_SUBST([$1_FALSE])
+if $2; then
+  $1_TRUE=
+  $1_FALSE='#'
+else
+  $1_TRUE='#'
+  $1_FALSE=
+fi])
+
+# libtool.m4 - Configure libtool for the host system. -*-Shell-script-*-
+
+# serial 46 AC_PROG_LIBTOOL
+
+AC_DEFUN([AC_PROG_LIBTOOL],
+[AC_REQUIRE([AC_LIBTOOL_SETUP])dnl
+
+# This can be used to rebuild libtool when needed
+LIBTOOL_DEPS=&quot;$ac_aux_dir/ltmain.sh&quot;
+
+# Always use our own libtool.
+LIBTOOL='$(SHELL) $(top_builddir)/libtool'
+AC_SUBST(LIBTOOL)dnl
+
+# Prevent multiple expansion
+define([AC_PROG_LIBTOOL], [])
+])
+
+AC_DEFUN([AC_LIBTOOL_SETUP],
+[AC_PREREQ(2.13)dnl
+AC_REQUIRE([AC_ENABLE_SHARED])dnl
+AC_REQUIRE([AC_ENABLE_STATIC])dnl
+AC_REQUIRE([AC_ENABLE_FAST_INSTALL])dnl
+AC_REQUIRE([AC_CANONICAL_HOST])dnl
+AC_REQUIRE([AC_CANONICAL_BUILD])dnl
+AC_REQUIRE([AC_PROG_CC])dnl
+AC_REQUIRE([AC_PROG_LD])dnl
+AC_REQUIRE([AC_PROG_LD_RELOAD_FLAG])dnl
+AC_REQUIRE([AC_PROG_NM])dnl
+AC_REQUIRE([LT_AC_PROG_SED])dnl
+
+AC_REQUIRE([AC_PROG_LN_S])dnl
+AC_REQUIRE([AC_DEPLIBS_CHECK_METHOD])dnl
+AC_REQUIRE([AC_OBJEXT])dnl
+AC_REQUIRE([AC_EXEEXT])dnl
+dnl
+
+_LT_AC_PROG_ECHO_BACKSLASH
+# Only perform the check for file, if the check method requires it
+case $deplibs_check_method in
+file_magic*)
+  if test &quot;$file_magic_cmd&quot; = '$MAGIC_CMD'; then
+    AC_PATH_MAGIC
+  fi
+  ;;
+esac
+
+AC_CHECK_TOOL(RANLIB, ranlib, :)
+AC_CHECK_TOOL(STRIP, strip, :)
+
+ifdef([AC_PROVIDE_AC_LIBTOOL_DLOPEN], enable_dlopen=yes, enable_dlopen=no)
+ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],
+enable_win32_dll=yes, enable_win32_dll=no)
+
+AC_ARG_ENABLE(libtool-lock,
+  [  --disable-libtool-lock  avoid locking (might break parallel builds)])
+test &quot;x$enable_libtool_lock&quot; != xno &amp;&amp; enable_libtool_lock=yes
+
+# Some flags need to be propagated to the compiler or linker for good
+# libtool support.
+case $host in
+*-*-irix6*)
+  # Find out which ABI we are using.
+  echo '[#]line __oline__ &quot;configure&quot;' &gt; conftest.$ac_ext
+  if AC_TRY_EVAL(ac_compile); then
+    case `/usr/bin/file conftest.$ac_objext` in
+    *32-bit*)
+      LD=&quot;${LD-ld} -32&quot;
+      ;;
+    *N32*)
+      LD=&quot;${LD-ld} -n32&quot;
+      ;;
+    *64-bit*)
+      LD=&quot;${LD-ld} -64&quot;
+      ;;
+    esac
+  fi
+  rm -rf conftest*
+  ;;
+
+*-*-linux*)
+  # Test if the compiler is 64bit
+  echo 'int i;' &gt; conftest.$ac_ext
+  lt_cv_cc_64bit_output=no
+  if AC_TRY_EVAL(ac_compile); then
+    case `/usr/bin/file conftest.$ac_objext` in
+    *&quot;ELF 64&quot;*)
+      lt_cv_cc_64bit_output=yes
+      ;;
+    esac
+  fi
+  rm -rf conftest*
+  ;;
+  
+*-*-sco3.2v5*)
+  # On SCO OpenServer 5, we need -belf to get full-featured binaries.
+  SAVE_CFLAGS=&quot;$CFLAGS&quot;
+  CFLAGS=&quot;$CFLAGS -belf&quot;
+  AC_CACHE_CHECK([whether the C compiler needs -belf], lt_cv_cc_needs_belf,
+    [AC_LANG_SAVE
+     AC_LANG_C
+     AC_TRY_LINK([],[],[lt_cv_cc_needs_belf=yes],[lt_cv_cc_needs_belf=no])
+     AC_LANG_RESTORE])
+  if test x&quot;$lt_cv_cc_needs_belf&quot; != x&quot;yes&quot;; then
+    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf
+    CFLAGS=&quot;$SAVE_CFLAGS&quot;
+  fi
+  ;;
+
+ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],
+[*-*-cygwin* | *-*-mingw* | *-*-pw32*)
+  AC_CHECK_TOOL(DLLTOOL, dlltool, false)
+  AC_CHECK_TOOL(AS, as, false)
+  AC_CHECK_TOOL(OBJDUMP, objdump, false)
+
+  # recent cygwin and mingw systems supply a stub DllMain which the user
+  # can override, but on older systems we have to supply one
+  AC_CACHE_CHECK([if libtool should supply DllMain function], lt_cv_need_dllmain,
+    [AC_TRY_LINK([],
+      [extern int __attribute__((__stdcall__)) DllMain(void*, int, void*);
+      DllMain (0, 0, 0);],
+      [lt_cv_need_dllmain=no],[lt_cv_need_dllmain=yes])])
+
+  case $host/$CC in
+  *-*-cygwin*/gcc*-mno-cygwin*|*-*-mingw*)
+    # old mingw systems require &quot;-dll&quot; to link a DLL, while more recent ones
+    # require &quot;-mdll&quot;
+    SAVE_CFLAGS=&quot;$CFLAGS&quot;
+    CFLAGS=&quot;$CFLAGS -mdll&quot;
+    AC_CACHE_CHECK([how to link DLLs], lt_cv_cc_dll_switch,
+      [AC_TRY_LINK([], [], [lt_cv_cc_dll_switch=-mdll],[lt_cv_cc_dll_switch=-dll])])
+    CFLAGS=&quot;$SAVE_CFLAGS&quot; ;;
+  *-*-cygwin* | *-*-pw32*)
+    # cygwin systems need to pass --dll to the linker, and not link
+    # crt.o which will require a <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">WinMain at 16</A> definition.
+    lt_cv_cc_dll_switch=&quot;-Wl,--dll -nostartfiles&quot; ;;
+  esac
+  ;;
+  ])
+esac
+
+_LT_AC_LTCONFIG_HACK
+
+])
+
+# AC_LIBTOOL_HEADER_ASSERT
+# ------------------------
+AC_DEFUN([AC_LIBTOOL_HEADER_ASSERT],
+[AC_CACHE_CHECK([whether $CC supports assert without backlinking],
+    [lt_cv_func_assert_works],
+    [case $host in
+    *-*-solaris*)
+      if test &quot;$GCC&quot; = yes &amp;&amp; test &quot;$with_gnu_ld&quot; != yes; then
+        case `$CC --version 2&gt;/dev/null` in
+        [[12]].*) lt_cv_func_assert_works=no ;;
+        *)        lt_cv_func_assert_works=yes ;;
+        esac
+      fi
+      ;;
+    esac])
+
+if test &quot;x$lt_cv_func_assert_works&quot; = xyes; then
+  AC_CHECK_HEADERS(assert.h)
+fi
+])# AC_LIBTOOL_HEADER_ASSERT
+
+# _LT_AC_CHECK_DLFCN
+# --------------------
+AC_DEFUN([_LT_AC_CHECK_DLFCN],
+[AC_CHECK_HEADERS(dlfcn.h)
+])# _LT_AC_CHECK_DLFCN
+
+# AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE
+# ---------------------------------
+AC_DEFUN([AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE],
+[AC_REQUIRE([AC_CANONICAL_HOST])
+AC_REQUIRE([AC_PROG_NM])
+AC_REQUIRE([AC_OBJEXT])
+# Check for command to grab the raw symbol name followed by C symbol from nm.
+AC_MSG_CHECKING([command to parse $NM output])
+AC_CACHE_VAL([lt_cv_sys_global_symbol_pipe], [dnl
+
+# These are sane defaults that work on at least a few old systems.
+# [They come from Ultrix.  What could be older than Ultrix?!! ;)]
+
+# Character class describing NM global symbol codes.
+symcode='[[BCDEGRST]]'
+
+# Regexp to match symbols that can be accessed directly from C.
+sympat='\([[_A-Za-z]][[_A-Za-z0-9]]*\)'
+
+# Transform the above into a raw symbol and a C symbol.
+symxfrm='\1 \2\3 \3'
+
+# Transform an extracted symbol line into a proper C declaration
+lt_cv_global_symbol_to_cdecl=&quot;sed -n -e 's/^. .* \(.*\)$/extern char \1;/p'&quot;
+
+# Transform an extracted symbol line into symbol name and symbol address
+lt_cv_global_symbol_to_c_name_address=&quot;sed -n -e 's/^: \([[^ ]]*\) $/  {\\\&quot;\1\\\&quot;, (lt_ptr) 0},/p' -e 's/^$symcode \([[^ ]]*\) \([[^ ]]*\)$/  {\&quot;\2\&quot;, (lt_ptr) \&amp;\2},/p'&quot;
+
+# Define system-specific variables.
+case $host_os in
+aix*)
+  symcode='[[BCDT]]'
+  ;;
+cygwin* | mingw* | pw32*)
+  symcode='[[ABCDGISTW]]'
+  ;;
+hpux*) # Its linker distinguishes data from code symbols
+  lt_cv_global_symbol_to_cdecl=&quot;sed -n -e 's/^T .* \(.*\)$/extern char \1();/p' -e 's/^$symcode* .* \(.*\)$/extern char \1;/p'&quot;
+  lt_cv_global_symbol_to_c_name_address=&quot;sed -n -e 's/^: \([[^ ]]*\) $/  {\\\&quot;\1\\\&quot;, (lt_ptr) 0},/p' -e 's/^$symcode* \([[^ ]]*\) \([[^ ]]*\)$/  {\&quot;\2\&quot;, (lt_ptr) \&amp;\2},/p'&quot;
+  ;;
+irix* | nonstopux*)
+  symcode='[[BCDEGRST]]'
+  ;;
+osf*)
+  symcode='[[BCDEGQRST]]'
+  ;;
+solaris* | sysv5*)
+  symcode='[[BDT]]'
+  ;;
+sysv4)
+  symcode='[[DFNSTU]]'
+  ;;
+esac
+
+# Handle CRLF in mingw tool chain
+opt_cr=
+case $host_os in
+mingw*)
+  opt_cr=`echo 'x\{0,1\}' | tr x '\015'` # option cr in regexp
+  ;;
+esac
+
+# If we're using GNU nm, then use its standard symbol codes.
+if $NM -V 2&gt;&amp;1 | egrep '(GNU|with BFD)' &gt; /dev/null; then
+  symcode='[[ABCDGISTW]]'
+fi
+
+# Try without a prefix undercore, then with it.
+for ac_symprfx in &quot;&quot; &quot;_&quot;; do
+
+  # Write the raw and C identifiers.
+lt_cv_sys_global_symbol_pipe=&quot;sed -n -e 's/^.*[[ 	]]\($symcode$symcode*\)[[ 	]][[ 	]]*\($ac_symprfx\)$sympat$opt_cr$/$symxfrm/p'&quot;
+
+  # Check to see that the pipe works correctly.
+  pipe_works=no
+  rm -f conftest*
+  cat &gt; conftest.$ac_ext &lt;&lt;EOF
+#ifdef __cplusplus
+extern &quot;C&quot; {
+#endif
+char nm_test_var;
+void nm_test_func(){}
+#ifdef __cplusplus
+}
+#endif
+int main(){nm_test_var='a';nm_test_func();return(0);}
+EOF
+
+  if AC_TRY_EVAL(ac_compile); then
+    # Now try to grab the symbols.
+    nlist=conftest.nm
+    if AC_TRY_EVAL(NM conftest.$ac_objext \| $lt_cv_sys_global_symbol_pipe \&gt; $nlist) &amp;&amp; test -s &quot;$nlist&quot;; then
+      # Try sorting and uniquifying the output.
+      if sort &quot;$nlist&quot; | uniq &gt; &quot;$nlist&quot;T; then
+	mv -f &quot;$nlist&quot;T &quot;$nlist&quot;
+      else
+	rm -f &quot;$nlist&quot;T
+      fi
+
+      # Make sure that we snagged all the symbols we need.
+      if egrep ' nm_test_var$' &quot;$nlist&quot; &gt;/dev/null; then
+	if egrep ' nm_test_func$' &quot;$nlist&quot; &gt;/dev/null; then
+	  cat &lt;&lt;EOF &gt; conftest.$ac_ext
+#ifdef __cplusplus
+extern &quot;C&quot; {
+#endif
+
+EOF
+	  # Now generate the symbol file.
+	  eval &quot;$lt_cv_global_symbol_to_cdecl&quot;' &lt; &quot;$nlist&quot; &gt;&gt; conftest.$ac_ext'
+
+	  cat &lt;&lt;EOF &gt;&gt; conftest.$ac_ext
+#if defined (__STDC__) &amp;&amp; __STDC__
+# define lt_ptr void *
+#else
+# define lt_ptr char *
+# define const
+#endif
+
+/* The mapping between symbol names and symbols. */
+const struct {
+  const char *name;
+  lt_ptr address;
+}
+lt_preloaded_symbols[[]] =
+{
+EOF
+	  sed &quot;s/^$symcode$symcode* \(.*\) \(.*\)$/  {\&quot;\2\&quot;, (lt_ptr) \&amp;\2},/&quot; &lt; &quot;$nlist&quot; &gt;&gt; conftest.$ac_ext
+	  cat &lt;&lt;\EOF &gt;&gt; conftest.$ac_ext
+  {0, (lt_ptr) 0}
+};
+
+#ifdef __cplusplus
+}
+#endif
+EOF
+	  # Now try linking the two files.
+	  mv conftest.$ac_objext conftstm.$ac_objext
+	  save_LIBS=&quot;$LIBS&quot;
+	  save_CFLAGS=&quot;$CFLAGS&quot;
+	  LIBS=&quot;conftstm.$ac_objext&quot;
+	  CFLAGS=&quot;$CFLAGS$no_builtin_flag&quot;
+	  if AC_TRY_EVAL(ac_link) &amp;&amp; test -s conftest$ac_exeext; then
+	    pipe_works=yes
+	  fi
+	  LIBS=&quot;$save_LIBS&quot;
+	  CFLAGS=&quot;$save_CFLAGS&quot;
+	else
+	  echo &quot;cannot find nm_test_func in $nlist&quot; &gt;&amp;AC_FD_CC
+	fi
+      else
+	echo &quot;cannot find nm_test_var in $nlist&quot; &gt;&amp;AC_FD_CC
+      fi
+    else
+      echo &quot;cannot run $lt_cv_sys_global_symbol_pipe&quot; &gt;&amp;AC_FD_CC
+    fi
+  else
+    echo &quot;$progname: failed program was:&quot; &gt;&amp;AC_FD_CC
+    cat conftest.$ac_ext &gt;&amp;5
+  fi
+  rm -f conftest* conftst*
+
+  # Do not use the global_symbol_pipe unless it works.
+  if test &quot;$pipe_works&quot; = yes; then
+    break
+  else
+    lt_cv_sys_global_symbol_pipe=
+  fi
+done
+])
+global_symbol_pipe=&quot;$lt_cv_sys_global_symbol_pipe&quot;
+if test -z &quot;$lt_cv_sys_global_symbol_pipe&quot;; then
+  global_symbol_to_cdecl=
+  global_symbol_to_c_name_address=
+else
+  global_symbol_to_cdecl=&quot;$lt_cv_global_symbol_to_cdecl&quot;
+  global_symbol_to_c_name_address=&quot;$lt_cv_global_symbol_to_c_name_address&quot;
+fi
+if test -z &quot;$global_symbol_pipe$global_symbol_to_cdec$global_symbol_to_c_name_address&quot;;
+then
+  AC_MSG_RESULT(failed)
+else
+  AC_MSG_RESULT(ok)
+fi
+]) # AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE
+
+# _LT_AC_LIBTOOL_SYS_PATH_SEPARATOR
+# ---------------------------------
+AC_DEFUN([_LT_AC_LIBTOOL_SYS_PATH_SEPARATOR],
+[# Find the correct PATH separator.  Usually this is `:', but
+# DJGPP uses `;' like DOS.
+if test &quot;X${PATH_SEPARATOR+set}&quot; != Xset; then
+  UNAME=${UNAME-`uname 2&gt;/dev/null`}
+  case X$UNAME in
+    *-DOS) lt_cv_sys_path_separator=';' ;;
+    *)     lt_cv_sys_path_separator=':' ;;
+  esac
+  PATH_SEPARATOR=$lt_cv_sys_path_separator
+fi
+])# _LT_AC_LIBTOOL_SYS_PATH_SEPARATOR
+
+# _LT_AC_PROG_ECHO_BACKSLASH
+# --------------------------
+# Add some code to the start of the generated configure script which
+# will find an echo command which doesn't interpret backslashes.
+AC_DEFUN([_LT_AC_PROG_ECHO_BACKSLASH],
+[ifdef([AC_DIVERSION_NOTICE], [AC_DIVERT_PUSH(AC_DIVERSION_NOTICE)],
+			      [AC_DIVERT_PUSH(NOTICE)])
+_LT_AC_LIBTOOL_SYS_PATH_SEPARATOR
+
+# Check that we are running under the correct shell.
+SHELL=${CONFIG_SHELL-/bin/sh}
+
+case X$ECHO in
+X*--fallback-echo)
+  # Remove one level of quotation (which was required for Make).
+  ECHO=`echo &quot;$ECHO&quot; | sed 's,\\\\\[$]\\[$]0,'[$]0','`
+  ;;
+esac
+
+echo=${ECHO-echo}
+if test &quot;X[$]1&quot; = X--no-reexec; then
+  # Discard the --no-reexec flag, and continue.
+  shift
+elif test &quot;X[$]1&quot; = X--fallback-echo; then
+  # Avoid inline document here, it may be left over
+  :
+elif test &quot;X`($echo '\t') 2&gt;/dev/null`&quot; = 'X\t'; then
+  # Yippee, $echo works!
+  :
+else
+  # Restart under the correct shell.
+  exec $SHELL &quot;[$]0&quot; --no-reexec ${1+&quot;[$]@&quot;}
+fi
+
+if test &quot;X[$]1&quot; = X--fallback-echo; then
+  # used as fallback echo
+  shift
+  cat &lt;&lt;EOF
+$*
+EOF
+  exit 0
+fi
+
+# The HP-UX ksh and POSIX shell print the target directory to stdout
+# if CDPATH is set.
+if test &quot;X${CDPATH+set}&quot; = Xset; then CDPATH=:; export CDPATH; fi
+
+if test -z &quot;$ECHO&quot;; then
+if test &quot;X${echo_test_string+set}&quot; != Xset; then
+# find a string as large as possible, as long as the shell can cope with it
+  for cmd in 'sed 50q &quot;[$]0&quot;' 'sed 20q &quot;[$]0&quot;' 'sed 10q &quot;[$]0&quot;' 'sed 2q &quot;[$]0&quot;' 'echo test'; do
+    # expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...
+    if (echo_test_string=&quot;`eval $cmd`&quot;) 2&gt;/dev/null &amp;&amp;
+       echo_test_string=&quot;`eval $cmd`&quot; &amp;&amp;
+       (test &quot;X$echo_test_string&quot; = &quot;X$echo_test_string&quot;) 2&gt;/dev/null
+    then
+      break
+    fi
+  done
+fi
+
+if test &quot;X`($echo '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
+   echo_testing_string=`($echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+   test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+  :
+else
+  # The Solaris, AIX, and Digital Unix default echo programs unquote
+  # backslashes.  This makes it impossible to quote backslashes using
+  #   echo &quot;$something&quot; | sed 's/\\/\\\\/g'
+  #
+  # So, first we look for a working echo in the user's PATH.
+
+  IFS=&quot;${IFS= 	}&quot;; save_ifs=&quot;$IFS&quot;; IFS=$PATH_SEPARATOR
+  for dir in $PATH /usr/ucb; do
+    if (test -f $dir/echo || test -f $dir/echo$ac_exeext) &amp;&amp;
+       test &quot;X`($dir/echo '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
+       echo_testing_string=`($dir/echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+       test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+      echo=&quot;$dir/echo&quot;
+      break
+    fi
+  done
+  IFS=&quot;$save_ifs&quot;
+
+  if test &quot;X$echo&quot; = Xecho; then
+    # We didn't find a better echo, so look for alternatives.
+    if test &quot;X`(print -r '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
+       echo_testing_string=`(print -r &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+       test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+      # This shell has a builtin print -r that does the trick.
+      echo='print -r'
+    elif (test -f /bin/ksh || test -f /bin/ksh$ac_exeext) &amp;&amp;
+	 test &quot;X$CONFIG_SHELL&quot; != X/bin/ksh; then
+      # If we have ksh, try running configure again with it.
+      ORIGINAL_CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
+      export ORIGINAL_CONFIG_SHELL
+      CONFIG_SHELL=/bin/ksh
+      export CONFIG_SHELL
+      exec $CONFIG_SHELL &quot;[$]0&quot; --no-reexec ${1+&quot;[$]@&quot;}
+    else
+      # Try using printf.
+      echo='printf %s\n'
+      if test &quot;X`($echo '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
+	 echo_testing_string=`($echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+	 test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+	# Cool, printf works
+	:
+      elif echo_testing_string=`($ORIGINAL_CONFIG_SHELL &quot;[$]0&quot; --fallback-echo '\t') 2&gt;/dev/null` &amp;&amp;
+	   test &quot;X$echo_testing_string&quot; = 'X\t' &amp;&amp;
+	   echo_testing_string=`($ORIGINAL_CONFIG_SHELL &quot;[$]0&quot; --fallback-echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+	   test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+	CONFIG_SHELL=$ORIGINAL_CONFIG_SHELL
+	export CONFIG_SHELL
+	SHELL=&quot;$CONFIG_SHELL&quot;
+	export SHELL
+	echo=&quot;$CONFIG_SHELL [$]0 --fallback-echo&quot;
+      elif echo_testing_string=`($CONFIG_SHELL &quot;[$]0&quot; --fallback-echo '\t') 2&gt;/dev/null` &amp;&amp;
+	   test &quot;X$echo_testing_string&quot; = 'X\t' &amp;&amp;
+	   echo_testing_string=`($CONFIG_SHELL &quot;[$]0&quot; --fallback-echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+	   test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+	echo=&quot;$CONFIG_SHELL [$]0 --fallback-echo&quot;
+      else
+	# maybe with a smaller string...
+	prev=:
+
+	for cmd in 'echo test' 'sed 2q &quot;[$]0&quot;' 'sed 10q &quot;[$]0&quot;' 'sed 20q &quot;[$]0&quot;' 'sed 50q &quot;[$]0&quot;'; do
+	  if (test &quot;X$echo_test_string&quot; = &quot;X`eval $cmd`&quot;) 2&gt;/dev/null
+	  then
+	    break
+	  fi
+	  prev=&quot;$cmd&quot;
+	done
+
+	if test &quot;$prev&quot; != 'sed 50q &quot;[$]0&quot;'; then
+	  echo_test_string=`eval $prev`
+	  export echo_test_string
+	  exec ${ORIGINAL_CONFIG_SHELL-${CONFIG_SHELL-/bin/sh}} &quot;[$]0&quot; ${1+&quot;[$]@&quot;}
+	else
+	  # Oops.  We lost completely, so just stick with echo.
+	  echo=echo
+	fi
+      fi
+    fi
+  fi
+fi
+fi
+
+# Copy echo and quote the copy suitably for passing to libtool from
+# the Makefile, instead of quoting the original, which is used later.
+ECHO=$echo
+if test &quot;X$ECHO&quot; = &quot;X$CONFIG_SHELL [$]0 --fallback-echo&quot;; then
+   ECHO=&quot;$CONFIG_SHELL \\\$\[$]0 --fallback-echo&quot;
+fi
+
+AC_SUBST(ECHO)
+AC_DIVERT_POP
+])# _LT_AC_PROG_ECHO_BACKSLASH
+
+# _LT_AC_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
+#                           ACTION-IF-FALSE, ACTION-IF-CROSS-COMPILING)
+# ------------------------------------------------------------------
+AC_DEFUN([_LT_AC_TRY_DLOPEN_SELF],
+[if test &quot;$cross_compiling&quot; = yes; then :
+  [$4]
+else
+  AC_REQUIRE([_LT_AC_CHECK_DLFCN])dnl
+  lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+  lt_status=$lt_dlunknown
+  cat &gt; conftest.$ac_ext &lt;&lt;EOF
+[#line __oline__ &quot;configure&quot;
+#include &quot;confdefs.h&quot;
+
+#if HAVE_DLFCN_H
+#include &lt;dlfcn.h&gt;
+#endif
+
+#include &lt;stdio.h&gt;
+
+#ifdef RTLD_GLOBAL
+#  define LT_DLGLOBAL		RTLD_GLOBAL
+#else
+#  ifdef DL_GLOBAL
+#    define LT_DLGLOBAL		DL_GLOBAL
+#  else
+#    define LT_DLGLOBAL		0
+#  endif
+#endif
+
+/* We may have to define LT_DLLAZY_OR_NOW in the command line if we
+   find out it does not work in some platform. */
+#ifndef LT_DLLAZY_OR_NOW
+#  ifdef RTLD_LAZY
+#    define LT_DLLAZY_OR_NOW		RTLD_LAZY
+#  else
+#    ifdef DL_LAZY
+#      define LT_DLLAZY_OR_NOW		DL_LAZY
+#    else
+#      ifdef RTLD_NOW
+#        define LT_DLLAZY_OR_NOW	RTLD_NOW
+#      else
+#        ifdef DL_NOW
+#          define LT_DLLAZY_OR_NOW	DL_NOW
+#        else
+#          define LT_DLLAZY_OR_NOW	0
+#        endif
+#      endif
+#    endif
+#  endif
+#endif
+
+#ifdef __cplusplus
+extern &quot;C&quot; void exit (int);
+#endif
+
+void fnord() { int i=42;}
+int main ()
+{
+  void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
+  int status = $lt_dlunknown;
+
+  if (self)
+    {
+      if (dlsym (self,&quot;fnord&quot;))       status = $lt_dlno_uscore;
+      else if (dlsym( self,&quot;_fnord&quot;)) status = $lt_dlneed_uscore;
+      /* dlclose (self); */
+    }
+
+    exit (status);
+}]
+EOF
+  if AC_TRY_EVAL(ac_link) &amp;&amp; test -s conftest${ac_exeext} 2&gt;/dev/null; then
+    (./conftest; exit; ) 2&gt;/dev/null
+    lt_status=$?
+    case x$lt_status in
+      x$lt_dlno_uscore) $1 ;;
+      x$lt_dlneed_uscore) $2 ;;
+      x$lt_unknown|x*) $3 ;;
+    esac
+  else :
+    # compilation failed
+    $3
+  fi
+fi
+rm -fr conftest*
+])# _LT_AC_TRY_DLOPEN_SELF
+
+# AC_LIBTOOL_DLOPEN_SELF
+# -------------------
+AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF],
+[if test &quot;x$enable_dlopen&quot; != xyes; then
+  enable_dlopen=unknown
+  enable_dlopen_self=unknown
+  enable_dlopen_self_static=unknown
+else
+  lt_cv_dlopen=no
+  lt_cv_dlopen_libs=
+
+  case $host_os in
+  beos*)
+    lt_cv_dlopen=&quot;load_add_on&quot;
+    lt_cv_dlopen_libs=
+    lt_cv_dlopen_self=yes
+    ;;
+
+  cygwin* | mingw* | pw32*)
+    lt_cv_dlopen=&quot;LoadLibrary&quot;
+    lt_cv_dlopen_libs=
+   ;;
+
+  *)
+    AC_CHECK_FUNC([shl_load],
+          [lt_cv_dlopen=&quot;shl_load&quot;],
+      [AC_CHECK_LIB([dld], [shl_load],
+            [lt_cv_dlopen=&quot;shl_load&quot; lt_cv_dlopen_libs=&quot;-dld&quot;],
+	[AC_CHECK_FUNC([dlopen],
+	      [lt_cv_dlopen=&quot;dlopen&quot;],
+	  [AC_CHECK_LIB([dl], [dlopen],
+	        [lt_cv_dlopen=&quot;dlopen&quot; lt_cv_dlopen_libs=&quot;-ldl&quot;],
+	    [AC_CHECK_LIB([svld], [dlopen],
+	          [lt_cv_dlopen=&quot;dlopen&quot; lt_cv_dlopen_libs=&quot;-lsvld&quot;],
+	      [AC_CHECK_LIB([dld], [dld_link],
+	            [lt_cv_dlopen=&quot;dld_link&quot; lt_cv_dlopen_libs=&quot;-dld&quot;])
+	      ])
+	    ])
+	  ])
+	])
+      ])
+    ;;
+  esac
+
+  if test &quot;x$lt_cv_dlopen&quot; != xno; then
+    enable_dlopen=yes
+  else
+    enable_dlopen=no
+  fi
+
+  case $lt_cv_dlopen in
+  dlopen)
+    save_CPPFLAGS=&quot;$CPPFLAGS&quot;
+    AC_REQUIRE([_LT_AC_CHECK_DLFCN])dnl
+    test &quot;x$ac_cv_header_dlfcn_h&quot; = xyes &amp;&amp; CPPFLAGS=&quot;$CPPFLAGS -DHAVE_DLFCN_H&quot;
+
+    save_LDFLAGS=&quot;$LDFLAGS&quot;
+    eval LDFLAGS=\&quot;\$LDFLAGS $export_dynamic_flag_spec\&quot;
+
+    save_LIBS=&quot;$LIBS&quot;
+    LIBS=&quot;$lt_cv_dlopen_libs $LIBS&quot;
+
+    AC_CACHE_CHECK([whether a program can dlopen itself],
+	  lt_cv_dlopen_self, [dnl
+	  _LT_AC_TRY_DLOPEN_SELF(
+	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
+	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
+    ])
+
+    if test &quot;x$lt_cv_dlopen_self&quot; = xyes; then
+      LDFLAGS=&quot;$LDFLAGS $link_static_flag&quot;
+      AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
+    	  lt_cv_dlopen_self_static, [dnl
+	  _LT_AC_TRY_DLOPEN_SELF(
+	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
+	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
+      ])
+    fi
+
+    CPPFLAGS=&quot;$save_CPPFLAGS&quot;
+    LDFLAGS=&quot;$save_LDFLAGS&quot;
+    LIBS=&quot;$save_LIBS&quot;
+    ;;
+  esac
+
+  case $lt_cv_dlopen_self in
+  yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
+  *) enable_dlopen_self=unknown ;;
+  esac
+
+  case $lt_cv_dlopen_self_static in
+  yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
+  *) enable_dlopen_self_static=unknown ;;
+  esac
+fi
+])# AC_LIBTOOL_DLOPEN_SELF
+
+AC_DEFUN([_LT_AC_LTCONFIG_HACK],
+[AC_REQUIRE([AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE])dnl
+# Sed substitution that helps us do robust quoting.  It backslashifies
+# metacharacters that are still active within double-quoted strings.
+Xsed='sed -e s/^X//'
+sed_quote_subst='s/\([[\\&quot;\\`$\\\\]]\)/\\\1/g'
+
+# Same as above, but do not quote variable references.
+double_quote_subst='s/\([[\\&quot;\\`\\\\]]\)/\\\1/g'
+
+# Sed substitution to delay expansion of an escaped shell variable in a
+# double_quote_subst'ed string.
+delay_variable_subst='s/\\\\\\\\\\\$/\\\\\\$/g'
+
+# Constants:
+rm=&quot;rm -f&quot;
+
+# Global variables:
+default_ofile=libtool
+can_build_shared=yes
+
+# All known linkers require a `.a' archive for static linking (except M$VC,
+# which needs '.lib').
+libext=a
+ltmain=&quot;$ac_aux_dir/ltmain.sh&quot;
+ofile=&quot;$default_ofile&quot;
+with_gnu_ld=&quot;$lt_cv_prog_gnu_ld&quot;
+need_locks=&quot;$enable_libtool_lock&quot;
+
+old_CC=&quot;$CC&quot;
+old_CFLAGS=&quot;$CFLAGS&quot;
+
+# Set sane defaults for various variables
+test -z &quot;$AR&quot; &amp;&amp; AR=ar
+test -z &quot;$AR_FLAGS&quot; &amp;&amp; AR_FLAGS=cru
+test -z &quot;$AS&quot; &amp;&amp; AS=as
+test -z &quot;$CC&quot; &amp;&amp; CC=cc
+test -z &quot;$DLLTOOL&quot; &amp;&amp; DLLTOOL=dlltool
+test -z &quot;$LD&quot; &amp;&amp; LD=ld
+test -z &quot;$LN_S&quot; &amp;&amp; LN_S=&quot;ln -s&quot;
+test -z &quot;$MAGIC_CMD&quot; &amp;&amp; MAGIC_CMD=file
+test -z &quot;$NM&quot; &amp;&amp; NM=nm
+test -z &quot;$OBJDUMP&quot; &amp;&amp; OBJDUMP=objdump
+test -z &quot;$RANLIB&quot; &amp;&amp; RANLIB=:
+test -z &quot;$STRIP&quot; &amp;&amp; STRIP=:
+test -z &quot;$ac_objext&quot; &amp;&amp; ac_objext=o
+
+if test x&quot;$host&quot; != x&quot;$build&quot;; then
+  ac_tool_prefix=${host_alias}-
+else
+  ac_tool_prefix=
+fi
+
+# Transform linux* to *-*-linux-gnu*, to support old configure scripts.
+case $host_os in
+linux-gnu*|linux-uclibc*) ;;
+linux*) host=`echo $host | sed 's/^\(.*-.*-linux\)\(.*\)$/\1-gnu\2/'`
+esac
+
+case $host_os in
+aix3*)
+  # AIX sometimes has problems with the GCC collect2 program.  For some
+  # reason, if we set the COLLECT_NAMES environment variable, the problems
+  # vanish in a puff of smoke.
+  if test &quot;X${COLLECT_NAMES+set}&quot; != Xset; then
+    COLLECT_NAMES=
+    export COLLECT_NAMES
+  fi
+  ;;
+esac
+
+# Determine commands to create old-style static archives.
+old_archive_cmds='$AR $AR_FLAGS $oldlib$oldobjs$old_deplibs'
+old_postinstall_cmds='chmod 644 $oldlib'
+old_postuninstall_cmds=
+
+if test -n &quot;$RANLIB&quot;; then
+  case $host_os in
+  openbsd*)
+    old_postinstall_cmds=&quot;\$RANLIB -t \$oldlib~$old_postinstall_cmds&quot;
+    ;;
+  *)
+    old_postinstall_cmds=&quot;\$RANLIB \$oldlib~$old_postinstall_cmds&quot;
+    ;;
+  esac
+  old_archive_cmds=&quot;$old_archive_cmds~\$RANLIB \$oldlib&quot;
+fi
+
+# Allow CC to be a program name with arguments.
+set dummy $CC
+compiler=&quot;[$]2&quot;
+
+AC_MSG_CHECKING([for objdir])
+rm -f .libs 2&gt;/dev/null
+mkdir .libs 2&gt;/dev/null
+if test -d .libs; then
+  objdir=.libs
+else
+  # MS-DOS does not allow filenames that begin with a dot.
+  objdir=_libs
+fi
+rmdir .libs 2&gt;/dev/null
+AC_MSG_RESULT($objdir)
+
+
+AC_ARG_WITH(pic,
+[  --with-pic              try to use only PIC/non-PIC objects [default=use both]],
+pic_mode=&quot;$withval&quot;, pic_mode=default)
+test -z &quot;$pic_mode&quot; &amp;&amp; pic_mode=default
+
+# We assume here that the value for lt_cv_prog_cc_pic will not be cached
+# in isolation, and that seeing it set (from the cache) indicates that
+# the associated values are set (in the cache) correctly too.
+AC_MSG_CHECKING([for $compiler option to produce PIC])
+AC_CACHE_VAL(lt_cv_prog_cc_pic,
+[ lt_cv_prog_cc_pic=
+  lt_cv_prog_cc_shlib=
+  lt_cv_prog_cc_wl=
+  lt_cv_prog_cc_static=
+  lt_cv_prog_cc_no_builtin=
+  lt_cv_prog_cc_can_build_shared=$can_build_shared
+
+  if test &quot;$GCC&quot; = yes; then
+    lt_cv_prog_cc_wl='-Wl,'
+    lt_cv_prog_cc_static='-static'
+
+    case $host_os in
+    aix*)
+      # Below there is a dirty hack to force normal static linking with -ldl
+      # The problem is because libdl dynamically linked with both libc and
+      # libC (AIX C++ library), which obviously doesn't included in libraries
+      # list by gcc. This cause undefined symbols with -static flags.
+      # This hack allows C programs to be linked with &quot;-static -ldl&quot;, but
+      # not sure about C++ programs.
+      lt_cv_prog_cc_static=&quot;$lt_cv_prog_cc_static ${lt_cv_prog_cc_wl}-lC&quot;
+      ;;
+    amigaos*)
+      # FIXME: we need at least 68020 code to build shared libraries, but
+      # adding the `-m68020' flag to GCC prevents building anything better,
+      # like `-m68040'.
+      lt_cv_prog_cc_pic='-m68020 -resident32 -malways-restore-a4'
+      ;;
+    beos* | irix5* | irix6* | nonstopux* | osf3* | osf4* | osf5*)
+      # PIC is the default for these OSes.
+      ;;
+    darwin* | rhapsody*)
+      # PIC is the default on this platform
+      # Common symbols not allowed in MH_DYLIB files
+      lt_cv_prog_cc_pic='-fno-common'
+      ;;
+    cygwin* | mingw* | pw32* | os2*)
+      # This hack is so that the source file can tell whether it is being
+      # built for inclusion in a dll (and should export symbols for example).
+      lt_cv_prog_cc_pic='-DDLL_EXPORT'
+      ;;
+    sysv4*MP*)
+      if test -d /usr/nec; then
+	 lt_cv_prog_cc_pic=-Kconform_pic
+      fi
+      ;;
+    *)
+      lt_cv_prog_cc_pic='-fPIC'
+      ;;
+    esac
+  else
+    # PORTME Check for PIC flags for the system compiler.
+    case $host_os in
+    aix3* | aix4* | aix5*)
+      lt_cv_prog_cc_wl='-Wl,'
+      # All AIX code is PIC.
+      if test &quot;$host_cpu&quot; = ia64; then
+	# AIX 5 now supports IA64 processor
+	lt_cv_prog_cc_static='-Bstatic'
+      else
+	lt_cv_prog_cc_static='-bnso -bI:/lib/syscalls.exp'
+      fi
+      ;;
+
+    hpux9* | hpux10* | hpux11*)
+      # Is there a better lt_cv_prog_cc_static that works with the bundled CC?
+      lt_cv_prog_cc_wl='-Wl,'
+      lt_cv_prog_cc_static=&quot;${lt_cv_prog_cc_wl}-a ${lt_cv_prog_cc_wl}archive&quot;
+      lt_cv_prog_cc_pic='+Z'
+      ;;
+
+    irix5* | irix6* | nonstopux*)
+      lt_cv_prog_cc_wl='-Wl,'
+      lt_cv_prog_cc_static='-non_shared'
+      # PIC (with -KPIC) is the default.
+      ;;
+
+    cygwin* | mingw* | pw32* | os2*)
+      # This hack is so that the source file can tell whether it is being
+      # built for inclusion in a dll (and should export symbols for example).
+      lt_cv_prog_cc_pic='-DDLL_EXPORT'
+      ;;
+
+    newsos6)
+      lt_cv_prog_cc_pic='-KPIC'
+      lt_cv_prog_cc_static='-Bstatic'
+      ;;
+
+    osf3* | osf4* | osf5*)
+      # All OSF/1 code is PIC.
+      lt_cv_prog_cc_wl='-Wl,'
+      lt_cv_prog_cc_static='-non_shared'
+      ;;
+
+    sco3.2v5*)
+      lt_cv_prog_cc_pic='-Kpic'
+      lt_cv_prog_cc_static='-dn'
+      lt_cv_prog_cc_shlib='-belf'
+      ;;
+
+    solaris*)
+      lt_cv_prog_cc_pic='-KPIC'
+      lt_cv_prog_cc_static='-Bstatic'
+      lt_cv_prog_cc_wl='-Wl,'
+      ;;
+
+    sunos4*)
+      lt_cv_prog_cc_pic='-PIC'
+      lt_cv_prog_cc_static='-Bstatic'
+      lt_cv_prog_cc_wl='-Qoption ld '
+      ;;
+
+    sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+      lt_cv_prog_cc_pic='-KPIC'
+      lt_cv_prog_cc_static='-Bstatic'
+      lt_cv_prog_cc_wl='-Wl,'
+      ;;
+
+    uts4*)
+      lt_cv_prog_cc_pic='-pic'
+      lt_cv_prog_cc_static='-Bstatic'
+      ;;
+
+    sysv4*MP*)
+      if test -d /usr/nec ;then
+	lt_cv_prog_cc_pic='-Kconform_pic'
+	lt_cv_prog_cc_static='-Bstatic'
+      fi
+      ;;
+
+    *)
+      lt_cv_prog_cc_can_build_shared=no
+      ;;
+    esac
+  fi
+])
+if test -z &quot;$lt_cv_prog_cc_pic&quot;; then
+  AC_MSG_RESULT([none])
+else
+  AC_MSG_RESULT([$lt_cv_prog_cc_pic])
+
+  # Check to make sure the pic_flag actually works.
+  AC_MSG_CHECKING([if $compiler PIC flag $lt_cv_prog_cc_pic works])
+  AC_CACHE_VAL(lt_cv_prog_cc_pic_works, [dnl
+    save_CFLAGS=&quot;$CFLAGS&quot;
+    CFLAGS=&quot;$CFLAGS $lt_cv_prog_cc_pic -DPIC&quot;
+    AC_TRY_COMPILE([], [], [dnl
+      case $host_os in
+      hpux9* | hpux10* | hpux11*)
+	# On HP-UX, both CC and GCC only warn that PIC is supported... then
+	# they create non-PIC objects.  So, if there were any warnings, we
+	# assume that PIC is not supported.
+	if test -s conftest.err; then
+	  lt_cv_prog_cc_pic_works=no
+	else
+	  lt_cv_prog_cc_pic_works=yes
+	fi
+	;;
+      *)
+	lt_cv_prog_cc_pic_works=yes
+	;;
+      esac
+    ], [dnl
+      lt_cv_prog_cc_pic_works=no
+    ])
+    CFLAGS=&quot;$save_CFLAGS&quot;
+  ])
+
+  if test &quot;X$lt_cv_prog_cc_pic_works&quot; = Xno; then
+    lt_cv_prog_cc_pic=
+    lt_cv_prog_cc_can_build_shared=no
+  else
+    lt_cv_prog_cc_pic=&quot; $lt_cv_prog_cc_pic&quot;
+  fi
+
+  AC_MSG_RESULT([$lt_cv_prog_cc_pic_works])
+fi
+
+# Check for any special shared library compilation flags.
+if test -n &quot;$lt_cv_prog_cc_shlib&quot;; then
+  AC_MSG_WARN([\`$CC' requires \`$lt_cv_prog_cc_shlib' to build shared libraries])
+  if echo &quot;$old_CC $old_CFLAGS &quot; | egrep -e &quot;[[ 	]]$lt_cv_prog_cc_shlib[[ 	]]&quot; &gt;/dev/null; then :
+  else
+   AC_MSG_WARN([add \`$lt_cv_prog_cc_shlib' to the CC or CFLAGS env variable and reconfigure])
+    lt_cv_prog_cc_can_build_shared=no
+  fi
+fi
+
+AC_MSG_CHECKING([if $compiler static flag $lt_cv_prog_cc_static works])
+AC_CACHE_VAL([lt_cv_prog_cc_static_works], [dnl
+  lt_cv_prog_cc_static_works=no
+  save_LDFLAGS=&quot;$LDFLAGS&quot;
+  LDFLAGS=&quot;$LDFLAGS $lt_cv_prog_cc_static&quot;
+  AC_TRY_LINK([], [], [lt_cv_prog_cc_static_works=yes])
+  LDFLAGS=&quot;$save_LDFLAGS&quot;
+])
+
+# Belt *and* braces to stop my trousers falling down:
+test &quot;X$lt_cv_prog_cc_static_works&quot; = Xno &amp;&amp; lt_cv_prog_cc_static=
+AC_MSG_RESULT([$lt_cv_prog_cc_static_works])
+
+pic_flag=&quot;$lt_cv_prog_cc_pic&quot;
+special_shlib_compile_flags=&quot;$lt_cv_prog_cc_shlib&quot;
+wl=&quot;$lt_cv_prog_cc_wl&quot;
+link_static_flag=&quot;$lt_cv_prog_cc_static&quot;
+no_builtin_flag=&quot;$lt_cv_prog_cc_no_builtin&quot;
+can_build_shared=&quot;$lt_cv_prog_cc_can_build_shared&quot;
+
+
+# Check to see if options -o and -c are simultaneously supported by compiler
+AC_MSG_CHECKING([if $compiler supports -c -o file.$ac_objext])
+AC_CACHE_VAL([lt_cv_compiler_c_o], [
+$rm -r conftest 2&gt;/dev/null
+mkdir conftest
+cd conftest
+echo &quot;int some_variable = 0;&quot; &gt; conftest.$ac_ext
+mkdir out
+# According to Tom Tromey, Ian Lance Taylor reported there are C compilers
+# that will create temporary files in the current directory regardless of
+# the output directory.  Thus, making CWD read-only will cause this test
+# to fail, enabling locking or at least warning the user not to do parallel
+# builds.
+chmod -w .
+save_CFLAGS=&quot;$CFLAGS&quot;
+CFLAGS=&quot;$CFLAGS -o out/conftest2.$ac_objext&quot;
+compiler_c_o=no
+if { (eval echo configure:__oline__: \&quot;$ac_compile\&quot;) 1&gt;&amp;5; (eval $ac_compile) 2&gt;out/conftest.err; } &amp;&amp; test -s out/conftest2.$ac_objext; then
+  # The compiler can only warn and ignore the option if not recognized
+  # So say no if there are warnings
+  if test -s out/conftest.err; then
+    lt_cv_compiler_c_o=no
+  else
+    lt_cv_compiler_c_o=yes
+  fi
+else
+  # Append any errors to the config.log.
+  cat out/conftest.err 1&gt;&amp;AC_FD_CC
+  lt_cv_compiler_c_o=no
+fi
+CFLAGS=&quot;$save_CFLAGS&quot;
+chmod u+w .
+$rm conftest* out/*
+rmdir out
+cd ..
+rmdir conftest
+$rm -r conftest 2&gt;/dev/null
+])
+compiler_c_o=$lt_cv_compiler_c_o
+AC_MSG_RESULT([$compiler_c_o])
+
+if test x&quot;$compiler_c_o&quot; = x&quot;yes&quot;; then
+  # Check to see if we can write to a .lo
+  AC_MSG_CHECKING([if $compiler supports -c -o file.lo])
+  AC_CACHE_VAL([lt_cv_compiler_o_lo], [
+  lt_cv_compiler_o_lo=no
+  save_CFLAGS=&quot;$CFLAGS&quot;
+  CFLAGS=&quot;$CFLAGS -c -o conftest.lo&quot;
+  save_objext=&quot;$ac_objext&quot;
+  ac_objext=lo
+  AC_TRY_COMPILE([], [int some_variable = 0;], [dnl
+    # The compiler can only warn and ignore the option if not recognized
+    # So say no if there are warnings
+    if test -s conftest.err; then
+      lt_cv_compiler_o_lo=no
+    else
+      lt_cv_compiler_o_lo=yes
+    fi
+  ])
+  ac_objext=&quot;$save_objext&quot;
+  CFLAGS=&quot;$save_CFLAGS&quot;
+  ])
+  compiler_o_lo=$lt_cv_compiler_o_lo
+  AC_MSG_RESULT([$compiler_o_lo])
+else
+  compiler_o_lo=no
+fi
+
+# Check to see if we can do hard links to lock some files if needed
+hard_links=&quot;nottested&quot;
+if test &quot;$compiler_c_o&quot; = no &amp;&amp; test &quot;$need_locks&quot; != no; then
+  # do not overwrite the value of need_locks provided by the user
+  AC_MSG_CHECKING([if we can lock with hard links])
+  hard_links=yes
+  $rm conftest*
+  ln conftest.a conftest.b 2&gt;/dev/null &amp;&amp; hard_links=no
+  touch conftest.a
+  ln conftest.a conftest.b 2&gt;&amp;5 || hard_links=no
+  ln conftest.a conftest.b 2&gt;/dev/null &amp;&amp; hard_links=no
+  AC_MSG_RESULT([$hard_links])
+  if test &quot;$hard_links&quot; = no; then
+    AC_MSG_WARN([\`$CC' does not support \`-c -o', so \`make -j' may be unsafe])
+    need_locks=warn
+  fi
+else
+  need_locks=no
+fi
+
+if test &quot;$GCC&quot; = yes; then
+  # Check to see if options -fno-rtti -fno-exceptions are supported by compiler
+  AC_MSG_CHECKING([if $compiler supports -fno-rtti -fno-exceptions])
+  echo &quot;int some_variable = 0;&quot; &gt; conftest.$ac_ext
+  save_CFLAGS=&quot;$CFLAGS&quot;
+  CFLAGS=&quot;$CFLAGS -fno-rtti -fno-exceptions -c conftest.$ac_ext&quot;
+  compiler_rtti_exceptions=no
+  AC_TRY_COMPILE([], [int some_variable = 0;], [dnl
+    # The compiler can only warn and ignore the option if not recognized
+    # So say no if there are warnings
+    if test -s conftest.err; then
+      compiler_rtti_exceptions=no
+    else
+      compiler_rtti_exceptions=yes
+    fi
+  ])
+  CFLAGS=&quot;$save_CFLAGS&quot;
+  AC_MSG_RESULT([$compiler_rtti_exceptions])
+
+  if test &quot;$compiler_rtti_exceptions&quot; = &quot;yes&quot;; then
+    no_builtin_flag=' -fno-builtin -fno-rtti -fno-exceptions'
+  else
+    no_builtin_flag=' -fno-builtin'
+  fi
+fi
+
+# See if the linker supports building shared libraries.
+AC_MSG_CHECKING([whether the linker ($LD) supports shared libraries])
+
+allow_undefined_flag=
+no_undefined_flag=
+need_lib_prefix=unknown
+need_version=unknown
+# when you set need_version to no, make sure it does not cause -set_version
+# flags to be left without arguments
+archive_cmds=
+archive_expsym_cmds=
+old_archive_from_new_cmds=
+old_archive_from_expsyms_cmds=
+export_dynamic_flag_spec=
+whole_archive_flag_spec=
+thread_safe_flag_spec=
+hardcode_into_libs=no
+hardcode_libdir_flag_spec=
+hardcode_libdir_separator=
+hardcode_direct=no
+hardcode_minus_L=no
+hardcode_shlibpath_var=unsupported
+runpath_var=
+link_all_deplibs=unknown
+always_export_symbols=no
+export_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | sed '\''s/.* //'\'' | sort | uniq &gt; $export_symbols'
+# include_expsyms should be a list of space-separated symbols to be *always*
+# included in the symbol list
+include_expsyms=
+# exclude_expsyms can be an egrep regular expression of symbols to exclude
+# it will be wrapped by ` (' and `)$', so one must not match beginning or
+# end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
+# as well as any symbol that contains `d'.
+exclude_expsyms=&quot;_GLOBAL_OFFSET_TABLE_&quot;
+# Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
+# platforms (ab)use it in PIC code, but their linkers get confused if
+# the symbol is explicitly referenced.  Since portable code cannot
+# rely on this symbol name, it's probably fine to never include it in
+# preloaded symbol tables.
+extract_expsyms_cmds=
+
+case $host_os in
+cygwin* | mingw* | pw32*)
+  # FIXME: the MSVC++ port hasn't been tested in a loooong time
+  # When not using gcc, we currently assume that we are using
+  # Microsoft Visual C++.
+  if test &quot;$GCC&quot; != yes; then
+    with_gnu_ld=no
+  fi
+  ;;
+openbsd*)
+  with_gnu_ld=no
+  ;;
+esac
+
+ld_shlibs=yes
+if test &quot;$with_gnu_ld&quot; = yes; then
+  # If archive_cmds runs LD, not CC, wlarc should be empty
+  wlarc='${wl}'
+
+  # See if GNU ld supports shared libraries.
+  case $host_os in
+  aix3* | aix4* | aix5*)
+    # On AIX, the GNU linker is very broken
+    # Note:Check GNU linker on AIX 5-IA64 when/if it becomes available.
+    ld_shlibs=no
+    cat &lt;&lt;EOF 1&gt;&amp;2
+
+*** Warning: the GNU linker, at least up to release 2.9.1, is reported
+*** to be unable to reliably create shared libraries on AIX.
+*** Therefore, libtool is disabling shared libraries support.  If you
+*** really care for shared libraries, you may want to modify your PATH
+*** so that a non-GNU linker is found, and then restart.
+
+EOF
+    ;;
+
+  amigaos*)
+    archive_cmds='$rm $output_objdir/a2ixlibrary.data~$echo &quot;#define NAME $libname&quot; &gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define LIBRARY_ID 1&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define VERSION $major&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define REVISION $revision&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir &amp;&amp; a2ixlibrary -32)'
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_minus_L=yes
+
+    # Samuel A. Falvo II &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">kc5tja at dolphin.openprojects.net</A>&gt; reports
+    # that the semantics of dynamic libraries on AmigaOS, at least up
+    # to version 4, is to share data among multiple programs linked
+    # with the same dynamic library.  Since this doesn't match the
+    # behavior of shared libraries on other platforms, we can use
+    # them.
+    ld_shlibs=no
+    ;;
+
+  beos*)
+    if $LD --help 2&gt;&amp;1 | egrep ': supported targets:.* elf' &gt; /dev/null; then
+      allow_undefined_flag=unsupported
+      # Joseph Beckenbach &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">jrb3 at best.com</A>&gt; says some releases of gcc
+      # support --undefined.  This deserves some investigation.  FIXME
+      archive_cmds='$CC -nostart $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+    else
+      ld_shlibs=no
+    fi
+    ;;
+
+  cygwin* | mingw* | pw32*)
+    # hardcode_libdir_flag_spec is actually meaningless, as there is
+    # no search path for DLLs.
+    hardcode_libdir_flag_spec='-L$libdir'
+    allow_undefined_flag=unsupported
+    always_export_symbols=yes
+
+    extract_expsyms_cmds='test -f $output_objdir/impgen.c || \
+      sed -e &quot;/^# \/\* impgen\.c starts here \*\//,/^# \/\* impgen.c ends here \*\// { s/^# //;s/^# *$//; p; }&quot; -e d &lt; $''0 &gt; $output_objdir/impgen.c~
+      test -f $output_objdir/impgen.exe || (cd $output_objdir &amp;&amp; \
+      if test &quot;x$HOST_CC&quot; != &quot;x&quot; ; then $HOST_CC -o impgen impgen.c ; \
+      else $CC -o impgen impgen.c ; fi)~
+      $output_objdir/impgen $dir/$soroot &gt; $output_objdir/$soname-def'
+
+    old_archive_from_expsyms_cmds='$DLLTOOL --as=$AS --dllname $soname --def $output_objdir/$soname-def --output-lib $output_objdir/$newlib'
+
+    # cygwin and mingw dlls have different entry points and sets of symbols
+    # to exclude.
+    # FIXME: what about values for MSVC?
+    dll_entry=<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">__cygwin_dll_entry at 12</A>
+    dll_exclude_symbols=<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">DllMain at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,_cygwin_dll_entry at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,_cygwin_noncygwin_dll_entry at 12</A>~
+    case $host_os in
+    mingw*)
+      # mingw values
+      dll_entry=<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">_DllMainCRTStartup at 12</A>
+      dll_exclude_symbols=<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">DllMain at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,DllMainCRTStartup at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,DllEntryPoint at 12</A>~
+      ;;
+    esac
+
+    # mingw and cygwin differ, and it's simplest to just exclude the union
+    # of the two symbol sets.
+    dll_exclude_symbols=<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">DllMain at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,_cygwin_dll_entry at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,_cygwin_noncygwin_dll_entry at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,DllMainCRTStartup at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,DllEntryPoint at 12</A>
+
+    # recent cygwin and mingw systems supply a stub DllMain which the user
+    # can override, but on older systems we have to supply one (in ltdll.c)
+    if test &quot;x$lt_cv_need_dllmain&quot; = &quot;xyes&quot;; then
+      ltdll_obj='$output_objdir/$soname-ltdll.'&quot;$ac_objext &quot;
+      ltdll_cmds='test -f $output_objdir/$soname-ltdll.c || sed -e &quot;/^# \/\* ltdll\.c starts here \*\//,/^# \/\* ltdll.c ends here \*\// { s/^# //; p; }&quot; -e d &lt; $''0 &gt; $output_objdir/$soname-ltdll.c~
+	test -f $output_objdir/$soname-ltdll.$ac_objext || (cd $output_objdir &amp;&amp; $CC -c $soname-ltdll.c)~'
+    else
+      ltdll_obj=
+      ltdll_cmds=
+    fi
+
+    # Extract the symbol export list from an `--export-all' def file,
+    # then regenerate the def file from the symbol export list, so that
+    # the compiled dll only exports the symbol export list.
+    # Be careful not to strip the DATA tag left be newer dlltools.
+    export_symbols_cmds=&quot;$ltdll_cmds&quot;'
+      $DLLTOOL --export-all --exclude-symbols '$dll_exclude_symbols' --output-def $output_objdir/$soname-def '$ltdll_obj'$libobjs $convenience~
+      sed -e &quot;1,/EXPORTS/d&quot; -e &quot;s/ @ [[0-9]]*//&quot; -e &quot;s/ *;.*$//&quot; &lt; $output_objdir/$soname-def &gt; $export_symbols'
+
+    # If the export-symbols file already is a .def file (1st line
+    # is EXPORTS), use it as is.
+    # If DATA tags from a recent dlltool are present, honour them!
+    archive_expsym_cmds='if test &quot;x`sed 1q $export_symbols`&quot; = xEXPORTS; then
+	cp $export_symbols $output_objdir/$soname-def;
+      else
+	echo EXPORTS &gt; $output_objdir/$soname-def;
+	_lt_hint=1;
+	cat $export_symbols | while read symbol; do
+	 set dummy \$symbol;
+	 case \[$]# in
+	   2) echo &quot;   \[$]2 @ \$_lt_hint ; &quot; &gt;&gt; $output_objdir/$soname-def;;
+	   4) echo &quot;   \[$]2 \[$]3 \[$]4 ; &quot; &gt;&gt; $output_objdir/$soname-def; _lt_hint=`expr \$_lt_hint - 1`;;
+	   *) echo &quot;     \[$]2 @ \$_lt_hint \[$]3 ; &quot; &gt;&gt; $output_objdir/$soname-def;;
+	 esac;
+	 _lt_hint=`expr 1 + \$_lt_hint`;
+	done;
+      fi~
+      '&quot;$ltdll_cmds&quot;'
+      $CC -Wl,--base-file,$output_objdir/$soname-base '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags~
+      $DLLTOOL --as=$AS --dllname $soname --exclude-symbols '$dll_exclude_symbols' --def $output_objdir/$soname-def --base-file $output_objdir/$soname-base --output-exp $output_objdir/$soname-exp~
+      $CC -Wl,--base-file,$output_objdir/$soname-base $output_objdir/$soname-exp '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags~
+      $DLLTOOL --as=$AS --dllname $soname --exclude-symbols '$dll_exclude_symbols' --def $output_objdir/$soname-def --base-file $output_objdir/$soname-base --output-exp $output_objdir/$soname-exp --output-lib $output_objdir/$libname.dll.a~
+      $CC $output_objdir/$soname-exp '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags'
+    ;;
+
+  netbsd*)
+    if echo __ELF__ | $CC -E - | grep __ELF__ &gt;/dev/null; then
+      archive_cmds='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'
+      wlarc=
+    else
+      archive_cmds='$CC -shared -nodefaultlibs $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+      archive_expsym_cmds='$CC -shared -nodefaultlibs $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
+    fi
+    ;;
+
+  solaris* | sysv5*)
+    if $LD -v 2&gt;&amp;1 | egrep 'BFD 2\.8' &gt; /dev/null; then
+      ld_shlibs=no
+      cat &lt;&lt;EOF 1&gt;&amp;2
+
+*** Warning: The releases 2.8.* of the GNU linker cannot reliably
+*** create shared libraries on Solaris systems.  Therefore, libtool
+*** is disabling shared libraries support.  We urge you to upgrade GNU
+*** binutils to release 2.9.1 or newer.  Another option is to modify
+*** your PATH or compiler configuration so that the native linker is
+*** used, and then restart.
+
+EOF
+    elif $LD --help 2&gt;&amp;1 | egrep ': supported targets:.* elf' &gt; /dev/null; then
+      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+      archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
+    else
+      ld_shlibs=no
+    fi
+    ;;
+
+  sunos4*)
+    archive_cmds='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+    wlarc=
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  linux*)
+    if $LD --help 2&gt;&amp;1 | egrep ': supported targets:.* elf' &gt; /dev/null; then
+      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+      supports_anon_versioning=no
+      case `$LD -v 2&gt;/dev/null` in
+        *\ [01].* | *\ 2.[[0-9]].* | *\ 2.10.*) ;; # catch versions &lt; 2.11
+        *\ 2.11.93.0.2\ *) supports_anon_versioning=yes ;; # RH7.3 ...
+        *\ 2.11.92.0.12\ *) supports_anon_versioning=yes ;; # Mandrake 8.2 ...
+        *\ 2.11.*) ;; # other 2.11 versions
+        *) supports_anon_versioning=yes ;;
+      esac
+      if test $supports_anon_versioning = yes; then
+        archive_expsym_cmds='$echo &quot;{ global:&quot; &gt; $output_objdir/$libname.ver~
+cat $export_symbols | sed -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $output_objdir/$libname.ver~
+$echo &quot;local: *; };&quot; &gt;&gt; $output_objdir/$libname.ver~
+        $CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-version-script ${wl}$output_objdir/$libname.ver -o $lib'
+      else
+        $archive_expsym_cmds=&quot;$archive_cmds&quot;
+      fi
+    else
+      ld_shlibs=no
+    fi
+    ;;
+
+  *)
+    if $LD --help 2&gt;&amp;1 | egrep ': supported targets:.* elf' &gt; /dev/null; then
+      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+      archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
+    else
+      ld_shlibs=no
+    fi
+    ;;
+  esac
+
+  if test &quot;$ld_shlibs&quot; = yes; then
+    runpath_var=LD_RUN_PATH
+    hardcode_libdir_flag_spec='${wl}--rpath ${wl}$libdir'
+    export_dynamic_flag_spec='${wl}--export-dynamic'
+    case $host_os in
+    cygwin* | mingw* | pw32*)
+      # dlltool doesn't understand --whole-archive et. al.
+      whole_archive_flag_spec=
+      ;;
+    *)
+      # ancient GNU ld didn't support --whole-archive et. al.
+      if $LD --help 2&gt;&amp;1 | egrep 'no-whole-archive' &gt; /dev/null; then
+	whole_archive_flag_spec=&quot;$wlarc&quot;'--whole-archive$convenience '&quot;$wlarc&quot;'--no-whole-archive'
+      else
+	whole_archive_flag_spec=
+      fi
+      ;;
+    esac
+  fi
+else
+  # PORTME fill in a description of your system's linker (not GNU ld)
+  case $host_os in
+  aix3*)
+    allow_undefined_flag=unsupported
+    always_export_symbols=yes
+    archive_expsym_cmds='$LD -o $output_objdir/$soname $libobjs $deplibs $linker_flags -bE:$export_symbols -T512 -H512 -bM:SRE~$AR $AR_FLAGS $lib $output_objdir/$soname'
+    # Note: this linker hardcodes the directories in LIBPATH if there
+    # are no directories specified by -L.
+    hardcode_minus_L=yes
+    if test &quot;$GCC&quot; = yes &amp;&amp; test -z &quot;$link_static_flag&quot;; then
+      # Neither direct hardcoding nor static linking is supported with a
+      # broken collect2.
+      hardcode_direct=unsupported
+    fi
+    ;;
+
+  aix4* | aix5*)
+    if test &quot;$host_cpu&quot; = ia64; then
+      # On IA64, the linker does run time linking by default, so we don't
+      # have to do anything special.
+      aix_use_runtimelinking=no
+      exp_sym_flag='-Bexport'
+      no_entry_flag=&quot;&quot;
+    else
+      aix_use_runtimelinking=no
+
+      # Test if we are trying to use run time linking or normal
+      # AIX style linking. If -brtl is somewhere in LDFLAGS, we
+      # need to do runtime linking.
+      case $host_os in aix4.[[23]]|aix4.[[23]].*|aix5*)
+	for ld_flag in $LDFLAGS; do
+	  case $ld_flag in
+	  *-brtl*)
+	    aix_use_runtimelinking=yes
+	    break
+	  ;;
+	  esac
+	done
+      esac
+
+      exp_sym_flag='-bexport'
+      no_entry_flag='-bnoentry'
+    fi
+
+    # When large executables or shared objects are built, AIX ld can
+    # have problems creating the table of contents.  If linking a library
+    # or program results in &quot;error TOC overflow&quot; add -mminimal-toc to
+    # CXXFLAGS/CFLAGS for g++/gcc.  In the cases where that is not
+    # enough to fix the problem, add -Wl,-bbigtoc to LDFLAGS.
+
+    hardcode_direct=yes
+    archive_cmds=''
+    hardcode_libdir_separator=':'
+    if test &quot;$GCC&quot; = yes; then
+      case $host_os in aix4.[[012]]|aix4.[[012]].*)
+	collect2name=`${CC} -print-prog-name=collect2`
+	if test -f &quot;$collect2name&quot; &amp;&amp; \
+	  strings &quot;$collect2name&quot; | grep resolve_lib_name &gt;/dev/null
+	then
+	  # We have reworked collect2
+	  hardcode_direct=yes
+	else
+	  # We have old collect2
+	  hardcode_direct=unsupported
+	  # It fails to find uninstalled libraries when the uninstalled
+	  # path is not listed in the libpath.  Setting hardcode_minus_L
+	  # to unsupported forces relinking
+	  hardcode_minus_L=yes
+	  hardcode_libdir_flag_spec='-L$libdir'
+	  hardcode_libdir_separator=
+	fi
+      esac
+
+      shared_flag='-shared'
+    else
+      # not using gcc
+      if test &quot;$host_cpu&quot; = ia64; then
+	shared_flag='${wl}-G'
+      else
+	if test &quot;$aix_use_runtimelinking&quot; = yes; then
+	  shared_flag='${wl}-G'
+	else
+	  shared_flag='${wl}-bM:SRE'
+	fi
+      fi
+    fi
+
+    # It seems that -bexpall can do strange things, so it is better to
+    # generate a list of symbols to export.
+    always_export_symbols=yes
+    if test &quot;$aix_use_runtimelinking&quot; = yes; then
+      # Warning - without using the other runtime loading flags (-brtl),
+      # -berok will link without error, but may produce a broken library.
+      allow_undefined_flag='-berok'
+      hardcode_libdir_flag_spec='${wl}-blibpath:$libdir:/usr/lib:/lib'
+      archive_expsym_cmds=&quot;\$CC&quot;' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags `if test &quot;x${allow_undefined_flag}&quot; != &quot;x&quot;; then echo &quot;${wl}${allow_undefined_flag}&quot;; else :; fi` '&quot;\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols $shared_flag&quot;
+    else
+      if test &quot;$host_cpu&quot; = ia64; then
+	hardcode_libdir_flag_spec='${wl}-R $libdir:/usr/lib:/lib'
+	allow_undefined_flag=&quot;-z nodefs&quot;
+	archive_expsym_cmds=&quot;\$CC $shared_flag&quot;' -o $output_objdir/$soname ${wl}-h$soname $libobjs $deplibs $compiler_flags ${wl}${allow_undefined_flag} '&quot;\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols&quot;
+      else
+	hardcode_libdir_flag_spec='${wl}-bnolibpath ${wl}-blibpath:$libdir:/usr/lib:/lib'
+	# Warning - without using the other run time loading flags,
+	# -berok will link without error, but may produce a broken library.
+	allow_undefined_flag='${wl}-berok'
+	# This is a bit strange, but is similar to how AIX traditionally builds
+	# it's shared libraries.
+	archive_expsym_cmds=&quot;\$CC $shared_flag&quot;' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${allow_undefined_flag} '&quot;\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols&quot;' ~$AR -crlo $objdir/$libname$release.a $objdir/$soname'
+      fi
+    fi
+    ;;
+
+  amigaos*)
+    archive_cmds='$rm $output_objdir/a2ixlibrary.data~$echo &quot;#define NAME $libname&quot; &gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define LIBRARY_ID 1&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define VERSION $major&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define REVISION $revision&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir &amp;&amp; a2ixlibrary -32)'
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_minus_L=yes
+    # see comment about different semantics on the GNU ld section
+    ld_shlibs=no
+    ;;
+
+  cygwin* | mingw* | pw32*)
+    # When not using gcc, we currently assume that we are using
+    # Microsoft Visual C++.
+    # hardcode_libdir_flag_spec is actually meaningless, as there is
+    # no search path for DLLs.
+    hardcode_libdir_flag_spec=' '
+    allow_undefined_flag=unsupported
+    # Tell ltmain to make .lib files, not .a files.
+    libext=lib
+    # FIXME: Setting linknames here is a bad hack.
+    archive_cmds='$CC -o $lib $libobjs $compiler_flags `echo &quot;$deplibs&quot; | sed -e '\''s/ -lc$//'\''` -link -dll~linknames='
+    # The linker will automatically build a .lib file if we build a DLL.
+    old_archive_from_new_cmds='true'
+    # FIXME: Should let the user specify the lib program.
+    old_archive_cmds='lib /OUT:$oldlib$oldobjs$old_deplibs'
+    fix_srcfile_path='`cygpath -w &quot;$srcfile&quot;`'
+    ;;
+
+  darwin* | rhapsody*)
+    case &quot;$host_os&quot; in
+    rhapsody* | darwin1.[[012]])
+      allow_undefined_flag='-undefined suppress'
+      ;;
+    *) # Darwin 1.3 on
+      allow_undefined_flag='-flat_namespace -undefined suppress'
+      ;;
+    esac
+    # FIXME: Relying on posixy $() will cause problems for
+    #        cross-compilation, but unfortunately the echo tests do not
+    #        yet detect zsh echo's removal of \ escapes.  Also zsh mangles
+    #	     `&quot;' quotes if we put them in here... so don't!
+    archive_cmds='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs &amp;&amp; $CC $(test .$module = .yes &amp;&amp; echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib ${lib}-master.o $deplibs$linker_flags $(test .$module != .yes &amp;&amp; echo -install_name $rpath/$soname $verstring)'
+    # We need to add '_' to the symbols in $export_symbols first
+    #archive_expsym_cmds=&quot;$archive_cmds&quot;' &amp;&amp; strip -s $export_symbols'
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    whole_archive_flag_spec='-all_load $convenience'
+    ;;
+
+  freebsd1*)
+    ld_shlibs=no
+    ;;
+
+  # FreeBSD 2.2.[012] allows us to include c++rt0.o to get C++ constructor
+  # support.  Future versions do this automatically, but an explicit c++rt0.o
+  # does not break anything, and helps significantly (at the cost of a little
+  # extra space).
+  freebsd2.2*)
+    archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags /usr/lib/c++rt0.o'
+    hardcode_libdir_flag_spec='-R$libdir'
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  # Unfortunately, older versions of FreeBSD 2 do not have this feature.
+  freebsd2*)
+    archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_direct=yes
+    hardcode_minus_L=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  # FreeBSD 3 and greater uses gcc -shared to do shared libraries.
+  freebsd*)
+    archive_cmds='$CC -shared -o $lib $libobjs $deplibs $compiler_flags'
+    hardcode_libdir_flag_spec='-R$libdir'
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  hpux9* | hpux10* | hpux11*)
+    case $host_os in
+    hpux9*) archive_cmds='$rm $output_objdir/$soname~$LD -b +b $install_libdir -o $output_objdir/$soname $libobjs $deplibs $linker_flags~test $output_objdir/$soname = $lib || mv $output_objdir/$soname $lib' ;;
+    *) archive_cmds='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags' ;;
+    esac
+    hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'
+    hardcode_libdir_separator=:
+    hardcode_direct=yes
+    hardcode_minus_L=yes # Not in the search PATH, but as the default
+			 # location of the library.
+    export_dynamic_flag_spec='${wl}-E'
+    ;;
+
+  irix5* | irix6* | nonstopux*)
+    if test &quot;$GCC&quot; = yes; then
+      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
+      hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
+    else
+      archive_cmds='$LD -shared $libobjs $deplibs $linker_flags -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
+      hardcode_libdir_flag_spec='-rpath $libdir'
+    fi
+    hardcode_libdir_separator=:
+    link_all_deplibs=yes
+    ;;
+
+  netbsd*)
+    if echo __ELF__ | $CC -E - | grep __ELF__ &gt;/dev/null; then
+      archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'  # a.out
+    else
+      archive_cmds='$LD -shared -o $lib $libobjs $deplibs $linker_flags'      # ELF
+    fi
+    hardcode_libdir_flag_spec='-R$libdir'
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  newsos6)
+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_direct=yes
+    hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
+    hardcode_libdir_separator=:
+    hardcode_shlibpath_var=no
+    ;;
+
+  openbsd*)
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    if test -z &quot;`echo __ELF__ | $CC -E - | grep __ELF__`&quot; || test &quot;$host_os-$host_cpu&quot; = &quot;openbsd2.8-powerpc&quot;; then
+      archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
+      hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+      export_dynamic_flag_spec='${wl}-E'
+    else
+      case &quot;$host_os&quot; in
+      openbsd[[01]].* | openbsd2.[[0-7]] | openbsd2.[[0-7]].*)
+	archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+	hardcode_libdir_flag_spec='-R$libdir'
+        ;;
+      *)
+        archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
+        hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+        ;;
+      esac
+    fi
+    ;;
+
+  os2*)
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_minus_L=yes
+    allow_undefined_flag=unsupported
+    archive_cmds='$echo &quot;LIBRARY $libname INITINSTANCE&quot; &gt; $output_objdir/$libname.def~$echo &quot;DESCRIPTION \&quot;$libname\&quot;&quot; &gt;&gt; $output_objdir/$libname.def~$echo DATA &gt;&gt; $output_objdir/$libname.def~$echo &quot; SINGLE NONSHARED&quot; &gt;&gt; $output_objdir/$libname.def~$echo EXPORTS &gt;&gt; $output_objdir/$libname.def~emxexp $libobjs &gt;&gt; $output_objdir/$libname.def~$CC -Zdll -Zcrtdll -o $lib $libobjs $deplibs $compiler_flags $output_objdir/$libname.def'
+    old_archive_from_new_cmds='emximp -o $output_objdir/$libname.a $output_objdir/$libname.def'
+    ;;
+
+  osf3*)
+    if test &quot;$GCC&quot; = yes; then
+      allow_undefined_flag=' ${wl}-expect_unresolved ${wl}\*'
+      archive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
+    else
+      allow_undefined_flag=' -expect_unresolved \*'
+      archive_cmds='$LD -shared${allow_undefined_flag} $libobjs $deplibs $linker_flags -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
+    fi
+    hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
+    hardcode_libdir_separator=:
+    ;;
+
+  osf4* | osf5*)	# as osf3* with the addition of -msym flag
+    if test &quot;$GCC&quot; = yes; then
+      allow_undefined_flag=' ${wl}-expect_unresolved ${wl}\*'
+      archive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $compiler_flags ${wl}-msym ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
+      hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
+    else
+      allow_undefined_flag=' -expect_unresolved \*'
+      archive_cmds='$LD -shared${allow_undefined_flag} $libobjs $deplibs $linker_flags -msym -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
+      archive_expsym_cmds='for i in `cat $export_symbols`; do printf &quot;-exported_symbol &quot; &gt;&gt; $lib.exp; echo &quot;\$i&quot; &gt;&gt; $lib.exp; done; echo &quot;-hidden&quot;&gt;&gt; $lib.exp~
+      $LD -shared${allow_undefined_flag} -input $lib.exp $linker_flags $libobjs $deplibs -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${objdir}/so_locations -o $lib~$rm $lib.exp'
+
+      #Both c and cxx compiler support -rpath directly
+      hardcode_libdir_flag_spec='-rpath $libdir'
+    fi
+    hardcode_libdir_separator=:
+    ;;
+
+  sco3.2v5*)
+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_shlibpath_var=no
+    runpath_var=LD_RUN_PATH
+    hardcode_runpath_var=yes
+    export_dynamic_flag_spec='${wl}-Bexport'
+    ;;
+
+  solaris*)
+    # gcc --version &lt; 3.0 without binutils cannot create self contained
+    # shared libraries reliably, requiring libgcc.a to resolve some of
+    # the object symbols generated in some cases.  Libraries that use
+    # assert need libgcc.a to resolve __eprintf, for example.  Linking
+    # a copy of libgcc.a into every shared library to guarantee resolving
+    # such symbols causes other problems:  According to Tim Van Holder
+    # &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">tim.van.holder at pandora.be</A>&gt;, C++ libraries end up with a separate
+    # (to the application) exception stack for one thing.
+    no_undefined_flag=' -z defs'
+    if test &quot;$GCC&quot; = yes; then
+      case `$CC --version 2&gt;/dev/null` in
+      [[12]].*)
+	cat &lt;&lt;EOF 1&gt;&amp;2
+
+*** Warning: Releases of GCC earlier than version 3.0 cannot reliably
+*** create self contained shared libraries on Solaris systems, without
+*** introducing a dependency on libgcc.a.  Therefore, libtool is disabling
+*** -no-undefined support, which will at least allow you to build shared
+*** libraries.  However, you may find that when you link such libraries
+*** into an application without using GCC, you have to manually add
+*** \`gcc --print-libgcc-file-name\` to the link command.  We urge you to
+*** upgrade to a newer version of GCC.  Another option is to rebuild your
+*** current GCC to use the GNU linker from GNU binutils 2.9.1 or newer.
+
+EOF
+        no_undefined_flag=
+	;;
+      esac
+    fi
+    # $CC -shared without GNU ld will not create a library from C++
+    # object files and a static libstdc++, better avoid it by now
+    archive_cmds='$LD -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    archive_expsym_cmds='$echo &quot;{ global:&quot; &gt; $lib.exp~cat $export_symbols | sed -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $lib.exp~$echo &quot;local: *; };&quot; &gt;&gt; $lib.exp~
+		$LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linker_flags~$rm $lib.exp'
+    hardcode_libdir_flag_spec='-R$libdir'
+    hardcode_shlibpath_var=no
+    case $host_os in
+    solaris2.[[0-5]] | solaris2.[[0-5]].*) ;;
+    *) # Supported since Solaris 2.6 (maybe 2.5.1?)
+      whole_archive_flag_spec='-z allextract$convenience -z defaultextract' ;;
+    esac
+    link_all_deplibs=yes
+    ;;
+
+  sunos4*)
+    if test &quot;x$host_vendor&quot; = xsequent; then
+      # Use $CC to link under sequent, because it throws in some extra .o
+      # files that make .init and .fini sections work.
+      archive_cmds='$CC -G ${wl}-h $soname -o $lib $libobjs $deplibs $compiler_flags'
+    else
+      archive_cmds='$LD -assert pure-text -Bstatic -o $lib $libobjs $deplibs $linker_flags'
+    fi
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_direct=yes
+    hardcode_minus_L=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  sysv4)
+    case $host_vendor in
+      sni)
+        archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+        hardcode_direct=yes # is this really true???
+        ;;
+      siemens)
+        ## LD is ld it makes a PLAMLIB
+        ## CC just makes a GrossModule.
+        archive_cmds='$LD -G -o $lib $libobjs $deplibs $linker_flags'
+        reload_cmds='$CC -r -o $output$reload_objs'
+        hardcode_direct=no
+        ;;
+      motorola)
+        archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+        hardcode_direct=no #Motorola manual says yes, but my tests say they lie
+        ;;
+    esac
+    runpath_var='LD_RUN_PATH'
+    hardcode_shlibpath_var=no
+    ;;
+
+  sysv4.3*)
+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_shlibpath_var=no
+    export_dynamic_flag_spec='-Bexport'
+    ;;
+
+  sysv5*)
+    no_undefined_flag=' -z text'
+    # $CC -shared without GNU ld will not create a library from C++
+    # object files and a static libstdc++, better avoid it by now
+    archive_cmds='$LD -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    archive_expsym_cmds='$echo &quot;{ global:&quot; &gt; $lib.exp~cat $export_symbols | sed -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $lib.exp~$echo &quot;local: *; };&quot; &gt;&gt; $lib.exp~
+		$LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linker_flags~$rm $lib.exp'
+    hardcode_libdir_flag_spec=
+    hardcode_shlibpath_var=no
+    runpath_var='LD_RUN_PATH'
+    ;;
+
+  uts4*)
+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_shlibpath_var=no
+    ;;
+
+  dgux*)
+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_shlibpath_var=no
+    ;;
+
+  sysv4*MP*)
+    if test -d /usr/nec; then
+      archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+      hardcode_shlibpath_var=no
+      runpath_var=LD_RUN_PATH
+      hardcode_runpath_var=yes
+      ld_shlibs=yes
+    fi
+    ;;
+
+  sysv4.2uw2*)
+    archive_cmds='$LD -G -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_direct=yes
+    hardcode_minus_L=no
+    hardcode_shlibpath_var=no
+    hardcode_runpath_var=yes
+    runpath_var=LD_RUN_PATH
+    ;;
+
+  sysv5uw7* | unixware7*)
+    no_undefined_flag='${wl}-z ${wl}text'
+    if test &quot;$GCC&quot; = yes; then
+      archive_cmds='$CC -shared ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+    else
+      archive_cmds='$CC -G ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+    fi
+    runpath_var='LD_RUN_PATH'
+    hardcode_shlibpath_var=no
+    ;;
+
+  *)
+    ld_shlibs=no
+    ;;
+  esac
+fi
+AC_MSG_RESULT([$ld_shlibs])
+test &quot;$ld_shlibs&quot; = no &amp;&amp; can_build_shared=no
+
+# Check hardcoding attributes.
+AC_MSG_CHECKING([how to hardcode library paths into programs])
+hardcode_action=
+if test -n &quot;$hardcode_libdir_flag_spec&quot; || \
+   test -n &quot;$runpath_var&quot;; then
+
+  # We can hardcode non-existant directories.
+  if test &quot;$hardcode_direct&quot; != no &amp;&amp;
+     # If the only mechanism to avoid hardcoding is shlibpath_var, we
+     # have to relink, otherwise we might link with an installed library
+     # when we should be linking with a yet-to-be-installed one
+     ## test &quot;$hardcode_shlibpath_var&quot; != no &amp;&amp;
+     test &quot;$hardcode_minus_L&quot; != no; then
+    # Linking always hardcodes the temporary library directory.
+    hardcode_action=relink
+  else
+    # We can link without hardcoding, and we can hardcode nonexisting dirs.
+    hardcode_action=immediate
+  fi
+else
+  # We cannot hardcode anything, or else we can only hardcode existing
+  # directories.
+  hardcode_action=unsupported
+fi
+AC_MSG_RESULT([$hardcode_action])
+
+striplib=
+old_striplib=
+AC_MSG_CHECKING([whether stripping libraries is possible])
+if test -n &quot;$STRIP&quot; &amp;&amp; $STRIP -V 2&gt;&amp;1 | grep &quot;GNU strip&quot; &gt;/dev/null; then
+  test -z &quot;$old_striplib&quot; &amp;&amp; old_striplib=&quot;$STRIP --strip-debug&quot;
+  test -z &quot;$striplib&quot; &amp;&amp; striplib=&quot;$STRIP --strip-unneeded&quot;
+  AC_MSG_RESULT([yes])
+else
+  AC_MSG_RESULT([no])
+fi
+
+reload_cmds='$LD$reload_flag -o $output$reload_objs'
+test -z &quot;$deplibs_check_method&quot; &amp;&amp; deplibs_check_method=unknown
+
+# PORTME Fill in your ld.so characteristics
+AC_MSG_CHECKING([dynamic linker characteristics])
+library_names_spec=
+libname_spec='lib$name'
+soname_spec=
+postinstall_cmds=
+postuninstall_cmds=
+finish_cmds=
+finish_eval=
+shlibpath_var=
+shlibpath_overrides_runpath=unknown
+version_type=none
+dynamic_linker=&quot;$host_os ld.so&quot;
+sys_lib_dlsearch_path_spec=&quot;/lib /usr/lib /usr/X11R6/lib&quot;
+sys_lib_search_path_spec=&quot;/lib /usr/lib /usr/local/lib /usr/X11R6/lib&quot;
+
+case $host_os in
+aix3*)
+  version_type=linux
+  library_names_spec='${libname}${release}.so$versuffix $libname.a'
+  shlibpath_var=LIBPATH
+
+  # AIX has no versioning support, so we append a major version to the name.
+  soname_spec='${libname}${release}.so$major'
+  ;;
+
+aix4* | aix5*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  hardcode_into_libs=yes
+  if test &quot;$host_cpu&quot; = ia64; then
+    # AIX 5 supports IA64
+    library_names_spec='${libname}${release}.so$major ${libname}${release}.so$versuffix $libname.so'
+    shlibpath_var=LD_LIBRARY_PATH
+  else
+    # With GCC up to 2.95.x, collect2 would create an import file
+    # for dependence libraries.  The import file would start with
+    # the line `#! .'.  This would cause the generated library to
+    # depend on `.', always an invalid library.  This was fixed in
+    # development snapshots of GCC prior to 3.0.
+    case $host_os in
+      aix4 | aix4.[[01]] | aix4.[[01]].*)
+	if { echo '#if __GNUC__ &gt; 2 || (__GNUC__ == 2 &amp;&amp; __GNUC_MINOR__ &gt;= 97)'
+	     echo ' yes '
+	     echo '#endif'; } | ${CC} -E - | grep yes &gt; /dev/null; then
+	  :
+	else
+	  can_build_shared=no
+	fi
+	;;
+    esac
+    # AIX (on Power*) has no versioning support, so currently we can
+    # not hardcode correct soname into executable. Probably we can
+    # add versioning support to collect2, so additional links can
+    # be useful in future.
+    if test &quot;$aix_use_runtimelinking&quot; = yes; then
+      # If using run time linking (on AIX 4.2 or later) use lib&lt;name&gt;.so
+      # instead of lib&lt;name&gt;.a to let people know that these are not
+      # typical AIX shared libraries.
+      library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+    else
+      # We preserve .a as extension for shared libraries through AIX4.2
+      # and later when we are not doing run time linking.
+      library_names_spec='${libname}${release}.a $libname.a'
+      soname_spec='${libname}${release}.so$major'
+    fi
+    shlibpath_var=LIBPATH
+  fi
+  hardcode_into_libs=yes
+  ;;
+
+amigaos*)
+  library_names_spec='$libname.ixlibrary $libname.a'
+  # Create ${libname}_ixlibrary.a entries in /sys/libs.
+  finish_eval='for lib in `ls $libdir/*.ixlibrary 2&gt;/dev/null`; do libname=`$echo &quot;X$lib&quot; | $Xsed -e '\''s%^.*/\([[^/]]*\)\.ixlibrary$%\1%'\''`; test $rm /sys/libs/${libname}_ixlibrary.a; $show &quot;(cd /sys/libs &amp;&amp; $LN_S $lib ${libname}_ixlibrary.a)&quot;; (cd /sys/libs &amp;&amp; $LN_S $lib ${libname}_ixlibrary.a) || exit 1; done'
+  ;;
+
+beos*)
+  library_names_spec='${libname}.so'
+  dynamic_linker=&quot;$host_os ld.so&quot;
+  shlibpath_var=LIBRARY_PATH
+  ;;
+
+bsdi4*)
+  version_type=linux
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig $libdir'
+  shlibpath_var=LD_LIBRARY_PATH
+  sys_lib_search_path_spec=&quot;/shlib /usr/lib /usr/X11/lib /usr/contrib/lib /lib /usr/local/lib&quot;
+  sys_lib_dlsearch_path_spec=&quot;/shlib /usr/lib /usr/local/lib&quot;
+  export_dynamic_flag_spec=-rdynamic
+  # the default ld.so.conf also contains /usr/contrib/lib and
+  # /usr/X11R6/lib (/usr/X11 is a link to /usr/X11R6), but let us allow
+  # libtool to hard-code these into programs
+  ;;
+
+cygwin* | mingw* | pw32*)
+  version_type=windows
+  need_version=no
+  need_lib_prefix=no
+  case $GCC,$host_os in
+  yes,cygwin*)
+    library_names_spec='$libname.dll.a'
+    soname_spec='`echo ${libname} | sed -e 's/^lib/cyg/'``echo ${release} | sed -e 's/[[.]]/-/g'`${versuffix}.dll'
+    postinstall_cmds='dlpath=`bash 2&gt;&amp;1 -c '\''. $dir/${file}i;echo \$dlname'\''`~
+      dldir=$destdir/`dirname \$dlpath`~
+      test -d \$dldir || mkdir -p \$dldir~
+      $install_prog .libs/$dlname \$dldir/$dlname'
+    postuninstall_cmds='dldll=`bash 2&gt;&amp;1 -c '\''. $file; echo \$dlname'\''`~
+      dlpath=$dir/\$dldll~
+       $rm \$dlpath'
+    ;;
+  yes,mingw*)
+    library_names_spec='${libname}`echo ${release} | sed -e 's/[[.]]/-/g'`${versuffix}.dll'
+    sys_lib_search_path_spec=`$CC -print-search-dirs | grep &quot;^libraries:&quot; | sed -e &quot;s/^<A HREF="libraries://">libraries://</A>&quot; -e &quot;s/;/ /g&quot; -e &quot;s,=/,/,g&quot;`
+    ;;
+  yes,pw32*)
+    library_names_spec='`echo ${libname} | sed -e 's/^lib/pw/'``echo ${release} | sed -e 's/[.]/-/g'`${versuffix}.dll'
+    ;;
+  *)
+    library_names_spec='${libname}`echo ${release} | sed -e 's/[[.]]/-/g'`${versuffix}.dll $libname.lib'
+    ;;
+  esac
+  dynamic_linker='Win32 ld.exe'
+  # FIXME: first we should search . and the directory the executable is in
+  shlibpath_var=PATH
+  ;;
+
+darwin* | rhapsody*)
+  dynamic_linker=&quot;$host_os dyld&quot;
+  version_type=darwin
+  need_lib_prefix=no
+  need_version=no
+  # FIXME: Relying on posixy $() will cause problems for
+  #        cross-compilation, but unfortunately the echo tests do not
+  #        yet detect zsh echo's removal of \ escapes.
+  library_names_spec='${libname}${release}${versuffix}.$(test .$module = .yes &amp;&amp; echo so || echo dylib) ${libname}${release}${major}.$(test .$module = .yes &amp;&amp; echo so || echo dylib) ${libname}.$(test .$module = .yes &amp;&amp; echo so || echo dylib)'
+  soname_spec='${libname}${release}${major}.$(test .$module = .yes &amp;&amp; echo so || echo dylib)'
+  shlibpath_overrides_runpath=yes
+  shlibpath_var=DYLD_LIBRARY_PATH
+  ;;
+
+freebsd1*)
+  dynamic_linker=no
+  ;;
+
+freebsd*)
+  objformat=`test -x /usr/bin/objformat &amp;&amp; /usr/bin/objformat || echo aout`
+  version_type=freebsd-$objformat
+  case $version_type in
+    freebsd-elf*)
+      library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so $libname.so'
+      need_version=no
+      need_lib_prefix=no
+      ;;
+    freebsd-*)
+      library_names_spec='${libname}${release}.so$versuffix $libname.so$versuffix'
+      need_version=yes
+      ;;
+  esac
+  shlibpath_var=LD_LIBRARY_PATH
+  case $host_os in
+  freebsd2*)
+    shlibpath_overrides_runpath=yes
+    ;;
+  *)
+    shlibpath_overrides_runpath=no
+    hardcode_into_libs=yes
+    ;;
+  esac
+  ;;
+
+gnu*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so${major} ${libname}.so'
+  soname_spec='${libname}${release}.so$major'
+  shlibpath_var=LD_LIBRARY_PATH
+  hardcode_into_libs=yes
+  ;;
+
+hpux9* | hpux10* | hpux11*)
+  # Give a soname corresponding to the major version so that dld.sl refuses to
+  # link against other versions.
+  dynamic_linker=&quot;$host_os dld.sl&quot;
+  version_type=sunos
+  need_lib_prefix=no
+  need_version=no
+  shlibpath_var=SHLIB_PATH
+  shlibpath_overrides_runpath=no # +s is required to enable SHLIB_PATH
+  library_names_spec='${libname}${release}.sl$versuffix ${libname}${release}.sl$major $libname.sl'
+  soname_spec='${libname}${release}.sl$major'
+  # HP-UX runs *really* slowly unless shared libraries are mode 555.
+  postinstall_cmds='chmod 555 $lib'
+  ;;
+
+irix5* | irix6* | nonstopux*)
+  case $host_os in
+    nonstopux*) version_type=nonstopux ;;
+    *)          version_type=irix ;;
+  esac
+  need_lib_prefix=no
+  need_version=no
+  soname_spec='${libname}${release}.so$major'
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major ${libname}${release}.so $libname.so'
+  case $host_os in
+  irix5* | nonstopux*)
+    libsuff= shlibsuff=
+    ;;
+  *)
+    case $LD in # libtool.m4 will add one of these switches to LD
+    *-32|*&quot;-32 &quot;) libsuff= shlibsuff= libmagic=32-bit;;
+    *-n32|*&quot;-n32 &quot;) libsuff=32 shlibsuff=N32 libmagic=N32;;
+    *-64|*&quot;-64 &quot;) libsuff=64 shlibsuff=64 libmagic=64-bit;;
+    *) libsuff= shlibsuff= libmagic=never-match;;
+    esac
+    ;;
+  esac
+  shlibpath_var=LD_LIBRARY${shlibsuff}_PATH
+  shlibpath_overrides_runpath=no
+  sys_lib_search_path_spec=&quot;/usr/lib${libsuff} /lib${libsuff} /usr/local/lib${libsuff}&quot;
+  sys_lib_dlsearch_path_spec=&quot;/usr/lib${libsuff} /lib${libsuff}&quot;
+  ;;
+
+# No shared lib support for Linux oldld, aout, or coff.
+linux-gnuoldld* | linux-gnuaout* | linux-gnucoff*)
+  dynamic_linker=no
+  ;;
+
+# This must be Linux ELF.
+linux-gnu*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig -n $libdir'
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=no
+  # This implies no fast_install, which is unacceptable.
+  # Some rework will be needed to allow for fast_install
+  # before this can be enabled.
+  hardcode_into_libs=yes
+
+  case $host_cpu:$lt_cv_cc_64bit_output in
+  powerpc64:yes | s390x:yes | sparc64:yes | x86_64:yes)
+    sys_lib_dlsearch_path_spec=&quot;/lib64 /usr/lib64 /usr/X11R6/lib64&quot;
+    sys_lib_search_path_spec=&quot;/lib64 /usr/lib64 /usr/local/lib64 /usr/X11R6/lib64&quot;
+    ;;
+  esac
+
+  # We used to test for /lib/ld.so.1 and disable shared libraries on
+  # powerpc, because MkLinux only supported shared libraries with the
+  # GNU dynamic linker.  Since this was broken with cross compilers,
+  # most powerpc-linux boxes support dynamic linking these days and
+  # people can always --disable-shared, the test was removed, and we
+  # assume the GNU/Linux dynamic linker is in use.
+  dynamic_linker='GNU/Linux ld.so'
+
+  # Find out which ABI we are using (multilib Linux x86_64 hack).
+  libsuff=
+  case &quot;$host_cpu&quot; in
+  x86_64*)
+    echo '[#]line __oline__ &quot;configure&quot;' &gt; conftest.$ac_ext
+    if AC_TRY_EVAL(ac_compile); then
+      case `/usr/bin/file conftest.$ac_objext` in
+      *64-bit*)
+        libsuff=64
+        ;;
+      esac
+    fi
+    rm -rf conftest*
+    ;;
+  *)
+    ;;
+  esac
+  sys_lib_dlsearch_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff}&quot;
+  sys_lib_search_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}&quot;
+  ;;
+
+linux-uclibc*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig -n $libdir'
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=no
+  # This implies no fast_install, which is unacceptable.
+  # Some rework will be needed to allow for fast_install
+  # before this can be enabled.
+  # Note: copied from linux-gnu, and may not be appropriate.
+  hardcode_into_libs=yes
+  # Assume using the uClibc dynamic linker.
+  dynamic_linker=&quot;uClibc ld.so&quot;
+  ;;
+
+netbsd*)
+  version_type=sunos
+  need_lib_prefix=no
+  need_version=no
+  if echo __ELF__ | $CC -E - | grep __ELF__ &gt;/dev/null; then
+    library_names_spec='${libname}${release}.so$versuffix ${libname}.so$versuffix'
+    finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig -m $libdir'
+    dynamic_linker='NetBSD (a.out) ld.so'
+  else
+    library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major ${libname}${release}.so ${libname}.so'
+    soname_spec='${libname}${release}.so$major'
+    dynamic_linker='NetBSD ld.elf_so'
+  fi
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=yes
+  hardcode_into_libs=yes
+  ;;
+
+newsos6)
+  version_type=linux
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=yes
+  ;;
+
+openbsd*)
+  version_type=sunos
+  need_lib_prefix=no
+  need_version=no
+  if test -z &quot;`echo __ELF__ | $CC -E - | grep __ELF__`&quot; || test &quot;$host_os-$host_cpu&quot; = &quot;openbsd2.8-powerpc&quot;; then
+    case &quot;$host_os&quot; in
+    openbsd2.[[89]] | openbsd2.[[89]].*)
+      shlibpath_overrides_runpath=no
+      ;;
+    *)
+      shlibpath_overrides_runpath=yes
+      ;;
+    esac
+  else
+    shlibpath_overrides_runpath=yes
+  fi
+  library_names_spec='${libname}${release}.so$versuffix ${libname}.so$versuffix'
+  finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig -m $libdir'
+  shlibpath_var=LD_LIBRARY_PATH
+  ;;
+
+os2*)
+  libname_spec='$name'
+  need_lib_prefix=no
+  library_names_spec='$libname.dll $libname.a'
+  dynamic_linker='OS/2 ld.exe'
+  shlibpath_var=LIBPATH
+  ;;
+
+osf3* | osf4* | osf5*)
+  version_type=osf
+  need_version=no
+  soname_spec='${libname}${release}.so$major'
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  shlibpath_var=LD_LIBRARY_PATH
+  sys_lib_search_path_spec=&quot;/usr/shlib /usr/ccs/lib /usr/lib/cmplrs/cc /usr/lib /usr/local/lib /var/shlib&quot;
+  sys_lib_dlsearch_path_spec=&quot;$sys_lib_search_path_spec&quot;
+  hardcode_into_libs=yes
+  ;;
+
+sco3.2v5*)
+  version_type=osf
+  soname_spec='${libname}${release}.so$major'
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  shlibpath_var=LD_LIBRARY_PATH
+  ;;
+
+solaris*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=yes
+  hardcode_into_libs=yes
+  # ldd complains unless libraries are executable
+  postinstall_cmds='chmod +x $lib'
+  ;;
+
+sunos4*)
+  version_type=sunos
+  library_names_spec='${libname}${release}.so$versuffix ${libname}.so$versuffix'
+  finish_cmds='PATH=&quot;\$PATH:/usr/etc&quot; ldconfig $libdir'
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=yes
+  if test &quot;$with_gnu_ld&quot; = yes; then
+    need_lib_prefix=no
+  fi
+  need_version=yes
+  ;;
+
+sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+  version_type=linux
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  shlibpath_var=LD_LIBRARY_PATH
+  case $host_vendor in
+    sni)
+      shlibpath_overrides_runpath=no
+      need_lib_prefix=no
+      export_dynamic_flag_spec='${wl}-Blargedynsym'
+      runpath_var=LD_RUN_PATH
+      ;;
+    siemens)
+      need_lib_prefix=no
+      ;;
+    motorola)
+      need_lib_prefix=no
+      need_version=no
+      shlibpath_overrides_runpath=no
+      sys_lib_search_path_spec='/lib /usr/lib /usr/ccs/lib'
+      ;;
+  esac
+  ;;
+
+uts4*)
+  version_type=linux
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  shlibpath_var=LD_LIBRARY_PATH
+  ;;
+
+dgux*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  shlibpath_var=LD_LIBRARY_PATH
+  ;;
+
+sysv4*MP*)
+  if test -d /usr/nec ;then
+    version_type=linux
+    library_names_spec='$libname.so.$versuffix $libname.so.$major $libname.so'
+    soname_spec='$libname.so.$major'
+    shlibpath_var=LD_LIBRARY_PATH
+  fi
+  ;;
+
+*)
+  dynamic_linker=no
+  ;;
+esac
+AC_MSG_RESULT([$dynamic_linker])
+test &quot;$dynamic_linker&quot; = no &amp;&amp; can_build_shared=no
+
+# Report the final consequences.
+AC_MSG_CHECKING([if libtool supports shared libraries])
+AC_MSG_RESULT([$can_build_shared])
+
+AC_MSG_CHECKING([whether to build shared libraries])
+test &quot;$can_build_shared&quot; = &quot;no&quot; &amp;&amp; enable_shared=no
+
+# On AIX, shared libraries and static libraries use the same namespace, and
+# are all built from PIC.
+case &quot;$host_os&quot; in
+aix3*)
+  test &quot;$enable_shared&quot; = yes &amp;&amp; enable_static=no
+  if test -n &quot;$RANLIB&quot;; then
+    archive_cmds=&quot;$archive_cmds~\$RANLIB \$lib&quot;
+    postinstall_cmds='$RANLIB $lib'
+  fi
+  ;;
+
+aix4*)
+  if test &quot;$host_cpu&quot; != ia64 &amp;&amp; test &quot;$aix_use_runtimelinking&quot; = no ; then
+    test &quot;$enable_shared&quot; = yes &amp;&amp; enable_static=no
+  fi
+  ;;
+esac
+AC_MSG_RESULT([$enable_shared])
+
+AC_MSG_CHECKING([whether to build static libraries])
+# Make sure either enable_shared or enable_static is yes.
+test &quot;$enable_shared&quot; = yes || enable_static=yes
+AC_MSG_RESULT([$enable_static])
+
+if test &quot;$hardcode_action&quot; = relink; then
+  # Fast installation is not supported
+  enable_fast_install=no
+elif test &quot;$shlibpath_overrides_runpath&quot; = yes ||
+     test &quot;$enable_shared&quot; = no; then
+  # Fast installation is not necessary
+  enable_fast_install=needless
+fi
+
+variables_saved_for_relink=&quot;PATH $shlibpath_var $runpath_var&quot;
+if test &quot;$GCC&quot; = yes; then
+  variables_saved_for_relink=&quot;$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH&quot;
+fi
+
+AC_LIBTOOL_DLOPEN_SELF
+
+if test &quot;$enable_shared&quot; = yes &amp;&amp; test &quot;$GCC&quot; = yes; then
+  case $archive_cmds in
+  *'~'*)
+    # FIXME: we may have to deal with multi-command sequences.
+    ;;
+  '$CC '*)
+    # Test whether the compiler implicitly links with -lc since on some
+    # systems, -lgcc has to come before -lc. If gcc already passes -lc
+    # to ld, don't add -lc before -lgcc.
+    AC_MSG_CHECKING([whether -lc should be explicitly linked in])
+    AC_CACHE_VAL([lt_cv_archive_cmds_need_lc],
+    [$rm conftest*
+    echo 'static int dummy;' &gt; conftest.$ac_ext
+
+    if AC_TRY_EVAL(ac_compile); then
+      soname=conftest
+      lib=conftest
+      libobjs=conftest.$ac_objext
+      deplibs=
+      wl=$lt_cv_prog_cc_wl
+      compiler_flags=-v
+      linker_flags=-v
+      verstring=
+      output_objdir=.
+      libname=conftest
+      save_allow_undefined_flag=$allow_undefined_flag
+      allow_undefined_flag=
+      if AC_TRY_EVAL(archive_cmds 2\&gt;\&amp;1 \| grep \&quot; -lc \&quot; \&gt;/dev/null 2\&gt;\&amp;1)
+      then
+	lt_cv_archive_cmds_need_lc=no
+      else
+	lt_cv_archive_cmds_need_lc=yes
+      fi
+      allow_undefined_flag=$save_allow_undefined_flag
+    else
+      cat conftest.err 1&gt;&amp;5
+    fi])
+    AC_MSG_RESULT([$lt_cv_archive_cmds_need_lc])
+    ;;
+  esac
+fi
+need_lc=${lt_cv_archive_cmds_need_lc-yes}
+
+# The second clause should only fire when bootstrapping the
+# libtool distribution, otherwise you forgot to ship ltmain.sh
+# with your package, and you will get complaints that there are
+# no rules to generate ltmain.sh.
+if test -f &quot;$ltmain&quot;; then
+  :
+else
+  # If there is no Makefile yet, we rely on a make rule to execute
+  # `config.status --recheck' to rerun these tests and create the
+  # libtool script then.
+  test -f Makefile &amp;&amp; make &quot;$ltmain&quot;
+fi
+
+if test -f &quot;$ltmain&quot;; then
+  trap &quot;$rm \&quot;${ofile}T\&quot;; exit 1&quot; 1 2 15
+  $rm -f &quot;${ofile}T&quot;
+
+  echo creating $ofile
+
+  # Now quote all the things that may contain metacharacters while being
+  # careful not to overquote the AC_SUBSTed values.  We take copies of the
+  # variables and quote the copies for generation of the libtool script.
+  for var in echo old_CC old_CFLAGS SED \
+    AR AR_FLAGS CC LD LN_S NM SHELL \
+    reload_flag reload_cmds wl \
+    pic_flag link_static_flag no_builtin_flag export_dynamic_flag_spec \
+    thread_safe_flag_spec whole_archive_flag_spec libname_spec \
+    library_names_spec soname_spec \
+    RANLIB old_archive_cmds old_archive_from_new_cmds old_postinstall_cmds \
+    old_postuninstall_cmds archive_cmds archive_expsym_cmds postinstall_cmds \
+    postuninstall_cmds extract_expsyms_cmds old_archive_from_expsyms_cmds \
+    old_striplib striplib file_magic_cmd export_symbols_cmds \
+    deplibs_check_method allow_undefined_flag no_undefined_flag \
+    finish_cmds finish_eval global_symbol_pipe global_symbol_to_cdecl \
+    global_symbol_to_c_name_address \
+    hardcode_libdir_flag_spec hardcode_libdir_separator  \
+    sys_lib_search_path_spec sys_lib_dlsearch_path_spec \
+    compiler_c_o compiler_o_lo need_locks exclude_expsyms include_expsyms; do
+
+    case $var in
+    reload_cmds | old_archive_cmds | old_archive_from_new_cmds | \
+    old_postinstall_cmds | old_postuninstall_cmds | \
+    export_symbols_cmds | archive_cmds | archive_expsym_cmds | \
+    extract_expsyms_cmds | old_archive_from_expsyms_cmds | \
+    postinstall_cmds | postuninstall_cmds | \
+    finish_cmds | sys_lib_search_path_spec | sys_lib_dlsearch_path_spec)
+      # Double-quote double-evaled strings.
+      eval &quot;lt_$var=\\\&quot;\`\$echo \&quot;X\$$var\&quot; | \$Xsed -e \&quot;\$double_quote_subst\&quot; -e \&quot;\$sed_quote_subst\&quot; -e \&quot;\$delay_variable_subst\&quot;\`\\\&quot;&quot;
+      ;;
+    *)
+      eval &quot;lt_$var=\\\&quot;\`\$echo \&quot;X\$$var\&quot; | \$Xsed -e \&quot;\$sed_quote_subst\&quot;\`\\\&quot;&quot;
+      ;;
+    esac
+  done
+
+  cat &lt;&lt;__EOF__ &gt; &quot;${ofile}T&quot;
+#! $SHELL
+
+# `$echo &quot;$ofile&quot; | sed 's%^.*/%%'` - Provide generalized library-building support services.
+# Generated automatically by $PROGRAM (GNU $PACKAGE $VERSION$TIMESTAMP)
+# NOTE: Changes made to this file will be lost: look at ltmain.sh.
+#
+# Copyright (C) 1996-2000 Free Software Foundation, Inc.
+# Originally by Gordon Matzigkeit &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">gord at gnu.ai.mit.edu</A>&gt;, 1996
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful, but
+# WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+# General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+#
+# As a special exception to the GNU General Public License, if you
+# distribute this file as part of a program that contains a
+# configuration script generated by Autoconf, you may include it under
+# the same distribution terms that you use for the rest of that program.
+
+# A sed that does not truncate output.
+SED=$lt_SED
+
+# Sed that helps us avoid accidentally triggering echo(1) options like -n.
+Xsed=&quot;${SED} -e s/^X//&quot;
+
+# The HP-UX ksh and POSIX shell print the target directory to stdout
+# if CDPATH is set.
+if test &quot;X\${CDPATH+set}&quot; = Xset; then CDPATH=:; export CDPATH; fi
+
+# ### BEGIN LIBTOOL CONFIG
+
+# Libtool was configured on host `(hostname || uname -n) 2&gt;/dev/null | sed 1q`:
+
+# Shell to use when invoking shell scripts.
+SHELL=$lt_SHELL
+
+# Whether or not to build shared libraries.
+build_libtool_libs=$enable_shared
+
+# Whether or not to build static libraries.
+build_old_libs=$enable_static
+
+# Whether or not to add -lc for building shared libraries.
+build_libtool_need_lc=$need_lc
+
+# Whether or not to optimize for fast installation.
+fast_install=$enable_fast_install
+
+# The host system.
+host_alias=$host_alias
+host=$host
+
+# An echo program that does not interpret backslashes.
+echo=$lt_echo
+
+# The archiver.
+AR=$lt_AR
+AR_FLAGS=$lt_AR_FLAGS
+
+# The default C compiler.
+CC=$lt_CC
+
+# Is the compiler the GNU C compiler?
+with_gcc=$GCC
+
+# The linker used to build libraries.
+LD=$lt_LD
+
+# Whether we need hard or soft links.
+LN_S=$lt_LN_S
+
+# A BSD-compatible nm program.
+NM=$lt_NM
+
+# A symbol stripping program
+STRIP=$STRIP
+
+# Used to examine libraries when file_magic_cmd begins &quot;file&quot;
+MAGIC_CMD=$MAGIC_CMD
+
+# Used on cygwin: DLL creation program.
+DLLTOOL=&quot;$DLLTOOL&quot;
+
+# Used on cygwin: object dumper.
+OBJDUMP=&quot;$OBJDUMP&quot;
+
+# Used on cygwin: assembler.
+AS=&quot;$AS&quot;
+
+# The name of the directory that contains temporary libtool files.
+objdir=$objdir
+
+# How to create reloadable object files.
+reload_flag=$lt_reload_flag
+reload_cmds=$lt_reload_cmds
+
+# How to pass a linker flag through the compiler.
+wl=$lt_wl
+
+# Object file suffix (normally &quot;o&quot;).
+objext=&quot;$ac_objext&quot;
+
+# Old archive suffix (normally &quot;a&quot;).
+libext=&quot;$libext&quot;
+
+# Executable file suffix (normally &quot;&quot;).
+exeext=&quot;$exeext&quot;
+
+# Additional compiler flags for building library objects.
+pic_flag=$lt_pic_flag
+pic_mode=$pic_mode
+
+# Does compiler simultaneously support -c and -o options?
+compiler_c_o=$lt_compiler_c_o
+
+# Can we write directly to a .lo ?
+compiler_o_lo=$lt_compiler_o_lo
+
+# Must we lock files when doing compilation ?
+need_locks=$lt_need_locks
+
+# Do we need the lib prefix for modules?
+need_lib_prefix=$need_lib_prefix
+
+# Do we need a version for libraries?
+need_version=$need_version
+
+# Whether dlopen is supported.
+dlopen_support=$enable_dlopen
+
+# Whether dlopen of programs is supported.
+dlopen_self=$enable_dlopen_self
+
+# Whether dlopen of statically linked programs is supported.
+dlopen_self_static=$enable_dlopen_self_static
+
+# Compiler flag to prevent dynamic linking.
+link_static_flag=$lt_link_static_flag
+
+# Compiler flag to turn off builtin functions.
+no_builtin_flag=$lt_no_builtin_flag
+
+# Compiler flag to allow reflexive dlopens.
+export_dynamic_flag_spec=$lt_export_dynamic_flag_spec
+
+# Compiler flag to generate shared objects directly from archives.
+whole_archive_flag_spec=$lt_whole_archive_flag_spec
+
+# Compiler flag to generate thread-safe objects.
+thread_safe_flag_spec=$lt_thread_safe_flag_spec
+
+# Library versioning type.
+version_type=$version_type
+
+# Format of library name prefix.
+libname_spec=$lt_libname_spec
+
+# List of archive names.  First name is the real one, the rest are links.
+# The last name is the one that the linker finds with -lNAME.
+library_names_spec=$lt_library_names_spec
+
+# The coded name of the library, if different from the real name.
+soname_spec=$lt_soname_spec
+
+# Commands used to build and install an old-style archive.
+RANLIB=$lt_RANLIB
+old_archive_cmds=$lt_old_archive_cmds
+old_postinstall_cmds=$lt_old_postinstall_cmds
+old_postuninstall_cmds=$lt_old_postuninstall_cmds
+
+# Create an old-style archive from a shared archive.
+old_archive_from_new_cmds=$lt_old_archive_from_new_cmds
+
+# Create a temporary old-style archive to link instead of a shared archive.
+old_archive_from_expsyms_cmds=$lt_old_archive_from_expsyms_cmds
+
+# Commands used to build and install a shared archive.
+archive_cmds=$lt_archive_cmds
+archive_expsym_cmds=$lt_archive_expsym_cmds
+postinstall_cmds=$lt_postinstall_cmds
+postuninstall_cmds=$lt_postuninstall_cmds
+
+# Commands to strip libraries.
+old_striplib=$lt_old_striplib
+striplib=$lt_striplib
+
+# Method to check whether dependent libraries are shared objects.
+deplibs_check_method=$lt_deplibs_check_method
+
+# Command to use when deplibs_check_method == file_magic.
+file_magic_cmd=$lt_file_magic_cmd
+
+# Flag that allows shared libraries with undefined symbols to be built.
+allow_undefined_flag=$lt_allow_undefined_flag
+
+# Flag that forces no undefined symbols.
+no_undefined_flag=$lt_no_undefined_flag
+
+# Commands used to finish a libtool library installation in a directory.
+finish_cmds=$lt_finish_cmds
+
+# Same as above, but a single script fragment to be evaled but not shown.
+finish_eval=$lt_finish_eval
+
+# Take the output of nm and produce a listing of raw symbols and C names.
+global_symbol_pipe=$lt_global_symbol_pipe
+
+# Transform the output of nm in a proper C declaration
+global_symbol_to_cdecl=$lt_global_symbol_to_cdecl
+
+# Transform the output of nm in a C name address pair
+global_symbol_to_c_name_address=$lt_global_symbol_to_c_name_address
+
+# This is the shared library runtime path variable.
+runpath_var=$runpath_var
+
+# This is the shared library path variable.
+shlibpath_var=$shlibpath_var
+
+# Is shlibpath searched before the hard-coded library search path?
+shlibpath_overrides_runpath=$shlibpath_overrides_runpath
+
+# How to hardcode a shared library path into an executable.
+hardcode_action=$hardcode_action
+
+# Whether we should hardcode library paths into libraries.
+hardcode_into_libs=$hardcode_into_libs
+
+# Flag to hardcode \$libdir into a binary during linking.
+# This must work even if \$libdir does not exist.
+hardcode_libdir_flag_spec=$lt_hardcode_libdir_flag_spec
+
+# Whether we need a single -rpath flag with a separated argument.
+hardcode_libdir_separator=$lt_hardcode_libdir_separator
+
+# Set to yes if using DIR/libNAME.so during linking hardcodes DIR into the
+# resulting binary.
+hardcode_direct=$hardcode_direct
+
+# Set to yes if using the -LDIR flag during linking hardcodes DIR into the
+# resulting binary.
+hardcode_minus_L=$hardcode_minus_L
+
+# Set to yes if using SHLIBPATH_VAR=DIR during linking hardcodes DIR into
+# the resulting binary.
+hardcode_shlibpath_var=$hardcode_shlibpath_var
+
+# Variables whose values should be saved in libtool wrapper scripts and
+# restored at relink time.
+variables_saved_for_relink=&quot;$variables_saved_for_relink&quot;
+
+# Whether libtool must link a program against all its dependency libraries.
+link_all_deplibs=$link_all_deplibs
+
+# Compile-time system search path for libraries
+sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
+
+# Run-time system search path for libraries
+sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+
+# Fix the shell variable \$srcfile for the compiler.
+fix_srcfile_path=&quot;$fix_srcfile_path&quot;
+
+# Set to yes if exported symbols are required.
+always_export_symbols=$always_export_symbols
+
+# The commands to list exported symbols.
+export_symbols_cmds=$lt_export_symbols_cmds
+
+# The commands to extract the exported symbol list from a shared archive.
+extract_expsyms_cmds=$lt_extract_expsyms_cmds
+
+# Symbols that should not be listed in the preloaded symbols.
+exclude_expsyms=$lt_exclude_expsyms
+
+# Symbols that must always be exported.
+include_expsyms=$lt_include_expsyms
+
+# ### END LIBTOOL CONFIG
+
+__EOF__
+
+  case $host_os in
+  aix3*)
+    cat &lt;&lt;\EOF &gt;&gt; &quot;${ofile}T&quot;
+
+# AIX sometimes has problems with the GCC collect2 program.  For some
+# reason, if we set the COLLECT_NAMES environment variable, the problems
+# vanish in a puff of smoke.
+if test &quot;X${COLLECT_NAMES+set}&quot; != Xset; then
+  COLLECT_NAMES=
+  export COLLECT_NAMES
+fi
+EOF
+    ;;
+  esac
+
+  case $host_os in
+  cygwin* | mingw* | pw32* | os2*)
+    cat &lt;&lt;'EOF' &gt;&gt; &quot;${ofile}T&quot;
+      # This is a source program that is used to create dlls on Windows
+      # Don't remove nor modify the starting and closing comments
+# /* ltdll.c starts here */
+# #define WIN32_LEAN_AND_MEAN
+# #include &lt;windows.h&gt;
+# #undef WIN32_LEAN_AND_MEAN
+# #include &lt;stdio.h&gt;
+#
+# #ifndef __CYGWIN__
+# #  ifdef __CYGWIN32__
+# #    define __CYGWIN__ __CYGWIN32__
+# #  endif
+# #endif
+#
+# #ifdef __cplusplus
+# extern &quot;C&quot; {
+# #endif
+# BOOL APIENTRY DllMain (HINSTANCE hInst, DWORD reason, LPVOID reserved);
+# #ifdef __cplusplus
+# }
+# #endif
+#
+# #ifdef __CYGWIN__
+# #include &lt;cygwin/cygwin_dll.h&gt;
+# DECLARE_CYGWIN_DLL( DllMain );
+# #endif
+# HINSTANCE __hDllInstance_base;
+#
+# BOOL APIENTRY
+# DllMain (HINSTANCE hInst, DWORD reason, LPVOID reserved)
+# {
+#   __hDllInstance_base = hInst;
+#   return TRUE;
+# }
+# /* ltdll.c ends here */
+	# This is a source program that is used to create import libraries
+	# on Windows for dlls which lack them. Don't remove nor modify the
+	# starting and closing comments
+# /* impgen.c starts here */
+# /*   Copyright (C) 1999-2000 Free Software Foundation, Inc.
+#
+#  This file is part of GNU libtool.
+#
+#  This program is free software; you can redistribute it and/or modify
+#  it under the terms of the GNU General Public License as published by
+#  the Free Software Foundation; either version 2 of the License, or
+#  (at your option) any later version.
+#
+#  This program is distributed in the hope that it will be useful,
+#  but WITHOUT ANY WARRANTY; without even the implied warranty of
+#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+#  GNU General Public License for more details.
+#
+#  You should have received a copy of the GNU General Public License
+#  along with this program; if not, write to the Free Software
+#  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+#  */
+#
+# #include &lt;stdio.h&gt;		/* for printf() */
+# #include &lt;unistd.h&gt;		/* for open(), lseek(), read() */
+# #include &lt;fcntl.h&gt;		/* for O_RDONLY, O_BINARY */
+# #include &lt;string.h&gt;		/* for strdup() */
+#
+# /* O_BINARY isn't required (or even defined sometimes) under Unix */
+# #ifndef O_BINARY
+# #define O_BINARY 0
+# #endif
+#
+# static unsigned int
+# pe_get16 (fd, offset)
+#      int fd;
+#      int offset;
+# {
+#   unsigned char b[2];
+#   lseek (fd, offset, SEEK_SET);
+#   read (fd, b, 2);
+#   return b[0] + (b[1]&lt;&lt;8);
+# }
+#
+# static unsigned int
+# pe_get32 (fd, offset)
+#     int fd;
+#     int offset;
+# {
+#   unsigned char b[4];
+#   lseek (fd, offset, SEEK_SET);
+#   read (fd, b, 4);
+#   return b[0] + (b[1]&lt;&lt;8) + (b[2]&lt;&lt;16) + (b[3]&lt;&lt;24);
+# }
+#
+# static unsigned int
+# pe_as32 (ptr)
+#      void *ptr;
+# {
+#   unsigned char *b = ptr;
+#   return b[0] + (b[1]&lt;&lt;8) + (b[2]&lt;&lt;16) + (b[3]&lt;&lt;24);
+# }
+#
+# int
+# main (argc, argv)
+#     int argc;
+#     char *argv[];
+# {
+#     int dll;
+#     unsigned long pe_header_offset, opthdr_ofs, num_entries, i;
+#     unsigned long export_rva, export_size, nsections, secptr, expptr;
+#     unsigned long name_rvas, nexp;
+#     unsigned char *expdata, *erva;
+#     char *filename, *dll_name;
+#
+#     filename = argv[1];
+#
+#     dll = open(filename, O_RDONLY|O_BINARY);
+#     if (dll &lt; 1)
+# 	return 1;
+#
+#     dll_name = filename;
+#
+#     for (i=0; filename[i]; i++)
+# 	if (filename[i] == '/' || filename[i] == '\\'  || filename[i] == ':')
+# 	    dll_name = filename + i +1;
+#
+#     pe_header_offset = pe_get32 (dll, 0x3c);
+#     opthdr_ofs = pe_header_offset + 4 + 20;
+#     num_entries = pe_get32 (dll, opthdr_ofs + 92);
+#
+#     if (num_entries &lt; 1) /* no exports */
+# 	return 1;
+#
+#     export_rva = pe_get32 (dll, opthdr_ofs + 96);
+#     export_size = pe_get32 (dll, opthdr_ofs + 100);
+#     nsections = pe_get16 (dll, pe_header_offset + 4 +2);
+#     secptr = (pe_header_offset + 4 + 20 +
+# 	      pe_get16 (dll, pe_header_offset + 4 + 16));
+#
+#     expptr = 0;
+#     for (i = 0; i &lt; nsections; i++)
+#     {
+# 	char sname[8];
+# 	unsigned long secptr1 = secptr + 40 * i;
+# 	unsigned long vaddr = pe_get32 (dll, secptr1 + 12);
+# 	unsigned long vsize = pe_get32 (dll, secptr1 + 16);
+# 	unsigned long fptr = pe_get32 (dll, secptr1 + 20);
+# 	lseek(dll, secptr1, SEEK_SET);
+# 	read(dll, sname, 8);
+# 	if (vaddr &lt;= export_rva &amp;&amp; vaddr+vsize &gt; export_rva)
+# 	{
+# 	    expptr = fptr + (export_rva - vaddr);
+# 	    if (export_rva + export_size &gt; vaddr + vsize)
+# 		export_size = vsize - (export_rva - vaddr);
+# 	    break;
+# 	}
+#     }
+#
+#     expdata = (unsigned char*)malloc(export_size);
+#     lseek (dll, expptr, SEEK_SET);
+#     read (dll, expdata, export_size);
+#     erva = expdata - export_rva;
+#
+#     nexp = pe_as32 (expdata+24);
+#     name_rvas = pe_as32 (expdata+32);
+#
+#     printf (&quot;EXPORTS\n&quot;);
+#     for (i = 0; i&lt;nexp; i++)
+#     {
+# 	unsigned long name_rva = pe_as32 (erva+name_rvas+i*4);
+# 	printf (&quot;\t%s @ %ld ;\n&quot;, erva+name_rva, 1+ i);
+#     }
+#
+#     return 0;
+# }
+# /* impgen.c ends here */
+
+EOF
+    ;;
+  esac
+
+  # We use sed instead of cat because bash on DJGPP gets confused if
+  # if finds mixed CR/LF and LF-only lines.  Since sed operates in
+  # text mode, it properly converts lines to CR/LF.  This bash problem
+  # is reportedly fixed, but why not run on old versions too?
+  sed '$q' &quot;$ltmain&quot; &gt;&gt; &quot;${ofile}T&quot; || (rm -f &quot;${ofile}T&quot;; exit 1)
+
+  mv -f &quot;${ofile}T&quot; &quot;$ofile&quot; || \
+    (rm -f &quot;$ofile&quot; &amp;&amp; cp &quot;${ofile}T&quot; &quot;$ofile&quot; &amp;&amp; rm -f &quot;${ofile}T&quot;)
+  chmod +x &quot;$ofile&quot;
+fi
+
+])# _LT_AC_LTCONFIG_HACK
+
+# AC_LIBTOOL_DLOPEN - enable checks for dlopen support
+AC_DEFUN([AC_LIBTOOL_DLOPEN], [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])])
+
+# AC_LIBTOOL_WIN32_DLL - declare package support for building win32 dll's
+AC_DEFUN([AC_LIBTOOL_WIN32_DLL], [AC_BEFORE([$0], [AC_LIBTOOL_SETUP])])
+
+# AC_ENABLE_SHARED - implement the --enable-shared flag
+# Usage: AC_ENABLE_SHARED[(DEFAULT)]
+#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to
+#   `yes'.
+AC_DEFUN([AC_ENABLE_SHARED],
+[define([AC_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl
+AC_ARG_ENABLE(shared,
+changequote(&lt;&lt;, &gt;&gt;)dnl
+&lt;&lt;  --enable-shared[=PKGS]  build shared libraries [default=&gt;&gt;AC_ENABLE_SHARED_DEFAULT],
+changequote([, ])dnl
+[p=${PACKAGE-default}
+case $enableval in
+yes) enable_shared=yes ;;
+no) enable_shared=no ;;
+*)
+  enable_shared=no
+  # Look at the argument we got.  We use all the common list separators.
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;${IFS}:,&quot;
+  for pkg in $enableval; do
+    if test &quot;X$pkg&quot; = &quot;X$p&quot;; then
+      enable_shared=yes
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+  ;;
+esac],
+enable_shared=AC_ENABLE_SHARED_DEFAULT)dnl
+])
+
+# AC_DISABLE_SHARED - set the default shared flag to --disable-shared
+AC_DEFUN([AC_DISABLE_SHARED],
+[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+AC_ENABLE_SHARED(no)])
+
+# AC_ENABLE_STATIC - implement the --enable-static flag
+# Usage: AC_ENABLE_STATIC[(DEFAULT)]
+#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to
+#   `yes'.
+AC_DEFUN([AC_ENABLE_STATIC],
+[define([AC_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl
+AC_ARG_ENABLE(static,
+changequote(&lt;&lt;, &gt;&gt;)dnl
+&lt;&lt;  --enable-static[=PKGS]  build static libraries [default=&gt;&gt;AC_ENABLE_STATIC_DEFAULT],
+changequote([, ])dnl
+[p=${PACKAGE-default}
+case $enableval in
+yes) enable_static=yes ;;
+no) enable_static=no ;;
+*)
+  enable_static=no
+  # Look at the argument we got.  We use all the common list separators.
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;${IFS}:,&quot;
+  for pkg in $enableval; do
+    if test &quot;X$pkg&quot; = &quot;X$p&quot;; then
+      enable_static=yes
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+  ;;
+esac],
+enable_static=AC_ENABLE_STATIC_DEFAULT)dnl
+])
+
+# AC_DISABLE_STATIC - set the default static flag to --disable-static
+AC_DEFUN([AC_DISABLE_STATIC],
+[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+AC_ENABLE_STATIC(no)])
+
+
+# AC_ENABLE_FAST_INSTALL - implement the --enable-fast-install flag
+# Usage: AC_ENABLE_FAST_INSTALL[(DEFAULT)]
+#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to
+#   `yes'.
+AC_DEFUN([AC_ENABLE_FAST_INSTALL],
+[define([AC_ENABLE_FAST_INSTALL_DEFAULT], ifelse($1, no, no, yes))dnl
+AC_ARG_ENABLE(fast-install,
+changequote(&lt;&lt;, &gt;&gt;)dnl
+&lt;&lt;  --enable-fast-install[=PKGS]  optimize for fast installation [default=&gt;&gt;AC_ENABLE_FAST_INSTALL_DEFAULT],
+changequote([, ])dnl
+[p=${PACKAGE-default}
+case $enableval in
+yes) enable_fast_install=yes ;;
+no) enable_fast_install=no ;;
+*)
+  enable_fast_install=no
+  # Look at the argument we got.  We use all the common list separators.
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;${IFS}:,&quot;
+  for pkg in $enableval; do
+    if test &quot;X$pkg&quot; = &quot;X$p&quot;; then
+      enable_fast_install=yes
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+  ;;
+esac],
+enable_fast_install=AC_ENABLE_FAST_INSTALL_DEFAULT)dnl
+])
+
+# AC_DISABLE_FAST_INSTALL - set the default to --disable-fast-install
+AC_DEFUN([AC_DISABLE_FAST_INSTALL],
+[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+AC_ENABLE_FAST_INSTALL(no)])
+
+# AC_LIBTOOL_PICMODE - implement the --with-pic flag
+# Usage: AC_LIBTOOL_PICMODE[(MODE)]
+#   Where MODE is either `yes' or `no'.  If omitted, it defaults to
+#   `both'.
+AC_DEFUN([AC_LIBTOOL_PICMODE],
+[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+pic_mode=ifelse($#,1,$1,default)])
+
+
+# AC_PATH_TOOL_PREFIX - find a file program which can recognise shared library
+AC_DEFUN([AC_PATH_TOOL_PREFIX],
+[AC_MSG_CHECKING([for $1])
+AC_CACHE_VAL(lt_cv_path_MAGIC_CMD,
+[case $MAGIC_CMD in
+  /*)
+  lt_cv_path_MAGIC_CMD=&quot;$MAGIC_CMD&quot; # Let the user override the test with a path.
+  ;;
+  ?:/*)
+  lt_cv_path_MAGIC_CMD=&quot;$MAGIC_CMD&quot; # Let the user override the test with a dos path.
+  ;;
+  *)
+  ac_save_MAGIC_CMD=&quot;$MAGIC_CMD&quot;
+  IFS=&quot;${IFS=   }&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;:&quot;
+dnl $ac_dummy forces splitting on constant user-supplied paths.
+dnl POSIX.2 word splitting is done only on the output of word expansions,
+dnl not every word.  This closes a longstanding sh security hole.
+  ac_dummy=&quot;ifelse([$2], , $PATH, [$2])&quot;
+  for ac_dir in $ac_dummy; do
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f $ac_dir/$1; then
+      lt_cv_path_MAGIC_CMD=&quot;$ac_dir/$1&quot;
+      if test -n &quot;$file_magic_test_file&quot;; then
+	case $deplibs_check_method in
+	&quot;file_magic &quot;*)
+	  file_magic_regex=&quot;`expr \&quot;$deplibs_check_method\&quot; : \&quot;file_magic \(.*\)\&quot;`&quot;
+	  MAGIC_CMD=&quot;$lt_cv_path_MAGIC_CMD&quot;
+	  if eval $file_magic_cmd \$file_magic_test_file 2&gt; /dev/null |
+	    egrep &quot;$file_magic_regex&quot; &gt; /dev/null; then
+	    :
+	  else
+	    cat &lt;&lt;EOF 1&gt;&amp;2
+
+*** Warning: the command libtool uses to detect shared libraries,
+*** $file_magic_cmd, produces output that libtool cannot recognize.
+*** The result is that libtool may fail to recognize shared libraries
+*** as such.  This will affect the creation of libtool libraries that
+*** depend on shared libraries, but programs linked with such libtool
+*** libraries will work regardless of this problem.  Nevertheless, you
+*** may want to report the problem to your system manager and/or to
+*** <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">bug-libtool at gnu.org</A>
+
+EOF
+	  fi ;;
+	esac
+      fi
+      break
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+  MAGIC_CMD=&quot;$ac_save_MAGIC_CMD&quot;
+  ;;
+esac])
+MAGIC_CMD=&quot;$lt_cv_path_MAGIC_CMD&quot;
+if test -n &quot;$MAGIC_CMD&quot;; then
+  AC_MSG_RESULT($MAGIC_CMD)
+else
+  AC_MSG_RESULT(no)
+fi
+])
+
+
+# AC_PATH_MAGIC - find a file program which can recognise a shared library
+AC_DEFUN([AC_PATH_MAGIC],
+[AC_REQUIRE([AC_CHECK_TOOL_PREFIX])dnl
+AC_PATH_TOOL_PREFIX(${ac_tool_prefix}file, /usr/bin:$PATH)
+if test -z &quot;$lt_cv_path_MAGIC_CMD&quot;; then
+  if test -n &quot;$ac_tool_prefix&quot;; then
+    AC_PATH_TOOL_PREFIX(file, /usr/bin:$PATH)
+  else
+    MAGIC_CMD=:
+  fi
+fi
+])
+
+
+# AC_PROG_LD - find the path to the GNU or non-GNU linker
+AC_DEFUN([AC_PROG_LD],
+[AC_ARG_WITH(gnu-ld,
+[  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]],
+test &quot;$withval&quot; = no || with_gnu_ld=yes, with_gnu_ld=no)
+AC_REQUIRE([AC_PROG_CC])dnl
+AC_REQUIRE([AC_CANONICAL_HOST])dnl
+AC_REQUIRE([AC_CANONICAL_BUILD])dnl
+AC_REQUIRE([_LT_AC_LIBTOOL_SYS_PATH_SEPARATOR])dnl
+ac_prog=ld
+if test &quot;$GCC&quot; = yes; then
+  # Check if gcc -print-prog-name=ld gives a path.
+  AC_MSG_CHECKING([for ld used by GCC])
+  case $host in
+  *-*-mingw*)
+    # gcc leaves a trailing carriage return which upsets mingw
+    ac_prog=`($CC -print-prog-name=ld) 2&gt;&amp;5 | tr -d '\015'` ;;
+  *)
+    ac_prog=`($CC -print-prog-name=ld) 2&gt;&amp;5` ;;
+  esac
+  case $ac_prog in
+    # Accept absolute paths.
+    [[\\/]]* | [[A-Za-z]]:[[\\/]]*)
+      re_direlt='/[[^/]][[^/]]*/\.\./'
+      # Canonicalize the path of ld
+      ac_prog=`echo $ac_prog| sed 's%\\\\%/%g'`
+      while echo $ac_prog | grep &quot;$re_direlt&quot; &gt; /dev/null 2&gt;&amp;1; do
+	ac_prog=`echo $ac_prog| sed &quot;s%$re_direlt%/%&quot;`
+      done
+      test -z &quot;$LD&quot; &amp;&amp; LD=&quot;$ac_prog&quot;
+      ;;
+  &quot;&quot;)
+    # If it fails, then pretend we aren't using GCC.
+    ac_prog=ld
+    ;;
+  *)
+    # If it is relative, then search for the first ld in PATH.
+    with_gnu_ld=unknown
+    ;;
+  esac
+elif test &quot;$with_gnu_ld&quot; = yes; then
+  AC_MSG_CHECKING([for GNU ld])
+else
+  AC_MSG_CHECKING([for non-GNU ld])
+fi
+AC_CACHE_VAL(lt_cv_path_LD,
+[if test -z &quot;$LD&quot;; then
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=$PATH_SEPARATOR
+  for ac_dir in $PATH; do
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f &quot;$ac_dir/$ac_prog&quot; || test -f &quot;$ac_dir/$ac_prog$ac_exeext&quot;; then
+      lt_cv_path_LD=&quot;$ac_dir/$ac_prog&quot;
+      # Check to see if the program is GNU ld.  I'd rather use --version,
+      # but apparently some GNU ld's only accept -v.
+      # Break only if it was the GNU/non-GNU ld that we prefer.
+      if &quot;$lt_cv_path_LD&quot; -v 2&gt;&amp;1 &lt; /dev/null | egrep '(GNU|with BFD)' &gt; /dev/null; then
+	test &quot;$with_gnu_ld&quot; != no &amp;&amp; break
+      else
+	test &quot;$with_gnu_ld&quot; != yes &amp;&amp; break
+      fi
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+else
+  lt_cv_path_LD=&quot;$LD&quot; # Let the user override the test with a path.
+fi])
+LD=&quot;$lt_cv_path_LD&quot;
+if test -n &quot;$LD&quot;; then
+  AC_MSG_RESULT($LD)
+else
+  AC_MSG_RESULT(no)
+fi
+test -z &quot;$LD&quot; &amp;&amp; AC_MSG_ERROR([no acceptable ld found in \$PATH])
+AC_PROG_LD_GNU
+])
+
+# AC_PROG_LD_GNU -
+AC_DEFUN([AC_PROG_LD_GNU],
+[AC_CACHE_CHECK([if the linker ($LD) is GNU ld], lt_cv_prog_gnu_ld,
+[# I'd rather use --version here, but apparently some GNU ld's only accept -v.
+if $LD -v 2&gt;&amp;1 &lt;/dev/null | egrep '(GNU|with BFD)' 1&gt;&amp;5; then
+  lt_cv_prog_gnu_ld=yes
+else
+  lt_cv_prog_gnu_ld=no
+fi])
+with_gnu_ld=$lt_cv_prog_gnu_ld
+])
+
+# AC_PROG_LD_RELOAD_FLAG - find reload flag for linker
+#   -- PORTME Some linkers may need a different reload flag.
+AC_DEFUN([AC_PROG_LD_RELOAD_FLAG],
+[AC_CACHE_CHECK([for $LD option to reload object files], lt_cv_ld_reload_flag,
+[lt_cv_ld_reload_flag='-r'])
+reload_flag=$lt_cv_ld_reload_flag
+test -n &quot;$reload_flag&quot; &amp;&amp; reload_flag=&quot; $reload_flag&quot;
+])
+
+# AC_DEPLIBS_CHECK_METHOD - how to check for library dependencies
+#  -- PORTME fill in with the dynamic library characteristics
+AC_DEFUN([AC_DEPLIBS_CHECK_METHOD],
+[AC_CACHE_CHECK([how to recognise dependent libraries],
+lt_cv_deplibs_check_method,
+[lt_cv_file_magic_cmd='$MAGIC_CMD'
+lt_cv_file_magic_test_file=
+lt_cv_deplibs_check_method='unknown'
+# Need to set the preceding variable on all platforms that support
+# interlibrary dependencies.
+# 'none' -- dependencies not supported.
+# `unknown' -- same as none, but documents that we really don't know.
+# 'pass_all' -- all dependencies passed with no checks.
+# 'test_compile' -- check by making test program.
+# 'file_magic [[regex]]' -- check by looking for files in library path
+# which responds to the $file_magic_cmd with a given egrep regex.
+# If you have `file' or equivalent on your system and you're not sure
+# whether `pass_all' will *always* work, you probably want this one.
+
+case $host_os in
+aix4* | aix5*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+beos*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+bsdi4*)
+  lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (shared object|dynamic lib)'
+  lt_cv_file_magic_cmd='/usr/bin/file -L'
+  lt_cv_file_magic_test_file=/shlib/libc.so
+  ;;
+
+cygwin* | mingw* | pw32*)
+  lt_cv_deplibs_check_method='file_magic file format pei*-i386(.*architecture: i386)?'
+  lt_cv_file_magic_cmd='$OBJDUMP -f'
+  ;;
+
+darwin* | rhapsody*)
+  lt_cv_deplibs_check_method='file_magic Mach-O dynamically linked shared library'
+  lt_cv_file_magic_cmd='/usr/bin/file -L'
+  case &quot;$host_os&quot; in
+  rhapsody* | darwin1.[[012]])
+    lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -1`
+    ;;
+  *) # Darwin 1.3 on
+    lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'
+    ;;
+  esac
+  ;;
+
+freebsd*)
+  if echo __ELF__ | $CC -E - | grep __ELF__ &gt; /dev/null; then
+    case $host_cpu in
+    i*86 )
+      # Not sure whether the presence of OpenBSD here was a mistake.
+      # Let's accept both of them until this is cleared up.
+      lt_cv_deplibs_check_method='file_magic (FreeBSD|OpenBSD)/i[[3-9]]86 (compact )?demand paged shared library'
+      lt_cv_file_magic_cmd=/usr/bin/file
+      lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
+      ;;
+    esac
+  else
+    lt_cv_deplibs_check_method=pass_all
+  fi
+  ;;
+
+gnu*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+hpux10.20*|hpux11*)
+  lt_cv_deplibs_check_method='file_magic (s[[0-9]][[0-9]][[0-9]]|PA-RISC[[0-9]].[[0-9]]) shared library'
+  lt_cv_file_magic_cmd=/usr/bin/file
+  lt_cv_file_magic_test_file=/usr/lib/libc.sl
+  ;;
+
+irix5* | irix6* | nonstopux*)
+  case $host_os in
+  irix5* | nonstopux*)
+    # this will be overridden with pass_all, but let us keep it just in case
+    lt_cv_deplibs_check_method=&quot;file_magic ELF 32-bit MSB dynamic lib MIPS - version 1&quot;
+    ;;
+  *)
+    case $LD in
+    *-32|*&quot;-32 &quot;) libmagic=32-bit;;
+    *-n32|*&quot;-n32 &quot;) libmagic=N32;;
+    *-64|*&quot;-64 &quot;) libmagic=64-bit;;
+    *) libmagic=never-match;;
+    esac
+    # this will be overridden with pass_all, but let us keep it just in case
+    lt_cv_deplibs_check_method=&quot;file_magic ELF ${libmagic} MSB mips-[[1234]] dynamic lib MIPS - version 1&quot;
+    ;;
+  esac
+  lt_cv_file_magic_test_file=`echo /lib${libsuff}/libc.so*`
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+# This must be Linux ELF.
+linux-gnu*)
+  case $host_cpu in
+  alpha* | hppa* | i*86 | mips | mipsel | powerpc* | sparc* | ia64* | s390* | x86_64*)
+    lt_cv_deplibs_check_method=pass_all ;;
+  *)
+    # glibc up to 2.1.1 does not perform some relocations on ARM
+    lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB (shared object|dynamic lib )' ;;
+  esac
+  lt_cv_file_magic_test_file=`echo /lib/libc.so* /lib/libc-*.so`
+  ;;
+
+linux-uclibc*)
+  lt_cv_deplibs_check_method=pass_all
+  lt_cv_file_magic_test_file=`echo /lib/libuClibc*.so`
+  ;;
+
+netbsd*)
+  if echo __ELF__ | $CC -E - | grep __ELF__ &gt; /dev/null; then
+    lt_cv_deplibs_check_method='match_pattern /lib[[^/\.]]+\.so\.[[0-9]]+\.[[0-9]]+$'
+  else
+    lt_cv_deplibs_check_method='match_pattern /lib[[^/\.]]+\.so$'
+  fi
+  ;;
+
+newos6*)
+  lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (executable|dynamic lib)'
+  lt_cv_file_magic_cmd=/usr/bin/file
+  lt_cv_file_magic_test_file=/usr/lib/libnls.so
+  ;;
+
+openbsd*)
+  lt_cv_file_magic_cmd=/usr/bin/file
+  lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
+  if test -z &quot;`echo __ELF__ | $CC -E - | grep __ELF__`&quot; || test &quot;$host_os-$host_cpu&quot; = &quot;openbsd2.8-powerpc&quot;; then
+    lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB shared object'
+  else
+    lt_cv_deplibs_check_method='file_magic OpenBSD.* shared library'
+  fi
+  ;;
+
+osf3* | osf4* | osf5*)
+  # this will be overridden with pass_all, but let us keep it just in case
+  lt_cv_deplibs_check_method='file_magic COFF format alpha shared library'
+  lt_cv_file_magic_test_file=/shlib/libc.so
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+sco3.2v5*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+solaris*)
+  lt_cv_deplibs_check_method=pass_all
+  lt_cv_file_magic_test_file=/lib/libc.so
+  ;;
+
+sysv5uw[[78]]* | sysv4*uw2*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+  case $host_vendor in
+  motorola)
+    lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (shared object|dynamic lib) M[[0-9]][[0-9]]* Version [[0-9]]'
+    lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`
+    ;;
+  ncr)
+    lt_cv_deplibs_check_method=pass_all
+    ;;
+  sequent)
+    lt_cv_file_magic_cmd='/bin/file'
+    lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB (shared object|dynamic lib )'
+    ;;
+  sni)
+    lt_cv_file_magic_cmd='/bin/file'
+    lt_cv_deplibs_check_method=&quot;file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB dynamic lib&quot;
+    lt_cv_file_magic_test_file=/lib/libc.so
+    ;;
+  siemens)
+    lt_cv_deplibs_check_method=pass_all
+    ;;
+  esac
+  ;;
+esac
+])
+file_magic_cmd=$lt_cv_file_magic_cmd
+deplibs_check_method=$lt_cv_deplibs_check_method
+])
+
+
+# AC_PROG_NM - find the path to a BSD-compatible name lister
+AC_DEFUN([AC_PROG_NM],
+[AC_REQUIRE([_LT_AC_LIBTOOL_SYS_PATH_SEPARATOR])dnl
+AC_MSG_CHECKING([for BSD-compatible nm])
+AC_CACHE_VAL(lt_cv_path_NM,
+[if test -n &quot;$NM&quot;; then
+  # Let the user override the test.
+  lt_cv_path_NM=&quot;$NM&quot;
+else
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=$PATH_SEPARATOR
+  for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    tmp_nm=$ac_dir/${ac_tool_prefix}nm
+    if test -f $tmp_nm || test -f $tmp_nm$ac_exeext ; then
+      # Check to see if the nm accepts a BSD-compat flag.
+      # Adding the `sed 1q' prevents false positives on HP-UX, which says:
+      #   nm: unknown option &quot;B&quot; ignored
+      # Tru64's nm complains that /dev/null is an invalid object file
+      if ($tmp_nm -B /dev/null 2&gt;&amp;1 | sed '1q'; exit 0) | egrep '(/dev/null|Invalid file or object type)' &gt;/dev/null; then
+	lt_cv_path_NM=&quot;$tmp_nm -B&quot;
+	break
+      elif ($tmp_nm -p /dev/null 2&gt;&amp;1 | sed '1q'; exit 0) | egrep /dev/null &gt;/dev/null; then
+	lt_cv_path_NM=&quot;$tmp_nm -p&quot;
+	break
+      else
+	lt_cv_path_NM=${lt_cv_path_NM=&quot;$tmp_nm&quot;} # keep the first match, but
+	continue # so that we can try to find one that supports BSD flags
+      fi
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+  test -z &quot;$lt_cv_path_NM&quot; &amp;&amp; lt_cv_path_NM=nm
+fi])
+NM=&quot;$lt_cv_path_NM&quot;
+AC_MSG_RESULT([$NM])
+])
+
+# AC_CHECK_LIBM - check for math library
+AC_DEFUN([AC_CHECK_LIBM],
+[AC_REQUIRE([AC_CANONICAL_HOST])dnl
+LIBM=
+case $host in
+*-*-beos* | *-*-cygwin* | *-*-pw32*)
+  # These system don't have libm
+  ;;
+*-ncr-sysv4.3*)
+  AC_CHECK_LIB(mw, _mwvalidcheckl, LIBM=&quot;-lmw&quot;)
+  AC_CHECK_LIB(m, main, LIBM=&quot;$LIBM -lm&quot;)
+  ;;
+*)
+  AC_CHECK_LIB(m, main, LIBM=&quot;-lm&quot;)
+  ;;
+esac
+])
+
+# AC_LIBLTDL_CONVENIENCE[(dir)] - sets LIBLTDL to the link flags for
+# the libltdl convenience library and LTDLINCL to the include flags for
+# the libltdl header and adds --enable-ltdl-convenience to the
+# configure arguments.  Note that LIBLTDL and LTDLINCL are not
+# AC_SUBSTed, nor is AC_CONFIG_SUBDIRS called.  If DIR is not
+# provided, it is assumed to be `libltdl'.  LIBLTDL will be prefixed
+# with '${top_builddir}/' and LTDLINCL will be prefixed with
+# '${top_srcdir}/' (note the single quotes!).  If your package is not
+# flat and you're not using automake, define top_builddir and
+# top_srcdir appropriately in the Makefiles.
+AC_DEFUN([AC_LIBLTDL_CONVENIENCE],
+[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+  case $enable_ltdl_convenience in
+  no) AC_MSG_ERROR([this package needs a convenience libltdl]) ;;
+  &quot;&quot;) enable_ltdl_convenience=yes
+      ac_configure_args=&quot;$ac_configure_args --enable-ltdl-convenience&quot; ;;
+  esac
+  LIBLTDL='${top_builddir}/'ifelse($#,1,[$1],['libltdl'])/libltdlc.la
+  LTDLINCL='-I${top_srcdir}/'ifelse($#,1,[$1],['libltdl'])
+  # For backwards non-gettext consistent compatibility...
+  INCLTDL=&quot;$LTDLINCL&quot;
+])
+
+# AC_LIBLTDL_INSTALLABLE[(dir)] - sets LIBLTDL to the link flags for
+# the libltdl installable library and LTDLINCL to the include flags for
+# the libltdl header and adds --enable-ltdl-install to the configure
+# arguments.  Note that LIBLTDL and LTDLINCL are not AC_SUBSTed, nor is
+# AC_CONFIG_SUBDIRS called.  If DIR is not provided and an installed
+# libltdl is not found, it is assumed to be `libltdl'.  LIBLTDL will
+# be prefixed with '${top_builddir}/' and LTDLINCL will be prefixed
+# with '${top_srcdir}/' (note the single quotes!).  If your package is
+# not flat and you're not using automake, define top_builddir and
+# top_srcdir appropriately in the Makefiles.
+# In the future, this macro may have to be called after AC_PROG_LIBTOOL.
+AC_DEFUN([AC_LIBLTDL_INSTALLABLE],
+[AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+  AC_CHECK_LIB(ltdl, main,
+  [test x&quot;$enable_ltdl_install&quot; != xyes &amp;&amp; enable_ltdl_install=no],
+  [if test x&quot;$enable_ltdl_install&quot; = xno; then
+     AC_MSG_WARN([libltdl not installed, but installation disabled])
+   else
+     enable_ltdl_install=yes
+   fi
+  ])
+  if test x&quot;$enable_ltdl_install&quot; = x&quot;yes&quot;; then
+    ac_configure_args=&quot;$ac_configure_args --enable-ltdl-install&quot;
+    LIBLTDL='${top_builddir}/'ifelse($#,1,[$1],['libltdl'])/libltdl.la
+    LTDLINCL='-I${top_srcdir}/'ifelse($#,1,[$1],['libltdl'])
+  else
+    ac_configure_args=&quot;$ac_configure_args --enable-ltdl-install=no&quot;
+    LIBLTDL=&quot;-lltdl&quot;
+    LTDLINCL=
+  fi
+  # For backwards non-gettext consistent compatibility...
+  INCLTDL=&quot;$LTDLINCL&quot;
+])
+
+# old names
+AC_DEFUN([AM_PROG_LIBTOOL],   [AC_PROG_LIBTOOL])
+AC_DEFUN([AM_ENABLE_SHARED],  [AC_ENABLE_SHARED($@)])
+AC_DEFUN([AM_ENABLE_STATIC],  [AC_ENABLE_STATIC($@)])
+AC_DEFUN([AM_DISABLE_SHARED], [AC_DISABLE_SHARED($@)])
+AC_DEFUN([AM_DISABLE_STATIC], [AC_DISABLE_STATIC($@)])
+AC_DEFUN([AM_PROG_LD],        [AC_PROG_LD])
+AC_DEFUN([AM_PROG_NM],        [AC_PROG_NM])
+
+# This is just to silence aclocal about the macro not being used
+ifelse([AC_DISABLE_FAST_INSTALL])
+
+# NOTE: This macro has been submitted for inclusion into   #
+#  GNU Autoconf as AC_PROG_SED.  When it is available in   #
+#  a released version of Autoconf we should remove this    #
+#  macro and use it instead.                               #
+# LT_AC_PROG_SED
+# --------------
+# Check for a fully-functional sed program, that truncates
+# as few characters as possible.  Prefer GNU sed if found.
+AC_DEFUN([LT_AC_PROG_SED],
+[AC_MSG_CHECKING([for a sed that does not truncate output])
+AC_CACHE_VAL(lt_cv_path_SED,
+[# Loop through the user's path and test for sed and gsed.
+# Then use that list of sed's as ones to test for truncation.
+as_executable_p=&quot;test -f&quot;
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_prog in sed gsed; do
+    for ac_exec_ext in '' $ac_executable_extensions; do
+      if $as_executable_p &quot;$as_dir/$ac_prog$ac_exec_ext&quot;; then
+        _sed_list=&quot;$_sed_list $as_dir/$ac_prog$ac_exec_ext&quot;
+      fi
+    done
+  done
+done
+
+  # Create a temporary directory, and hook for its removal unless debugging.
+$debug ||
+{
+  trap 'exit_status=$?; rm -rf $tmp &amp;&amp; exit $exit_status' 0
+  trap '{ (exit 1); exit 1; }' 1 2 13 15
+}
+
+# Create a (secure) tmp directory for tmp files.
+: ${TMPDIR=/tmp}
+{
+  tmp=`(umask 077 &amp;&amp; mktemp -d -q &quot;$TMPDIR/sedXXXXXX&quot;) 2&gt;/dev/null` &amp;&amp;
+  test -n &quot;$tmp&quot; &amp;&amp; test -d &quot;$tmp&quot;
+}  ||
+{
+  tmp=$TMPDIR/sed$$-$RANDOM
+  (umask 077 &amp;&amp; mkdir $tmp)
+} ||
+{
+   echo &quot;$me: cannot create a temporary directory in $TMPDIR&quot; &gt;&amp;2
+   { (exit 1); exit 1; }
+}
+  _max=0
+  _count=0
+  # Add /usr/xpg4/bin/sed as it is typically found on Solaris
+  # along with /bin/sed that truncates output.
+  for _sed in $_sed_list /usr/xpg4/bin/sed; do
+    test ! -f ${_sed} &amp;&amp; break
+    cat /dev/null &gt; &quot;$tmp/sed.in&quot;
+    _count=0
+    echo ${ECHO_N-$ac_n} &quot;0123456789${ECHO_C-$ac_c}&quot; &gt;&quot;$tmp/sed.in&quot;
+    # Check for GNU sed and select it if it is found.
+    if &quot;${_sed}&quot; --version 2&gt;&amp;1 &lt; /dev/null | egrep '(GNU)' &gt; /dev/null; then
+      lt_cv_path_SED=${_sed}
+      break
+    fi
+    while true; do
+      cat &quot;$tmp/sed.in&quot; &quot;$tmp/sed.in&quot; &gt;&quot;$tmp/sed.tmp&quot;
+      mv &quot;$tmp/sed.tmp&quot; &quot;$tmp/sed.in&quot;
+      cp &quot;$tmp/sed.in&quot; &quot;$tmp/sed.nl&quot;
+      echo &gt;&gt;&quot;$tmp/sed.nl&quot;
+      ${_sed} -e 's/a$//' &lt; &quot;$tmp/sed.nl&quot; &gt;&quot;$tmp/sed.out&quot; || break
+      cmp -s &quot;$tmp/sed.out&quot; &quot;$tmp/sed.nl&quot; || break
+      # 40000 chars as input seems more than enough
+      test $_count -gt 10 &amp;&amp; break
+      _count=`expr $_count + 1`
+      if test $_count -gt $_max; then
+        _max=$_count
+        lt_cv_path_SED=$_sed
+      fi
+    done
+  done
+  rm -rf &quot;$tmp&quot;
+])
+if test &quot;X$SED&quot; != &quot;X&quot;; then
+  lt_cv_path_SED=$SED
+else
+  SED=$lt_cv_path_SED
+fi
+AC_MSG_RESULT([$SED])
+])
+
+# Like AC_CONFIG_HEADER, but automatically create stamp file.
+
+# serial 3
+
+# When config.status generates a header, we must update the stamp-h file.
+# This file resides in the same directory as the config header
+# that is generated.  We must strip everything past the first &quot;:&quot;,
+# and everything past the last &quot;/&quot;.
+
+AC_PREREQ([2.12])
+
+AC_DEFUN([AM_CONFIG_HEADER],
+[ifdef([AC_FOREACH],dnl
+	 [dnl init our file count if it isn't already
+	 m4_ifndef([_AM_Config_Header_Index], m4_define([_AM_Config_Header_Index], [0]))
+	 dnl prepare to store our destination file list for use in config.status
+	 AC_FOREACH([_AM_File], [$1],
+		    [m4_pushdef([_AM_Dest], m4_patsubst(_AM_File, [:.*]))
+		    m4_define([_AM_Config_Header_Index], m4_incr(_AM_Config_Header_Index))
+		    dnl and add it to the list of files AC keeps track of, along
+		    dnl with our hook
+		    AC_CONFIG_HEADERS(_AM_File,
+dnl COMMANDS, [, INIT-CMDS]
+[# update the timestamp
+echo timestamp &gt;&quot;AS_ESCAPE(_AM_DIRNAME(]_AM_Dest[))/stamp-h]_AM_Config_Header_Index[&quot;
+][$2]m4_ifval([$3], [, [$3]]))dnl AC_CONFIG_HEADERS
+		    m4_popdef([_AM_Dest])])],dnl
+[AC_CONFIG_HEADER([$1])
+  AC_OUTPUT_COMMANDS(
+   ifelse(patsubst([$1], [[^ ]], []),
+	  [],
+	  [test -z &quot;$CONFIG_HEADERS&quot; || echo timestamp &gt;dnl
+	   patsubst([$1], [^\([^:]*/\)?.*], [\1])stamp-h]),dnl
+[am_indx=1
+for am_file in $1; do
+  case &quot; \$CONFIG_HEADERS &quot; in
+  *&quot; \$am_file &quot;*)
+    am_dir=\`echo \$am_file |sed 's%:.*%%;s%[^/]*\$%%'\`
+    if test -n &quot;\$am_dir&quot;; then
+      am_tmpdir=\`echo \$am_dir |sed 's%^\(/*\).*\$%\1%'\`
+      for am_subdir in \`echo \$am_dir |sed 's%/% %'\`; do
+        am_tmpdir=\$am_tmpdir\$am_subdir/
+        if test ! -d \$am_tmpdir; then
+          mkdir \$am_tmpdir
+        fi
+      done
+    fi
+    echo timestamp &gt; &quot;\$am_dir&quot;stamp-h\$am_indx
+    ;;
+  esac
+  am_indx=\`expr \$am_indx + 1\`
+done])
+])]) # AM_CONFIG_HEADER
+
+# _AM_DIRNAME(PATH)
+# -----------------
+# Like AS_DIRNAME, only do it during macro expansion
+AC_DEFUN([_AM_DIRNAME],
+       [m4_if(m4_regexp([$1], [^.*[^/]//*[^/][^/]*/*$]), -1,
+	      m4_if(m4_regexp([$1], [^//\([^/]\|$\)]), -1,
+		    m4_if(m4_regexp([$1], [^/.*]), -1,
+			  [.],
+			  m4_patsubst([$1], [^\(/\).*], [\1])),
+		    m4_patsubst([$1], [^\(//\)\([^/].*\|$\)], [\1])),
+	      m4_patsubst([$1], [^\(.*[^/]\)//*[^/][^/]*/*$], [\1]))[]dnl
+]) # _AM_DIRNAME
+

Added: trunk/backends/Makefile.am
===================================================================
--- trunk/backends/Makefile.am	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/backends/Makefile.am	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+SUBDIRS = src

Added: trunk/backends/Makefile.in
===================================================================
--- trunk/backends/Makefile.in	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/backends/Makefile.in	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,327 @@
+# Makefile.in generated automatically by automake 1.5 from Makefile.am.
+
+# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
+# Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at SET_MAKE</A>@
+
+SHELL = @SHELL@
+
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
+VPATH = @srcdir@
+prefix = @prefix@
+exec_prefix = @exec_prefix@
+
+bindir = @bindir@
+sbindir = @sbindir@
+libexecdir = @libexecdir@
+datadir = @datadir@
+sysconfdir = @sysconfdir@
+sharedstatedir = @sharedstatedir@
+localstatedir = @localstatedir@
+libdir = @libdir@
+infodir = @infodir@
+mandir = @mandir@
+includedir = @includedir@
+oldincludedir = /usr/include
+pkgdatadir = $(datadir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ..
+
+ACLOCAL = @ACLOCAL@
+AUTOCONF = @AUTOCONF@
+AUTOMAKE = @AUTOMAKE@
+AUTOHEADER = @AUTOHEADER@
+
+INSTALL = @INSTALL@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = @program_transform_name@
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+host_alias = @host_alias@
+host_triplet = @host@
+AMTAR = @AMTAR@
+AS = @AS@
+AWK = @AWK@
+CC = @CC@
+CXX = @CXX@
+DEPDIR = @DEPDIR@
+DLLTOOL = @DLLTOOL@
+ECHO = @ECHO@
+EXEEXT = @EXEEXT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+LIBTOOL = @LIBTOOL@
+LN_S = @LN_S@
+OBJDUMP = @OBJDUMP@
+OBJEXT = @OBJEXT@
+PACKAGE = @PACKAGE@
+RANLIB = @RANLIB@
+STRIP = @STRIP@
+VERSION = @VERSION@
+am__include = @am__include@
+am__quote = @am__quote@
+install_sh = @install_sh@
+
+SUBDIRS = src
+subdir = backends
+mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+CONFIG_HEADER = $(top_builddir)/config.h
+CONFIG_CLEAN_FILES =
+DIST_SOURCES =
+
+RECURSIVE_TARGETS = info-recursive dvi-recursive install-info-recursive \
+	uninstall-info-recursive all-recursive install-data-recursive \
+	install-exec-recursive installdirs-recursive install-recursive \
+	uninstall-recursive check-recursive installcheck-recursive
+DIST_COMMON = Makefile.am Makefile.in
+DIST_SUBDIRS = $(SUBDIRS)
+all: all-recursive
+
+.SUFFIXES:
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+$(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.ac $(ACLOCAL_M4)
+	cd $(top_srcdir) &amp;&amp; \
+	  $(AUTOMAKE) --gnu  backends/Makefile
+Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
+	cd $(top_builddir) &amp;&amp; \
+	  CONFIG_HEADERS= CONFIG_LINKS= \
+	  CONFIG_FILES=$(subdir)/$@ $(SHELL) ./config.status
+uninstall-info-am:
+
+# This directory's subdirectories are mostly independent; you can cd
+# into them and run `make' without going through this Makefile.
+# To change the values of `make' variables: instead of editing Makefiles,
+# (1) if the variable is set in `config.status', edit `config.status'
+#     (which will cause the Makefiles to be regenerated when you run `make');
+# (2) otherwise, pass the desired values on the `make' command line.
+$(RECURSIVE_TARGETS):
+	@set fnord $(MAKEFLAGS); amf=$$2; \
+	dot_seen=no; \
+	target=`echo $@ | sed s/-recursive//`; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  echo &quot;Making $$target in $$subdir&quot;; \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then \
+	    dot_seen=yes; \
+	    local_target=&quot;$$target-am&quot;; \
+	  else \
+	    local_target=&quot;$$target&quot;; \
+	  fi; \
+	  (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case &quot;$$amf&quot; in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done; \
+	if test &quot;$$dot_seen&quot; = &quot;no&quot;; then \
+	  $(MAKE) $(AM_MAKEFLAGS) &quot;$$target-am&quot; || exit 1; \
+	fi; test -z &quot;$$fail&quot;
+
+mostlyclean-recursive clean-recursive distclean-recursive \
+maintainer-clean-recursive:
+	@set fnord $(MAKEFLAGS); amf=$$2; \
+	dot_seen=no; \
+	case &quot;$@&quot; in \
+	  distclean-* | maintainer-clean-*) list='$(DIST_SUBDIRS)' ;; \
+	  *) list='$(SUBDIRS)' ;; \
+	esac; \
+	rev=''; for subdir in $$list; do \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then :; else \
+	    rev=&quot;$$subdir $$rev&quot;; \
+	  fi; \
+	done; \
+	rev=&quot;$$rev .&quot;; \
+	target=`echo $@ | sed s/-recursive//`; \
+	for subdir in $$rev; do \
+	  echo &quot;Making $$target in $$subdir&quot;; \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then \
+	    local_target=&quot;$$target-am&quot;; \
+	  else \
+	    local_target=&quot;$$target&quot;; \
+	  fi; \
+	  (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case &quot;$$amf&quot; in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done &amp;&amp; test -z &quot;$$fail&quot;
+tags-recursive:
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  test &quot;$$subdir&quot; = . || (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) tags); \
+	done
+
+tags: TAGS
+
+ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	mkid -fID $$unique $(LISP)
+
+TAGS: tags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  if test &quot;$$subdir&quot; = .; then :; else \
+	    test -f $$subdir/TAGS &amp;&amp; tags=&quot;$$tags -i $$here/$$subdir/TAGS&quot;; \
+	  fi; \
+	done; \
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z &quot;$(ETAGS_ARGS)$$unique$(LISP)$$tags&quot; \
+	  || etags $(ETAGS_ARGS) $$tags  $$unique $(LISP)
+
+GTAGS:
+	here=`CDPATH=: &amp;&amp; cd $(top_builddir) &amp;&amp; pwd` \
+	  &amp;&amp; cd $(top_srcdir) \
+	  &amp;&amp; gtags -i $(GTAGS_ARGS) $$here
+
+distclean-tags:
+	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH
+
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+
+top_distdir = ..
+distdir = $(top_distdir)/$(PACKAGE)-$(VERSION)
+
+distdir: $(DISTFILES)
+	@for file in $(DISTFILES); do \
+	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo &quot;$$file&quot; | sed -e 's,/[^/]*$$,,'`; \
+	  if test &quot;$$dir&quot; != &quot;$$file&quot; &amp;&amp; test &quot;$$dir&quot; != &quot;.&quot;; then \
+	    $(mkinstalldirs) &quot;$(distdir)/$$dir&quot;; \
+	  fi; \
+	  if test -d $$d/$$file; then \
+	    cp -pR $$d/$$file $(distdir) \
+	    || exit 1; \
+	  else \
+	    test -f $(distdir)/$$file \
+	    || cp -p $$d/$$file $(distdir)/$$file \
+	    || exit 1; \
+	  fi; \
+	done
+	for subdir in $(SUBDIRS); do \
+	  if test &quot;$$subdir&quot; = .; then :; else \
+	    test -d $(distdir)/$$subdir \
+	    || mkdir $(distdir)/$$subdir \
+	    || exit 1; \
+	    (cd $$subdir &amp;&amp; \
+	      $(MAKE) $(AM_MAKEFLAGS) \
+	        top_distdir=&quot;$(top_distdir)&quot; \
+	        distdir=../$(distdir)/$$subdir \
+	        distdir) \
+	      || exit 1; \
+	  fi; \
+	done
+check-am: all-am
+check: check-recursive
+all-am: Makefile
+installdirs: installdirs-recursive
+installdirs-am:
+
+install: install-recursive
+install-exec: install-exec-recursive
+install-data: install-data-recursive
+uninstall: uninstall-recursive
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-recursive
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM=&quot;$(INSTALL_STRIP_PROGRAM)&quot; \
+	  `test -z '$(STRIP)' || \
+	    echo &quot;INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'&quot;` install
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-rm -f Makefile $(CONFIG_CLEAN_FILES) stamp-h stamp-h[0-9]*
+
+maintainer-clean-generic:
+	@echo &quot;This command is intended for maintainers to use&quot;
+	@echo &quot;it deletes files that may require special tools to rebuild.&quot;
+clean: clean-recursive
+
+clean-am: clean-generic clean-libtool mostlyclean-am
+
+distclean: distclean-recursive
+
+distclean-am: clean-am distclean-generic distclean-libtool \
+	distclean-tags
+
+dvi: dvi-recursive
+
+dvi-am:
+
+info: info-recursive
+
+info-am:
+
+install-data-am:
+
+install-exec-am:
+
+install-info: install-info-recursive
+
+install-man:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-recursive
+
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-recursive
+
+mostlyclean-am: mostlyclean-generic mostlyclean-libtool
+
+uninstall-am: uninstall-info-am
+
+uninstall-info: uninstall-info-recursive
+
+.PHONY: $(RECURSIVE_TARGETS) GTAGS all all-am check check-am clean \
+	clean-generic clean-libtool clean-recursive distclean \
+	distclean-generic distclean-libtool distclean-recursive \
+	distclean-tags distdir dvi dvi-am dvi-recursive info info-am \
+	info-recursive install install-am install-data install-data-am \
+	install-data-recursive install-exec install-exec-am \
+	install-exec-recursive install-info install-info-am \
+	install-info-recursive install-man install-recursive \
+	install-strip installcheck installcheck-am installdirs \
+	installdirs-am installdirs-recursive maintainer-clean \
+	maintainer-clean-generic maintainer-clean-recursive mostlyclean \
+	mostlyclean-generic mostlyclean-libtool mostlyclean-recursive \
+	tags tags-recursive uninstall uninstall-am uninstall-info-am \
+	uninstall-info-recursive uninstall-recursive
+
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:

Added: trunk/backends/backup/file.cc
===================================================================
--- trunk/backends/backup/file.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/backends/backup/file.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,180 @@
+/******************************************************************
+*                file.cc 
+*   Sun Nov 21 15:47:29 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/file.hpp&quot; 
+Picdb::File::File (char *basedir)
+{
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Creating backend.&quot;);
+  if (!basedir)
+    {
+      Log.Log (Log_Warning, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;No base directory given&quot;);
+      mBasedir=MManager-&gt;strdup(&quot;.&quot;);
+    }
+  else
+    {
+      Log.Log (Log_Info, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Using %s as base directory.&quot;, basedir);
+      mBasedir=MManager-&gt;strdup(basedir);
+    }  
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Ready.&quot;);
+}
+
+Picdb::File::~File ()
+{
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Deleting backend.&quot;);
+  //delete mBasedir;
+  MManager-&gt;free(mBasedir);
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Backend deleted.&quot;);
+}
+
+Picdb::Filelist *Picdb::File::GetFiles()
+{
+  char *dscpath=(char*)MManager-&gt;alloc (MManager-&gt;strlen (mBasedir)+16);
+  dirent *ent;
+  //std::list&lt;char*&gt; *list;
+  Filelist *list;
+
+  dscpath = MManager-&gt;strcpy (dscpath, mBasedir);
+  dscpath = MManager-&gt;strcat (dscpath, &quot;/Descriptions&quot;);
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Opening directory %s&quot;, dscpath);
+  DIR *d=opendir (dscpath);
+  free (dscpath);
+  if (!d)
+    {
+      Log.Log (Log_Error, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Error: %s&quot;, strerror(errno));
+      return NULL;
+    }
+  list=new Filelist;//std::list&lt;char*&gt;;
+  while ((ent=readdir (d)))
+    {
+      struct stat s;
+      char *fname=(char*)MManager-&gt;alloc (MManager-&gt;strlen(mBasedir)+16+MManager-&gt;strlen(ent-&gt;d_name));
+      fname=MManager-&gt;strcpy (fname, mBasedir);
+      fname=MManager-&gt;strcat (fname, &quot;/Descriptions/&quot;);
+      fname=MManager-&gt;strcat (fname, ent-&gt;d_name);
+      stat (fname, &amp;s);
+      //printf (&quot;%s\n&quot;, fname);
+      MManager-&gt;free (fname);
+      if (S_ISREG (s.st_mode) &amp;&amp; strlen(ent-&gt;d_name)==32)
+        list-&gt;push_back (MManager-&gt;strdup(ent-&gt;d_name));
+    }
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Closing directory.&quot;);
+  closedir (d);
+  return list;
+}
+
+Picdb::FileData *Picdb::File::GetFileData (char *fmd5)
+{
+  FILE *fp;
+  char *fname;
+  char *data;
+  FileData *fdta;
+  unsigned long int dsize;
+  fname=(char*)malloc (strlen(mBasedir)+16+strlen(fmd5));
+  strcpy(fname, mBasedir);
+  strcat (fname, &quot;/Descriptions/&quot;);
+  strcat (fname, fmd5);
+  fp=fopen (fname, &quot;r&quot;);
+  free (fname);
+  if (!fp)
+    {
+      throw new Picdb::Exception (Picdb::Errors::FileNotFoundError, Picdb::Log_Error, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Error trying to open file: %s&quot;, strerror(errno));
+    }
+  fseek (fp, 0L, SEEK_END);
+  dsize=ftell(fp);
+  data = (char*)malloc(dsize+1);
+  rewind (fp);
+  memset (data,0,dsize+1);
+  if (fread (data, 1, dsize, fp)&lt;dsize)
+    {
+      new Picdb::Warning (Picdb::Errors::Error, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;%s&quot;, strerror(errno));
+    }
+  fclose(fp);
+  fdta=new FileData(data);
+  free(data);
+  return fdta;
+}
+
+Picdb::Image *Picdb::File::GetImage (char *fmd5)
+{
+  FILE *fp;
+  char *fname;
+  void *data;
+  Image *img;
+  unsigned long dsize;
+  fname=(char*)malloc (strlen(mBasedir)+2+strlen(fmd5));
+  strcpy (fname, mBasedir);
+  strcat (fname, &quot;/&quot;);
+  strcat (fname, fmd5);
+  fp=fopen(fname,&quot;rb&quot;);
+  free(fname);
+  if (!fp)
+    PicdbError(Errors::Error, Log_Error, &quot;file_backend&quot;, &quot;Error trying to open file: %s&quot;, strerror(errno));
+  fseek(fp, 0L, SEEK_END);
+  dsize=ftell(fp);
+  data=malloc(dsize);
+  rewind(fp);
+  if (fread (data, 1, dsize, fp)&lt;dsize)
+    PicdbWarning (Errors::Error, &quot;file_backend&quot;, &quot;%s&quot;, strerror(errno));
+  fclose(fp);
+  img = new Image (data, dsize);
+  free(data);
+  return img;
+}
+
+Picdb::Image *Picdb::File::GetThumbnail(char *fmd5)
+{
+  char *ffname=(char*)malloc (strlen(fmd5)+strlen(&quot;Thumbnails/&quot;)+1);
+  Image *i;
+  strcpy (ffname, &quot;Thumbnails/&quot;);
+  strcat (ffname, fmd5);
+  i = GetImage (ffname);
+  free (ffname);
+  return i;
+}
+
+
+Picdb::Backend *LoadBackend(char *name, int argc, char **argv)
+{
+  if (strcmp (name, &quot;File:1s&quot;) || argc != 1)
+    {
+      //Picdb::Log.Log (Picdb::Log_Error, __FILE__, __LINE__, &quot;file_factory&quot;, &quot;Requesting Invalid backend signature.&quot;);
+      //return NULL;
+      throw new Picdb::Exception (Picdb::Errors::Error, Picdb::Log_Error, __FILE__, __LINE__, &quot;file_factory&quot;, &quot;Requesting Invalid backend signature: %s&quot;, name);
+    }
+  //char *bdir;
+  return new Picdb::File(argv[0]);
+}
+
+void UnloadBackend (Picdb::Backend *b, char *name, int argc, char **argv)
+{
+  if (strcmp (name, &quot;File:1s&quot;))
+    {
+      //Picdb::Log.Log (Picdb::Log_Error, __FILE__, __LINE__, &quot;file_factory&quot;, &quot;Requesting Invalid backend signature.&quot;);
+      //return;
+      throw new Picdb::Exception (Picdb::Errors::Error, Picdb::Log_Error, __FILE__, __LINE__, &quot;file_factory&quot;, &quot;Requesting Invalid backend signature: %s&quot;, name);
+    }
+  delete (Picdb::File*) b;
+}

Added: trunk/backends/backup/file.hpp
===================================================================
--- trunk/backends/backup/file.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/backends/backup/file.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,64 @@
+/******************************************************************
+*                file.hpp 
+*   Sun Nov 21 15:47:29 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_FILE_HPP
+#define PICDB_FILE_HPP
+#include &quot;../include/picdb.hpp&quot;
+#include &quot;../include/backend.hpp&quot;
+#include &lt;stdarg.h&gt;
+#include &lt;stdlib.h&gt;
+#include &lt;stdio.h&gt;
+#include &lt;string.h&gt;
+#include &lt;sys/types.h&gt;
+#include &lt;dirent.h&gt;
+#include &quot;../include/logger.hpp&quot;
+#include &lt;errno.h&gt;
+#include &lt;unistd.h&gt;
+#include &lt;sys/types.h&gt;
+#include &lt;sys/stat.h&gt;
+#include &quot;../include/warning.hpp&quot;
+#include &quot;../include/filedata.hpp&quot;
+#include &quot;../include/memorymanager.hpp&quot;
+
+namespace Picdb
+{
+  class File;
+}
+class Picdb::File:public Picdb::Backend
+{
+public:
+  File (char *basedir);
+  virtual ~File (); 
+  virtual Filelist *GetFiles();
+  virtual FileData *GetFileData(char *fmd5);
+  virtual Image *GetImage (char *fmd5);
+  virtual Image *GetThumbnail (char *fmd5);
+protected:
+  char *mBasedir;
+};
+extern &quot;C&quot; Picdb::Backend *LoadBackend(char *name, int argc, char **argv);
+extern &quot;C&quot; void UnloadBackend (Picdb::Backend *b, char *name, int argc, char **argv);
+#endif

Added: trunk/backends/gpl_hdr.txt
===================================================================
--- trunk/backends/gpl_hdr.txt	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/backends/gpl_hdr.txt	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+link ../gpl_hdr.txt
\ No newline at end of file


Property changes on: trunk/backends/gpl_hdr.txt
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/backends/include/file.hpp
===================================================================
--- trunk/backends/include/file.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/backends/include/file.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,65 @@
+/******************************************************************
+*                file.hpp 
+*   Sun Nov 21 15:47:29 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_FILE_HPP
+#define PICDB_FILE_HPP
+#include &quot;../include/picdb.hpp&quot;
+#include &quot;../include/backend.hpp&quot;
+#include &lt;stdarg.h&gt;
+#include &lt;stdlib.h&gt;
+#include &lt;stdio.h&gt;
+#include &lt;string.h&gt;
+#include &lt;sys/types.h&gt;
+#include &lt;dirent.h&gt;
+#include &quot;../include/logger.hpp&quot;
+#include &lt;errno.h&gt;
+#include &lt;unistd.h&gt;
+#include &lt;sys/types.h&gt;
+#include &lt;sys/stat.h&gt;
+#include &quot;../include/warning.hpp&quot;
+#include &quot;../include/filedata.hpp&quot;
+#include &quot;../include/filelist.hpp&quot;
+#include &quot;../include/memorymanager.hpp&quot;
+
+namespace Picdb
+{
+  class File;
+}
+class Picdb::File:public Picdb::Backend
+{
+public:
+  File (char *basedir);
+  virtual ~File (); 
+  virtual FileList *GetFileList();
+  virtual FileData *GetFileData(char *fmd5);
+  virtual Media *GetMedia (char *fmd5);
+  virtual Media *GetThumbnail (char *fmd5);
+protected:
+  char *mBasedir;
+};
+extern &quot;C&quot; Picdb::Backend *LoadBackend(char *name, int argc, char **argv);
+extern &quot;C&quot; void UnloadBackend (Picdb::Backend *b, char *name, int argc, char **argv);
+#endif

Added: trunk/backends/include/sqlite.hpp
===================================================================
--- trunk/backends/include/sqlite.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/backends/include/sqlite.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,41 @@
+/******************************************************************
+*                sqlite.hpp 
+*   Sun Nov 21 15:47:29 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_SQLITE_HPP
+#define PICDB_SQLITE_HPP
+#include &quot;../include/picdb.hpp&quot;
+#include &quot;../include/sqlbackend.hpp&quot;
+namespace Picdb
+{
+  class Sqlite;
+}
+class Picdb::Sqlite: public Picdb::SqlBackend
+{
+public:
+  Sqlite ();
+  virtual ~Sqlite (); 
+};
+#endif

Added: trunk/backends/src/Makefile.am
===================================================================
--- trunk/backends/src/Makefile.am	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/backends/src/Makefile.am	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,11 @@
+#lib_LTLIBRARIES = libpicdb.la
+#noinst_LTLIBRARIES = libpicdb.la
+#libpicdb_la_SOURCES = backend.cc config.cc db.cc exception.cc filedata.cc filelist.cc image.cc logger.cc memorymanager.cc warning.cc xml.cc xmllogstream.cc
+#libpicdb_la_LDFLAGS = -version-info 3:12:1
+lib_LTLIBRARIES = libpicdbbefile.la #libpicdbbesqlite.la
+libpicdbbefile_la_SOURCES = file.cc
+libpicdbbefile_la_CFLAGS = -I../../include -I../include
+libpicdbbefile_la_LIBS = -L../../src/.libs
+#libpicdbbesqlite_la_SOURCES = sqlite.cc
+#libpicdbbesqlite_la_CFLAGS = -I../../include -I../include
+#libpicdbbesqlite_la_LIBS = -L../../src/.libs -lsqlite

Added: trunk/backends/src/Makefile.in
===================================================================
--- trunk/backends/src/Makefile.in	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/backends/src/Makefile.in	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,334 @@
+# Makefile.in generated automatically by automake 1.5 from Makefile.am.
+
+# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
+# Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at SET_MAKE</A>@
+
+#lib_LTLIBRARIES = libpicdb.la
+#noinst_LTLIBRARIES = libpicdb.la
+#libpicdb_la_SOURCES = backend.cc config.cc db.cc exception.cc filedata.cc filelist.cc image.cc logger.cc memorymanager.cc warning.cc xml.cc xmllogstream.cc
+#libpicdb_la_LDFLAGS = -version-info 3:12:1
+
+SHELL = @SHELL@
+
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
+VPATH = @srcdir@
+prefix = @prefix@
+exec_prefix = @exec_prefix@
+
+bindir = @bindir@
+sbindir = @sbindir@
+libexecdir = @libexecdir@
+datadir = @datadir@
+sysconfdir = @sysconfdir@
+sharedstatedir = @sharedstatedir@
+localstatedir = @localstatedir@
+libdir = @libdir@
+infodir = @infodir@
+mandir = @mandir@
+includedir = @includedir@
+oldincludedir = /usr/include
+pkgdatadir = $(datadir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ../..
+
+ACLOCAL = @ACLOCAL@
+AUTOCONF = @AUTOCONF@
+AUTOMAKE = @AUTOMAKE@
+AUTOHEADER = @AUTOHEADER@
+
+INSTALL = @INSTALL@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = @program_transform_name@
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+host_alias = @host_alias@
+host_triplet = @host@
+AMTAR = @AMTAR@
+AS = @AS@
+AWK = @AWK@
+CC = @CC@
+CXX = @CXX@
+DEPDIR = @DEPDIR@
+DLLTOOL = @DLLTOOL@
+ECHO = @ECHO@
+EXEEXT = @EXEEXT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+LIBTOOL = @LIBTOOL@
+LN_S = @LN_S@
+OBJDUMP = @OBJDUMP@
+OBJEXT = @OBJEXT@
+PACKAGE = @PACKAGE@
+RANLIB = @RANLIB@
+STRIP = @STRIP@
+VERSION = @VERSION@
+am__include = @am__include@
+am__quote = @am__quote@
+install_sh = @install_sh@
+
+lib_LTLIBRARIES = libpicdbbefile.la #libpicdbbesqlite.la
+libpicdbbefile_la_SOURCES = file.cc
+libpicdbbefile_la_CFLAGS = -I../../include -I../include
+libpicdbbefile_la_LIBS = -L../../src/.libs
+subdir = backends/src
+mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+CONFIG_HEADER = $(top_builddir)/config.h
+CONFIG_CLEAN_FILES =
+LTLIBRARIES = $(lib_LTLIBRARIES)
+
+libpicdbbefile_la_LDFLAGS =
+libpicdbbefile_la_LIBADD =
+am_libpicdbbefile_la_OBJECTS = file.lo
+libpicdbbefile_la_OBJECTS = $(am_libpicdbbefile_la_OBJECTS)
+
+DEFS = @DEFS@
+DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir)
+CPPFLAGS = @CPPFLAGS@
+LDFLAGS = @LDFLAGS@
+LIBS = @LIBS@
+depcomp = $(SHELL) $(top_srcdir)/depcomp
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@DEP_FILES = $(DEPDIR)/file.Plo
+CXXCOMPILE = $(CXX) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
+	$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)
+LTCXXCOMPILE = $(LIBTOOL) --mode=compile $(CXX) $(DEFS) \
+	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
+	$(AM_CXXFLAGS) $(CXXFLAGS)
+CXXLD = $(CXX)
+CXXLINK = $(LIBTOOL) --mode=link $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) \
+	$(AM_LDFLAGS) $(LDFLAGS) -o $@
+CXXFLAGS = @CXXFLAGS@
+DIST_SOURCES = $(libpicdbbefile_la_SOURCES)
+DIST_COMMON = Makefile.am Makefile.in
+SOURCES = $(libpicdbbefile_la_SOURCES)
+
+all: all-am
+
+.SUFFIXES:
+.SUFFIXES: .cc .lo .o .obj
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+$(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.ac $(ACLOCAL_M4)
+	cd $(top_srcdir) &amp;&amp; \
+	  $(AUTOMAKE) --gnu  backends/src/Makefile
+Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
+	cd $(top_builddir) &amp;&amp; \
+	  CONFIG_HEADERS= CONFIG_LINKS= \
+	  CONFIG_FILES=$(subdir)/$@ $(SHELL) ./config.status
+install-libLTLIBRARIES: $(lib_LTLIBRARIES)
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(libdir)
+	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
+	  if test -f $$p; then \
+	    echo &quot; $(LIBTOOL) --mode=install $(INSTALL) $(INSTALL_STRIP_FLAG) $$p $(DESTDIR)$(libdir)/$$p&quot;; \
+	    $(LIBTOOL) --mode=install $(INSTALL) $(INSTALL_STRIP_FLAG) $$p $(DESTDIR)$(libdir)/$$p; \
+	  else :; fi; \
+	done
+
+uninstall-libLTLIBRARIES:
+	@$(NORMAL_UNINSTALL)
+	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
+	  echo &quot; $(LIBTOOL) --mode=uninstall rm -f $(DESTDIR)$(libdir)/$$p&quot;; \
+	  $(LIBTOOL) --mode=uninstall rm -f $(DESTDIR)$(libdir)/$$p; \
+	done
+
+clean-libLTLIBRARIES:
+	-test -z &quot;$(lib_LTLIBRARIES)&quot; || rm -f $(lib_LTLIBRARIES)
+libpicdbbefile.la: $(libpicdbbefile_la_OBJECTS) $(libpicdbbefile_la_DEPENDENCIES) 
+	$(CXXLINK) -rpath $(libdir) $(libpicdbbefile_la_LDFLAGS) $(libpicdbbefile_la_OBJECTS) $(libpicdbbefile_la_LIBADD) $(LIBS)
+
+mostlyclean-compile:
+	-rm -f *.$(OBJEXT) core *.core
+
+distclean-compile:
+	-rm -f *.tab.c
+
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">file.Plo at am__quote</A>@
+
+distclean-depend:
+	-rm -rf $(DEPDIR)
+
+.cc.o:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=no @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(CXXCOMPILE) -c -o $@ `test -f $&lt; || echo '$(srcdir)/'`$&lt;
+
+.cc.obj:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=no @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(CXXCOMPILE) -c -o $@ `cygpath -w $&lt;`
+
+.cc.lo:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=yes @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Plo' tmpdepfile='$(DEPDIR)/$*.TPlo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(LTCXXCOMPILE) -c -o $@ `test -f $&lt; || echo '$(srcdir)/'`$&lt;
+CXXDEPMODE = @CXXDEPMODE@
+uninstall-info-am:
+
+tags: TAGS
+
+ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	mkid -fID $$unique $(LISP)
+
+TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z &quot;$(ETAGS_ARGS)$$unique$(LISP)$$tags&quot; \
+	  || etags $(ETAGS_ARGS) $$tags  $$unique $(LISP)
+
+GTAGS:
+	here=`CDPATH=: &amp;&amp; cd $(top_builddir) &amp;&amp; pwd` \
+	  &amp;&amp; cd $(top_srcdir) \
+	  &amp;&amp; gtags -i $(GTAGS_ARGS) $$here
+
+distclean-tags:
+	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH
+
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+
+top_distdir = ../..
+distdir = $(top_distdir)/$(PACKAGE)-$(VERSION)
+
+distdir: $(DISTFILES)
+	@for file in $(DISTFILES); do \
+	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo &quot;$$file&quot; | sed -e 's,/[^/]*$$,,'`; \
+	  if test &quot;$$dir&quot; != &quot;$$file&quot; &amp;&amp; test &quot;$$dir&quot; != &quot;.&quot;; then \
+	    $(mkinstalldirs) &quot;$(distdir)/$$dir&quot;; \
+	  fi; \
+	  if test -d $$d/$$file; then \
+	    cp -pR $$d/$$file $(distdir) \
+	    || exit 1; \
+	  else \
+	    test -f $(distdir)/$$file \
+	    || cp -p $$d/$$file $(distdir)/$$file \
+	    || exit 1; \
+	  fi; \
+	done
+check-am: all-am
+check: check-am
+all-am: Makefile $(LTLIBRARIES)
+
+installdirs:
+	$(mkinstalldirs) $(DESTDIR)$(libdir)
+
+install: install-am
+install-exec: install-exec-am
+install-data: install-data-am
+uninstall: uninstall-am
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-am
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM=&quot;$(INSTALL_STRIP_PROGRAM)&quot; \
+	  `test -z '$(STRIP)' || \
+	    echo &quot;INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'&quot;` install
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-rm -f Makefile $(CONFIG_CLEAN_FILES) stamp-h stamp-h[0-9]*
+
+maintainer-clean-generic:
+	@echo &quot;This command is intended for maintainers to use&quot;
+	@echo &quot;it deletes files that may require special tools to rebuild.&quot;
+clean: clean-am
+
+clean-am: clean-generic clean-libLTLIBRARIES clean-libtool \
+	mostlyclean-am
+
+distclean: distclean-am
+
+distclean-am: clean-am distclean-compile distclean-depend \
+	distclean-generic distclean-libtool distclean-tags
+
+dvi: dvi-am
+
+dvi-am:
+
+info: info-am
+
+info-am:
+
+install-data-am:
+
+install-exec-am: install-libLTLIBRARIES
+
+install-info: install-info-am
+
+install-man:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-am
+
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-am
+
+mostlyclean-am: mostlyclean-compile mostlyclean-generic \
+	mostlyclean-libtool
+
+uninstall-am: uninstall-info-am uninstall-libLTLIBRARIES
+
+.PHONY: GTAGS all all-am check check-am clean clean-generic \
+	clean-libLTLIBRARIES clean-libtool distclean distclean-compile \
+	distclean-depend distclean-generic distclean-libtool \
+	distclean-tags distdir dvi dvi-am info info-am install \
+	install-am install-data install-data-am install-exec \
+	install-exec-am install-info install-info-am \
+	install-libLTLIBRARIES install-man install-strip installcheck \
+	installcheck-am installdirs maintainer-clean \
+	maintainer-clean-generic mostlyclean mostlyclean-compile \
+	mostlyclean-generic mostlyclean-libtool tags uninstall \
+	uninstall-am uninstall-info-am uninstall-libLTLIBRARIES
+
+#libpicdbbesqlite_la_SOURCES = sqlite.cc
+#libpicdbbesqlite_la_CFLAGS = -I../../include -I../include
+#libpicdbbesqlite_la_LIBS = -L../../src/.libs -lsqlite
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:

Added: trunk/backends/src/file.cc
===================================================================
--- trunk/backends/src/file.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/backends/src/file.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,182 @@
+/******************************************************************
+*                file.cc 
+*   Sun Nov 21 15:47:29 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/file.hpp&quot; 
+Picdb::File::File (char *basedir)
+{
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Creating backend.&quot;);
+  if (!basedir)
+    {
+      Log.Log (Log_Warning, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;No base directory given&quot;);
+      mBasedir=MManager-&gt;strdup(&quot;.&quot;);
+    }
+  else
+    {
+      Log.Log (Log_Info, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Using %s as base directory.&quot;, basedir);
+      mBasedir=MManager-&gt;strdup(basedir);
+    }  
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Ready.&quot;);
+}
+
+Picdb::File::~File ()
+{
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Deleting backend.&quot;);
+  //delete mBasedir;
+  MManager-&gt;free(mBasedir);
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Backend deleted.&quot;);
+}
+
+Picdb::FileList *Picdb::File::GetFileList()
+{
+  char *dscpath=(char*)MManager-&gt;alloc (MManager-&gt;strlen (mBasedir)+16);
+  dirent *ent;
+  //std::list&lt;char*&gt; *list;
+  FileList *list;
+
+  dscpath = MManager-&gt;strcpy (dscpath, mBasedir);
+  dscpath = MManager-&gt;strcat (dscpath, &quot;/Descriptions&quot;);
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Opening directory %s&quot;, dscpath);
+  DIR *d=opendir (dscpath);
+  free (dscpath);
+  if (!d)
+    {
+      Log.Log (Log_Error, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Error: %s&quot;, strerror(errno));
+      return NULL;
+    }
+  list=new FileList;//std::list&lt;char*&gt;;
+  while ((ent=readdir (d)))
+    {
+      struct stat s;
+      char *fname=(char*)/*MManager-&gt;alloc*/ PicdbAlloc (MManager-&gt;strlen(mBasedir)+16+MManager-&gt;strlen(ent-&gt;d_name));
+      fname=MManager-&gt;strcpy (fname, mBasedir);
+      fname=MManager-&gt;strcat (fname, &quot;/Descriptions/&quot;);
+      fname=MManager-&gt;strcat (fname, ent-&gt;d_name);
+      stat (fname, &amp;s);
+      //printf (&quot;%s\n&quot;, fname);
+      //MManager-&gt;free (fname);
+      PicdbFree (fname);
+      if (S_ISREG (s.st_mode) &amp;&amp; strlen(ent-&gt;d_name)==32)
+        //list-&gt;PushBack (MManager-&gt;strdup(ent-&gt;d_name));
+	list-&gt;PushBack (ent-&gt;d_name);
+    }
+  Log.Log (Log_Debug, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Closing directory.&quot;);
+  closedir (d);
+  return list;
+}
+
+Picdb::FileData *Picdb::File::GetFileData (char *fmd5)
+{
+  FILE *fp;
+  char *fname;
+  char *data;
+  FileData *fdta;
+  unsigned long int dsize;
+  fname=(char*)malloc (strlen(mBasedir)+16+strlen(fmd5));
+  strcpy(fname, mBasedir);
+  strcat (fname, &quot;/Descriptions/&quot;);
+  strcat (fname, fmd5);
+  fp=fopen (fname, &quot;r&quot;);
+  free (fname);
+  if (!fp)
+    {
+      throw new Picdb::Exception (Picdb::Errors::FileNotFoundError, Picdb::Log_Error, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;Error trying to open file: %s&quot;, strerror(errno));
+    }
+  fseek (fp, 0L, SEEK_END);
+  dsize=ftell(fp);
+  data = (char*)malloc(dsize+1);
+  rewind (fp);
+  memset (data,0,dsize+1);
+  if (fread (data, 1, dsize, fp)&lt;dsize)
+    {
+      new Picdb::Warning (Picdb::Errors::Error, __FILE__, __LINE__, &quot;file_backend&quot;, &quot;%s&quot;, strerror(errno));
+    }
+  fclose(fp);
+  fdta=new FileData(data);
+  free(data);
+  return fdta;
+}
+
+Picdb::Media *Picdb::File::GetMedia (char *fmd5)
+{
+  FILE *fp;
+  char *fname;
+  void *data;
+  Media *img;
+  unsigned long dsize;
+  fname=(char*)malloc (strlen(mBasedir)+2+strlen(fmd5));
+  strcpy (fname, mBasedir);
+  strcat (fname, &quot;/&quot;);
+  strcat (fname, fmd5);
+  fp=fopen(fname,&quot;rb&quot;);
+  free(fname);
+  if (!fp)
+    PicdbError(Errors::Error, Log_Error, &quot;file_backend&quot;, &quot;Error trying to open file: %s&quot;, strerror(errno));
+  fseek(fp, 0L, SEEK_END);
+  dsize=ftell(fp);
+  data=malloc(dsize);
+  rewind(fp);
+  if (fread (data, 1, dsize, fp)&lt;dsize)
+    PicdbWarning (Errors::Error, &quot;file_backend&quot;, &quot;%s&quot;, strerror(errno));
+  fclose(fp);
+  img = new Media (data, dsize, &quot;image/unknown&quot;);
+  free(data);
+  return img;
+}
+
+Picdb::Media *Picdb::File::GetThumbnail(char *fmd5)
+{
+  char *ffname=(char*)malloc (strlen(fmd5)+strlen(&quot;Thumbnails/&quot;)+1);
+  Media *i;
+  strcpy (ffname, &quot;Thumbnails/&quot;);
+  strcat (ffname, fmd5);
+  i = GetMedia (ffname);
+  free (ffname);
+  return i;
+}
+
+
+Picdb::Backend *LoadBackend(char *name, int argc, char **argv)
+{
+  if (strcmp (name, &quot;File:1s&quot;) || argc != 1)
+    {
+      //Picdb::Log.Log (Picdb::Log_Error, __FILE__, __LINE__, &quot;file_factory&quot;, &quot;Requesting Invalid backend signature.&quot;);
+      //return NULL;
+      throw new Picdb::Exception (Picdb::Errors::Error, Picdb::Log_Error, __FILE__, __LINE__, &quot;file_factory&quot;, &quot;Requesting Invalid backend signature: %s&quot;, name);
+    }
+  //char *bdir;
+  return new Picdb::File(argv[0]);
+}
+
+void UnloadBackend (Picdb::Backend *b, char *name, int argc, char **argv)
+{
+  if (strcmp (name, &quot;File:1s&quot;))
+    {
+      //Picdb::Log.Log (Picdb::Log_Error, __FILE__, __LINE__, &quot;file_factory&quot;, &quot;Requesting Invalid backend signature.&quot;);
+      //return;
+      throw new Picdb::Exception (Picdb::Errors::Error, Picdb::Log_Error, __FILE__, __LINE__, &quot;file_factory&quot;, &quot;Requesting Invalid backend signature: %s&quot;, name);
+    }
+  delete (Picdb::File*) b;
+}

Added: trunk/backends/src/sqlite.cc
===================================================================
--- trunk/backends/src/sqlite.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/backends/src/sqlite.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,33 @@
+/******************************************************************
+*                sqlite.cc 
+*   Sun Nov 21 15:47:29 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/sqlite.hpp&quot;
+Picdb::Sqlite::Sqlite ()
+{
+}
+Picdb::Sqlite::~Sqlite ()
+{
+}

Added: trunk/config.dtd
===================================================================
--- trunk/config.dtd	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/config.dtd	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,9 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso8859-1&quot; ?&gt;
+&lt;!ELEMENT config (config|option)*&gt;
+&lt;!ELEMENT option EMPTY&gt;
+&lt;!ELEMENT include EMPTY&gt;
+
+
+&lt;!ATTLIST config name CDATA #REQUIRED&gt;
+&lt;!ATTLIST option name CDATA #REQUIRED value CDATA #REQUIRED type (int|bool|str) #IMPLIED&gt;
+&lt;!ATTLIST include file CDATA #REQUIRED&gt;

Added: trunk/config.guess
===================================================================
--- trunk/config.guess	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/config.guess	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+link /usr/share/libtool/config.guess
\ No newline at end of file


Property changes on: trunk/config.guess
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/config.h.in
===================================================================
--- trunk/config.h.in	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/config.h.in	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,76 @@
+/* config.h.in.  Generated from configure.ac by autoheader.  */
+
+/* Define to 1 if you have the &lt;dlfcn.h&gt; header file. */
+#undef HAVE_DLFCN_H
+
+/* Define to 1 if you have the &lt;inttypes.h&gt; header file. */
+#undef HAVE_INTTYPES_H
+
+/* Define to 1 if you have the `IL' library (-lIL). */
+#undef HAVE_LIBIL
+
+/* Define to 1 if you have the `ILU' library (-lILU). */
+#undef HAVE_LIBILU
+
+/* Define to 1 if you have the `m' library (-lm). */
+#undef HAVE_LIBM
+
+/* Define to 1 if you have the `xerces-c' library (-lxerces-c). */
+#undef HAVE_LIBXERCES_C
+
+/* Define to 1 if you have the `z' library (-lz). */
+#undef HAVE_LIBZ
+
+/* Define to 1 if you have the &lt;memory.h&gt; header file. */
+#undef HAVE_MEMORY_H
+
+/* Define to 1 if you have the &lt;stdint.h&gt; header file. */
+#undef HAVE_STDINT_H
+
+/* Define to 1 if you have the &lt;stdlib.h&gt; header file. */
+#undef HAVE_STDLIB_H
+
+/* Define to 1 if you have the `strdup' function. */
+#undef HAVE_STRDUP
+
+/* Define to 1 if you have the &lt;strings.h&gt; header file. */
+#undef HAVE_STRINGS_H
+
+/* Define to 1 if you have the &lt;string.h&gt; header file. */
+#undef HAVE_STRING_H
+
+/* Define to 1 if you have the &lt;sys/stat.h&gt; header file. */
+#undef HAVE_SYS_STAT_H
+
+/* Define to 1 if you have the &lt;sys/types.h&gt; header file. */
+#undef HAVE_SYS_TYPES_H
+
+/* Define to 1 if you have the &lt;unistd.h&gt; header file. */
+#undef HAVE_UNISTD_H
+
+/* Name of package */
+#undef PACKAGE
+
+/* Define to the address where bug reports for this package should be sent. */
+#undef PACKAGE_BUGREPORT
+
+/* Define to the full name of this package. */
+#undef PACKAGE_NAME
+
+/* Define to the full name and version of this package. */
+#undef PACKAGE_STRING
+
+/* Define to the one symbol short name of this package. */
+#undef PACKAGE_TARNAME
+
+/* Define to the version of this package. */
+#undef PACKAGE_VERSION
+
+/* Define to 1 if you have the ANSI C header files. */
+#undef STDC_HEADERS
+
+/* Version number of package */
+#undef VERSION
+
+/* Define to empty if `const' does not conform to ANSI C. */
+#undef const

Added: trunk/config.sub
===================================================================
--- trunk/config.sub	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/config.sub	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+link /usr/share/libtool/config.sub
\ No newline at end of file


Property changes on: trunk/config.sub
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/config.xml
===================================================================
--- trunk/config.xml	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/config.xml	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,41 @@
+&lt;?xml version='1.0' encoding='iso-8859-1'?&gt;
+&lt;config name=''&gt;
+  &lt;config name='web' &gt;
+    &lt;option name='port' value='2050' type='int'/&gt;
+  &lt;/config&gt;
+  &lt;config name='remdb'&gt;
+    &lt;option name='port' value='2049' type='int'/&gt;
+    &lt;option name='auth' value='user' type='str'/&gt;
+    &lt;config name='users'&gt;
+      &lt;option name='names' value='segfault,guest' type='xlist'/&gt;
+      &lt;config name='passwords'&gt;
+        &lt;option name='guest' value='' type='none'/&gt;
+        &lt;option name='segfault' value='f00f' type='str'/&gt;
+      &lt;/config&gt;
+      &lt;config name='permissions'&gt;
+        &lt;option name='guest' value='r' type='list'/&gt;
+        &lt;option name='segfault' value='rw' type='list'/&gt;
+      &lt;/config&gt;
+    &lt;/config&gt;
+  &lt;/config&gt;
+  &lt;config name='sync'&gt;
+    &lt;config name='server'&gt;
+      &lt;option name='port' value='2051' type='int'/&gt;
+    &lt;/config&gt;
+    &lt;config name='client'&gt;
+    &lt;/config&gt;
+  &lt;/config&gt;
+  &lt;config name='picdb'&gt;
+    &lt;option name='backends' value='file' type='str'/&gt;
+    &lt;option name='backenddir' value='backends/libs/' type='str'/&gt;
+    &lt;config name='backends'&gt;
+      &lt;config name='file'&gt;
+        &lt;option name='basedir' value='/home/segfault/Documents/Pictures' type='str'/&gt;
+      &lt;/config&gt;
+      &lt;config name='sqlite'&gt;
+      &lt;/config&gt;
+      &lt;include file='mysqlcfg.xml'&gt;
+      &lt;include file='pgsqlcfg.xml'&gt;
+    &lt;/config&gt;
+  &lt;/config&gt;
+&lt;/config&gt;

Added: trunk/configure
===================================================================
--- trunk/configure	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/configure	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,10702 @@
+#! /bin/sh
+# Guess values for system-dependent variables and create Makefiles.
+# Generated by GNU Autoconf 2.59 for picdb 0.0.1.
+#
+# Report bugs to &lt;<A HREF="http://l33th4x0r.dyndns.org/">http://l33th4x0r.dyndns.org/</A>&gt;.
+#
+# Copyright (C) 2003 Free Software Foundation, Inc.
+# This configure script is free software; the Free Software Foundation
+# gives unlimited permission to copy, distribute and modify it.
+## --------------------- ##
+## M4sh Initialization.  ##
+## --------------------- ##
+
+# Be Bourne compatible
+if test -n &quot;${ZSH_VERSION+set}&quot; &amp;&amp; (emulate sh) &gt;/dev/null 2&gt;&amp;1; then
+  emulate sh
+  NULLCMD=:
+  # Zsh 3.x and 4.x performs word splitting on ${1+&quot;$@&quot;}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+&quot;$@&quot;}'='&quot;$@&quot;'
+elif test -n &quot;${BASH_VERSION+set}&quot; &amp;&amp; (set -o posix) &gt;/dev/null 2&gt;&amp;1; then
+  set -o posix
+fi
+DUALCASE=1; export DUALCASE # for MKS sh
+
+# Support unset when possible.
+if ( (MAIL=60; unset MAIL) || exit) &gt;/dev/null 2&gt;&amp;1; then
+  as_unset=unset
+else
+  as_unset=false
+fi
+
+
+# Work around bugs in pre-3.0 UWIN ksh.
+$as_unset ENV MAIL MAILPATH
+PS1='$ '
+PS2='&gt; '
+PS4='+ '
+
+# NLS nuisances.
+for as_var in \
+  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
+  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
+  LC_TELEPHONE LC_TIME
+do
+  if (set +x; test -z &quot;`(eval $as_var=C; export $as_var) 2&gt;&amp;1`&quot;); then
+    eval $as_var=C; export $as_var
+  else
+    $as_unset $as_var
+  fi
+done
+
+# Required to use basename.
+if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+if (basename /) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; test &quot;X`basename / 2&gt;&amp;1`&quot; = &quot;X/&quot;; then
+  as_basename=basename
+else
+  as_basename=false
+fi
+
+
+# Name of the executable.
+as_me=`$as_basename &quot;$0&quot; ||
+$as_expr X/&quot;$0&quot; : '.*/\([^/][^/]*\)/*$' \| \
+	 X&quot;$0&quot; : 'X\(//\)$' \| \
+	 X&quot;$0&quot; : 'X\(/\)$' \| \
+	 .     : '\(.\)' 2&gt;/dev/null ||
+echo X/&quot;$0&quot; |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
+  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\/\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+
+
+# PATH needs CR, and LINENO needs CR and PATH.
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+# The user is always right.
+if test &quot;${PATH_SEPARATOR+set}&quot; != set; then
+  echo &quot;#! /bin/sh&quot; &gt;conf$$.sh
+  echo  &quot;exit 0&quot;   &gt;&gt;conf$$.sh
+  chmod +x conf$$.sh
+  if (PATH=&quot;/nonexistent;.&quot;; conf$$.sh) &gt;/dev/null 2&gt;&amp;1; then
+    PATH_SEPARATOR=';'
+  else
+    PATH_SEPARATOR=:
+  fi
+  rm -f conf$$.sh
+fi
+
+
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
+  test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
+  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot;  || {
+  # Find who we are.  Look in the path if we contain no path at all
+  # relative or not.
+  case $0 in
+    *[\\/]* ) as_myself=$0 ;;
+    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  test -r &quot;$as_dir/$0&quot; &amp;&amp; as_myself=$as_dir/$0 &amp;&amp; break
+done
+
+       ;;
+  esac
+  # We did not find ourselves, most probably we were run as `sh COMMAND'
+  # in which case we are not to be found in the path.
+  if test &quot;x$as_myself&quot; = x; then
+    as_myself=$0
+  fi
+  if test ! -f &quot;$as_myself&quot;; then
+    { echo &quot;$as_me: error: cannot find myself; rerun with an absolute path&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+  fi
+  case $CONFIG_SHELL in
+  '')
+    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for as_base in sh bash ksh sh5; do
+	 case $as_dir in
+	 /*)
+	   if (&quot;$as_dir/$as_base&quot; -c '
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
+  test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
+  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot; ') 2&gt;/dev/null; then
+	     $as_unset BASH_ENV || test &quot;${BASH_ENV+set}&quot; != set || { BASH_ENV=; export BASH_ENV; }
+	     $as_unset ENV || test &quot;${ENV+set}&quot; != set || { ENV=; export ENV; }
+	     CONFIG_SHELL=$as_dir/$as_base
+	     export CONFIG_SHELL
+	     exec &quot;$CONFIG_SHELL&quot; &quot;$0&quot; ${1+&quot;$@&quot;}
+	   fi;;
+	 esac
+       done
+done
+;;
+  esac
+
+  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
+  # uniformly replaced by the line number.  The first 'sed' inserts a
+  # line-number line before each line; the second 'sed' does the real
+  # work.  The second script uses 'N' to pair each line-number line
+  # with the numbered line, and appends trailing '-' during
+  # substitution so that $LINENO is not a special case at line end.
+  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
+  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
+  sed '=' &lt;$as_myself |
+    sed '
+      N
+      s,$,-,
+      : loop
+      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
+      t loop
+      s,-$,,
+      s,^['$as_cr_digits']*\n,,
+    ' &gt;$as_me.lineno &amp;&amp;
+  chmod +x $as_me.lineno ||
+    { echo &quot;$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+
+  # Don't try to exec as it changes $[0], causing all sort of problems
+  # (the dirname of $[0] is not the place where we might find the
+  # original and so on.  Autoconf is especially sensible to this).
+  . ./$as_me.lineno
+  # Exit status is that of the last command.
+  exit
+}
+
+
+case `echo &quot;testing\c&quot;; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
+  *c*,-n*) ECHO_N= ECHO_C='
+' ECHO_T='	' ;;
+  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
+  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
+esac
+
+if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+rm -f conf$$ conf$$.exe conf$$.file
+echo &gt;conf$$.file
+if ln -s conf$$.file conf$$ 2&gt;/dev/null; then
+  # We could just check for DJGPP; but this test a) works b) is more generic
+  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
+  if test -f conf$$.exe; then
+    # Don't use ln at all; we don't have any links
+    as_ln_s='cp -p'
+  else
+    as_ln_s='ln -s'
+  fi
+elif ln conf$$.file conf$$ 2&gt;/dev/null; then
+  as_ln_s=ln
+else
+  as_ln_s='cp -p'
+fi
+rm -f conf$$ conf$$.exe conf$$.file
+
+if mkdir -p . 2&gt;/dev/null; then
+  as_mkdir_p=:
+else
+  test -d ./-p &amp;&amp; rmdir ./-p
+  as_mkdir_p=false
+fi
+
+as_executable_p=&quot;test -f&quot;
+
+# Sed expression to map a string onto a valid CPP name.
+as_tr_cpp=&quot;eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'&quot;
+
+# Sed expression to map a string onto a valid variable name.
+as_tr_sh=&quot;eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'&quot;
+
+
+# IFS
+# We need space, tab and new line, in precisely that order.
+as_nl='
+'
+IFS=&quot; 	$as_nl&quot;
+
+# CDPATH.
+$as_unset CDPATH
+
+
+# Find the correct PATH separator.  Usually this is `:', but
+# DJGPP uses `;' like DOS.
+if test &quot;X${PATH_SEPARATOR+set}&quot; != Xset; then
+  UNAME=${UNAME-`uname 2&gt;/dev/null`}
+  case X$UNAME in
+    *-DOS) lt_cv_sys_path_separator=';' ;;
+    *)     lt_cv_sys_path_separator=':' ;;
+  esac
+  PATH_SEPARATOR=$lt_cv_sys_path_separator
+fi
+
+
+# Check that we are running under the correct shell.
+SHELL=${CONFIG_SHELL-/bin/sh}
+
+case X$ECHO in
+X*--fallback-echo)
+  # Remove one level of quotation (which was required for Make).
+  ECHO=`echo &quot;$ECHO&quot; | sed 's,\\\\\$\\$0,'$0','`
+  ;;
+esac
+
+echo=${ECHO-echo}
+if test &quot;X$1&quot; = X--no-reexec; then
+  # Discard the --no-reexec flag, and continue.
+  shift
+elif test &quot;X$1&quot; = X--fallback-echo; then
+  # Avoid inline document here, it may be left over
+  :
+elif test &quot;X`($echo '\t') 2&gt;/dev/null`&quot; = 'X\t'; then
+  # Yippee, $echo works!
+  :
+else
+  # Restart under the correct shell.
+  exec $SHELL &quot;$0&quot; --no-reexec ${1+&quot;$@&quot;}
+fi
+
+if test &quot;X$1&quot; = X--fallback-echo; then
+  # used as fallback echo
+  shift
+  cat &lt;&lt;EOF
+
+EOF
+  exit 0
+fi
+
+# The HP-UX ksh and POSIX shell print the target directory to stdout
+# if CDPATH is set.
+if test &quot;X${CDPATH+set}&quot; = Xset; then CDPATH=:; export CDPATH; fi
+
+if test -z &quot;$ECHO&quot;; then
+if test &quot;X${echo_test_string+set}&quot; != Xset; then
+# find a string as large as possible, as long as the shell can cope with it
+  for cmd in 'sed 50q &quot;$0&quot;' 'sed 20q &quot;$0&quot;' 'sed 10q &quot;$0&quot;' 'sed 2q &quot;$0&quot;' 'echo test'; do
+    # expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...
+    if (echo_test_string=&quot;`eval $cmd`&quot;) 2&gt;/dev/null &amp;&amp;
+       echo_test_string=&quot;`eval $cmd`&quot; &amp;&amp;
+       (test &quot;X$echo_test_string&quot; = &quot;X$echo_test_string&quot;) 2&gt;/dev/null
+    then
+      break
+    fi
+  done
+fi
+
+if test &quot;X`($echo '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
+   echo_testing_string=`($echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+   test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+  :
+else
+  # The Solaris, AIX, and Digital Unix default echo programs unquote
+  # backslashes.  This makes it impossible to quote backslashes using
+  #   echo &quot;$something&quot; | sed 's/\\/\\\\/g'
+  #
+  # So, first we look for a working echo in the user's PATH.
+
+  IFS=&quot;${IFS= 	}&quot;; save_ifs=&quot;$IFS&quot;; IFS=$PATH_SEPARATOR
+  for dir in $PATH /usr/ucb; do
+    if (test -f $dir/echo || test -f $dir/echo$ac_exeext) &amp;&amp;
+       test &quot;X`($dir/echo '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
+       echo_testing_string=`($dir/echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+       test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+      echo=&quot;$dir/echo&quot;
+      break
+    fi
+  done
+  IFS=&quot;$save_ifs&quot;
+
+  if test &quot;X$echo&quot; = Xecho; then
+    # We didn't find a better echo, so look for alternatives.
+    if test &quot;X`(print -r '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
+       echo_testing_string=`(print -r &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+       test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+      # This shell has a builtin print -r that does the trick.
+      echo='print -r'
+    elif (test -f /bin/ksh || test -f /bin/ksh$ac_exeext) &amp;&amp;
+	 test &quot;X$CONFIG_SHELL&quot; != X/bin/ksh; then
+      # If we have ksh, try running configure again with it.
+      ORIGINAL_CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
+      export ORIGINAL_CONFIG_SHELL
+      CONFIG_SHELL=/bin/ksh
+      export CONFIG_SHELL
+      exec $CONFIG_SHELL &quot;$0&quot; --no-reexec ${1+&quot;$@&quot;}
+    else
+      # Try using printf.
+      echo='printf %s\n'
+      if test &quot;X`($echo '\t') 2&gt;/dev/null`&quot; = 'X\t' &amp;&amp;
+	 echo_testing_string=`($echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+	 test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+	# Cool, printf works
+	:
+      elif echo_testing_string=`($ORIGINAL_CONFIG_SHELL &quot;$0&quot; --fallback-echo '\t') 2&gt;/dev/null` &amp;&amp;
+	   test &quot;X$echo_testing_string&quot; = 'X\t' &amp;&amp;
+	   echo_testing_string=`($ORIGINAL_CONFIG_SHELL &quot;$0&quot; --fallback-echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+	   test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+	CONFIG_SHELL=$ORIGINAL_CONFIG_SHELL
+	export CONFIG_SHELL
+	SHELL=&quot;$CONFIG_SHELL&quot;
+	export SHELL
+	echo=&quot;$CONFIG_SHELL $0 --fallback-echo&quot;
+      elif echo_testing_string=`($CONFIG_SHELL &quot;$0&quot; --fallback-echo '\t') 2&gt;/dev/null` &amp;&amp;
+	   test &quot;X$echo_testing_string&quot; = 'X\t' &amp;&amp;
+	   echo_testing_string=`($CONFIG_SHELL &quot;$0&quot; --fallback-echo &quot;$echo_test_string&quot;) 2&gt;/dev/null` &amp;&amp;
+	   test &quot;X$echo_testing_string&quot; = &quot;X$echo_test_string&quot;; then
+	echo=&quot;$CONFIG_SHELL $0 --fallback-echo&quot;
+      else
+	# maybe with a smaller string...
+	prev=:
+
+	for cmd in 'echo test' 'sed 2q &quot;$0&quot;' 'sed 10q &quot;$0&quot;' 'sed 20q &quot;$0&quot;' 'sed 50q &quot;$0&quot;'; do
+	  if (test &quot;X$echo_test_string&quot; = &quot;X`eval $cmd`&quot;) 2&gt;/dev/null
+	  then
+	    break
+	  fi
+	  prev=&quot;$cmd&quot;
+	done
+
+	if test &quot;$prev&quot; != 'sed 50q &quot;$0&quot;'; then
+	  echo_test_string=`eval $prev`
+	  export echo_test_string
+	  exec ${ORIGINAL_CONFIG_SHELL-${CONFIG_SHELL-/bin/sh}} &quot;$0&quot; ${1+&quot;$@&quot;}
+	else
+	  # Oops.  We lost completely, so just stick with echo.
+	  echo=echo
+	fi
+      fi
+    fi
+  fi
+fi
+fi
+
+# Copy echo and quote the copy suitably for passing to libtool from
+# the Makefile, instead of quoting the original, which is used later.
+ECHO=$echo
+if test &quot;X$ECHO&quot; = &quot;X$CONFIG_SHELL $0 --fallback-echo&quot;; then
+   ECHO=&quot;$CONFIG_SHELL \\\$\$0 --fallback-echo&quot;
+fi
+
+
+
+# Name of the host.
+# hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
+# so uname gets run too.
+ac_hostname=`(hostname || uname -n) 2&gt;/dev/null | sed 1q`
+
+exec 6&gt;&amp;1
+
+#
+# Initializations.
+#
+ac_default_prefix=/usr/local
+ac_config_libobj_dir=.
+cross_compiling=no
+subdirs=
+MFLAGS=
+MAKEFLAGS=
+SHELL=${CONFIG_SHELL-/bin/sh}
+
+# Maximum number of lines to put in a shell here document.
+# This variable seems obsolete.  It should probably be removed, and
+# only ac_max_sed_lines should be used.
+: ${ac_max_here_lines=38}
+
+# Identity of this package.
+PACKAGE_NAME='picdb'
+PACKAGE_TARNAME='picdb'
+PACKAGE_VERSION='0.0.1'
+PACKAGE_STRING='picdb 0.0.1'
+PACKAGE_BUGREPORT='<A HREF="http://l33th4x0r.dyndns.org/">http://l33th4x0r.dyndns.org/</A>'
+
+ac_unique_file=&quot;include/picdb.hpp&quot;
+ac_default_prefix=${HOME}
+# Factoring default headers for most tests.
+ac_includes_default=&quot;\
+#include &lt;stdio.h&gt;
+#if HAVE_SYS_TYPES_H
+# include &lt;sys/types.h&gt;
+#endif
+#if HAVE_SYS_STAT_H
+# include &lt;sys/stat.h&gt;
+#endif
+#if STDC_HEADERS
+# include &lt;stdlib.h&gt;
+# include &lt;stddef.h&gt;
+#else
+# if HAVE_STDLIB_H
+#  include &lt;stdlib.h&gt;
+# endif
+#endif
+#if HAVE_STRING_H
+# if !STDC_HEADERS &amp;&amp; HAVE_MEMORY_H
+#  include &lt;memory.h&gt;
+# endif
+# include &lt;string.h&gt;
+#endif
+#if HAVE_STRINGS_H
+# include &lt;strings.h&gt;
+#endif
+#if HAVE_INTTYPES_H
+# include &lt;inttypes.h&gt;
+#else
+# if HAVE_STDINT_H
+#  include &lt;stdint.h&gt;
+# endif
+#endif
+#if HAVE_UNISTD_H
+# include &lt;unistd.h&gt;
+#endif&quot;
+
+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA PACKAGE VERSION EXEEXT OBJEXT ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO AMTAR install_sh INSTALL_STRIP_PROGRAM AWK SET_MAKE AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH DEPDIR CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC am__include am__quote CCDEPMODE CXX CXXFLAGS ac_ct_CXX CXXDEPMODE build build_cpu build_vendor build_os host host_cpu host_vendor host_os LN_S ECHO RANLIB ac_ct_RANLIB STRIP ac_ct_STRIP CPP EGREP LIBTOOL LIBOBJS LTLIBOBJS'
+ac_subst_files=''
+
+# Initialize some variables set by options.
+ac_init_help=
+ac_init_version=false
+# The variables have the same names as the options, with
+# dashes changed to underlines.
+cache_file=/dev/null
+exec_prefix=NONE
+no_create=
+no_recursion=
+prefix=NONE
+program_prefix=NONE
+program_suffix=NONE
+program_transform_name=s,x,x,
+silent=
+site=
+srcdir=
+verbose=
+x_includes=NONE
+x_libraries=NONE
+
+# Installation directory options.
+# These are left unexpanded so users can &quot;make install exec_prefix=/foo&quot;
+# and all the variables that are supposed to be based on exec_prefix
+# by default will actually change.
+# Use braces instead of parens because sh, perl, etc. also accept them.
+bindir='${exec_prefix}/bin'
+sbindir='${exec_prefix}/sbin'
+libexecdir='${exec_prefix}/libexec'
+datadir='${prefix}/share'
+sysconfdir='${prefix}/etc'
+sharedstatedir='${prefix}/com'
+localstatedir='${prefix}/var'
+libdir='${exec_prefix}/lib'
+includedir='${prefix}/include'
+oldincludedir='/usr/include'
+infodir='${prefix}/info'
+mandir='${prefix}/man'
+
+ac_prev=
+for ac_option
+do
+  # If the previous option needs an argument, assign it.
+  if test -n &quot;$ac_prev&quot;; then
+    eval &quot;$ac_prev=\$ac_option&quot;
+    ac_prev=
+    continue
+  fi
+
+  ac_optarg=`expr &quot;x$ac_option&quot; : 'x[^=]*=\(.*\)'`
+
+  # Accept the important Cygnus configure options, so we can diagnose typos.
+
+  case $ac_option in
+
+  -bindir | --bindir | --bindi | --bind | --bin | --bi)
+    ac_prev=bindir ;;
+  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
+    bindir=$ac_optarg ;;
+
+  -build | --build | --buil | --bui | --bu)
+    ac_prev=build_alias ;;
+  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
+    build_alias=$ac_optarg ;;
+
+  -cache-file | --cache-file | --cache-fil | --cache-fi \
+  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
+    ac_prev=cache_file ;;
+  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
+  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
+    cache_file=$ac_optarg ;;
+
+  --config-cache | -C)
+    cache_file=config.cache ;;
+
+  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
+    ac_prev=datadir ;;
+  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
+  | --da=*)
+    datadir=$ac_optarg ;;
+
+  -disable-* | --disable-*)
+    ac_feature=`expr &quot;x$ac_option&quot; : 'x-*disable-\(.*\)'`
+    # Reject names that are not valid shell variable names.
+    expr &quot;x$ac_feature&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
+      { echo &quot;$as_me: error: invalid feature name: $ac_feature&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
+    eval &quot;enable_$ac_feature=no&quot; ;;
+
+  -enable-* | --enable-*)
+    ac_feature=`expr &quot;x$ac_option&quot; : 'x-*enable-\([^=]*\)'`
+    # Reject names that are not valid shell variable names.
+    expr &quot;x$ac_feature&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
+      { echo &quot;$as_me: error: invalid feature name: $ac_feature&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
+    case $ac_option in
+      *=*) ac_optarg=`echo &quot;$ac_optarg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`;;
+      *) ac_optarg=yes ;;
+    esac
+    eval &quot;enable_$ac_feature='$ac_optarg'&quot; ;;
+
+  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
+  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
+  | --exec | --exe | --ex)
+    ac_prev=exec_prefix ;;
+  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
+  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
+  | --exec=* | --exe=* | --ex=*)
+    exec_prefix=$ac_optarg ;;
+
+  -gas | --gas | --ga | --g)
+    # Obsolete; use --with-gas.
+    with_gas=yes ;;
+
+  -help | --help | --hel | --he | -h)
+    ac_init_help=long ;;
+  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
+    ac_init_help=recursive ;;
+  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
+    ac_init_help=short ;;
+
+  -host | --host | --hos | --ho)
+    ac_prev=host_alias ;;
+  -host=* | --host=* | --hos=* | --ho=*)
+    host_alias=$ac_optarg ;;
+
+  -includedir | --includedir | --includedi | --included | --include \
+  | --includ | --inclu | --incl | --inc)
+    ac_prev=includedir ;;
+  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
+  | --includ=* | --inclu=* | --incl=* | --inc=*)
+    includedir=$ac_optarg ;;
+
+  -infodir | --infodir | --infodi | --infod | --info | --inf)
+    ac_prev=infodir ;;
+  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
+    infodir=$ac_optarg ;;
+
+  -libdir | --libdir | --libdi | --libd)
+    ac_prev=libdir ;;
+  -libdir=* | --libdir=* | --libdi=* | --libd=*)
+    libdir=$ac_optarg ;;
+
+  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
+  | --libexe | --libex | --libe)
+    ac_prev=libexecdir ;;
+  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
+  | --libexe=* | --libex=* | --libe=*)
+    libexecdir=$ac_optarg ;;
+
+  -localstatedir | --localstatedir | --localstatedi | --localstated \
+  | --localstate | --localstat | --localsta | --localst \
+  | --locals | --local | --loca | --loc | --lo)
+    ac_prev=localstatedir ;;
+  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
+  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
+  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
+    localstatedir=$ac_optarg ;;
+
+  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
+    ac_prev=mandir ;;
+  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
+    mandir=$ac_optarg ;;
+
+  -nfp | --nfp | --nf)
+    # Obsolete; use --without-fp.
+    with_fp=no ;;
+
+  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
+  | --no-cr | --no-c | -n)
+    no_create=yes ;;
+
+  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
+  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
+    no_recursion=yes ;;
+
+  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
+  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
+  | --oldin | --oldi | --old | --ol | --o)
+    ac_prev=oldincludedir ;;
+  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
+  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
+  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
+    oldincludedir=$ac_optarg ;;
+
+  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
+    ac_prev=prefix ;;
+  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
+    prefix=$ac_optarg ;;
+
+  -program-prefix | --program-prefix | --program-prefi | --program-pref \
+  | --program-pre | --program-pr | --program-p)
+    ac_prev=program_prefix ;;
+  -program-prefix=* | --program-prefix=* | --program-prefi=* \
+  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
+    program_prefix=$ac_optarg ;;
+
+  -program-suffix | --program-suffix | --program-suffi | --program-suff \
+  | --program-suf | --program-su | --program-s)
+    ac_prev=program_suffix ;;
+  -program-suffix=* | --program-suffix=* | --program-suffi=* \
+  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
+    program_suffix=$ac_optarg ;;
+
+  -program-transform-name | --program-transform-name \
+  | --program-transform-nam | --program-transform-na \
+  | --program-transform-n | --program-transform- \
+  | --program-transform | --program-transfor \
+  | --program-transfo | --program-transf \
+  | --program-trans | --program-tran \
+  | --progr-tra | --program-tr | --program-t)
+    ac_prev=program_transform_name ;;
+  -program-transform-name=* | --program-transform-name=* \
+  | --program-transform-nam=* | --program-transform-na=* \
+  | --program-transform-n=* | --program-transform-=* \
+  | --program-transform=* | --program-transfor=* \
+  | --program-transfo=* | --program-transf=* \
+  | --program-trans=* | --program-tran=* \
+  | --progr-tra=* | --program-tr=* | --program-t=*)
+    program_transform_name=$ac_optarg ;;
+
+  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+  | -silent | --silent | --silen | --sile | --sil)
+    silent=yes ;;
+
+  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
+    ac_prev=sbindir ;;
+  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
+  | --sbi=* | --sb=*)
+    sbindir=$ac_optarg ;;
+
+  -sharedstatedir | --sharedstatedir | --sharedstatedi \
+  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
+  | --sharedst | --shareds | --shared | --share | --shar \
+  | --sha | --sh)
+    ac_prev=sharedstatedir ;;
+  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
+  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
+  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
+  | --sha=* | --sh=*)
+    sharedstatedir=$ac_optarg ;;
+
+  -site | --site | --sit)
+    ac_prev=site ;;
+  -site=* | --site=* | --sit=*)
+    site=$ac_optarg ;;
+
+  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
+    ac_prev=srcdir ;;
+  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
+    srcdir=$ac_optarg ;;
+
+  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
+  | --syscon | --sysco | --sysc | --sys | --sy)
+    ac_prev=sysconfdir ;;
+  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
+  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
+    sysconfdir=$ac_optarg ;;
+
+  -target | --target | --targe | --targ | --tar | --ta | --t)
+    ac_prev=target_alias ;;
+  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
+    target_alias=$ac_optarg ;;
+
+  -v | -verbose | --verbose | --verbos | --verbo | --verb)
+    verbose=yes ;;
+
+  -version | --version | --versio | --versi | --vers | -V)
+    ac_init_version=: ;;
+
+  -with-* | --with-*)
+    ac_package=`expr &quot;x$ac_option&quot; : 'x-*with-\([^=]*\)'`
+    # Reject names that are not valid shell variable names.
+    expr &quot;x$ac_package&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
+      { echo &quot;$as_me: error: invalid package name: $ac_package&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+    ac_package=`echo $ac_package| sed 's/-/_/g'`
+    case $ac_option in
+      *=*) ac_optarg=`echo &quot;$ac_optarg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`;;
+      *) ac_optarg=yes ;;
+    esac
+    eval &quot;with_$ac_package='$ac_optarg'&quot; ;;
+
+  -without-* | --without-*)
+    ac_package=`expr &quot;x$ac_option&quot; : 'x-*without-\(.*\)'`
+    # Reject names that are not valid shell variable names.
+    expr &quot;x$ac_package&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
+      { echo &quot;$as_me: error: invalid package name: $ac_package&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+    ac_package=`echo $ac_package | sed 's/-/_/g'`
+    eval &quot;with_$ac_package=no&quot; ;;
+
+  --x)
+    # Obsolete; use --with-x.
+    with_x=yes ;;
+
+  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
+  | --x-incl | --x-inc | --x-in | --x-i)
+    ac_prev=x_includes ;;
+  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
+  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
+    x_includes=$ac_optarg ;;
+
+  -x-libraries | --x-libraries | --x-librarie | --x-librari \
+  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
+    ac_prev=x_libraries ;;
+  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
+  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
+    x_libraries=$ac_optarg ;;
+
+  -*) { echo &quot;$as_me: error: unrecognized option: $ac_option
+Try \`$0 --help' for more information.&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+    ;;
+
+  *=*)
+    ac_envvar=`expr &quot;x$ac_option&quot; : 'x\([^=]*\)='`
+    # Reject names that are not valid shell variable names.
+    expr &quot;x$ac_envvar&quot; : &quot;.*[^_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
+      { echo &quot;$as_me: error: invalid variable name: $ac_envvar&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+    ac_optarg=`echo &quot;$ac_optarg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`
+    eval &quot;$ac_envvar='$ac_optarg'&quot;
+    export $ac_envvar ;;
+
+  *)
+    # FIXME: should be removed in autoconf 3.0.
+    echo &quot;$as_me: WARNING: you should use --build, --host, --target&quot; &gt;&amp;2
+    expr &quot;x$ac_option&quot; : &quot;.*[^-._$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
+      echo &quot;$as_me: WARNING: invalid host type: $ac_option&quot; &gt;&amp;2
+    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
+    ;;
+
+  esac
+done
+
+if test -n &quot;$ac_prev&quot;; then
+  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
+  { echo &quot;$as_me: error: missing argument to $ac_option&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+fi
+
+# Be sure to have absolute paths.
+for ac_var in exec_prefix prefix
+do
+  eval ac_val=$`echo $ac_var`
+  case $ac_val in
+    [\\/$]* | ?:[\\/]* | NONE | '' ) ;;
+    *)  { echo &quot;$as_me: error: expected an absolute directory name for --$ac_var: $ac_val&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; };;
+  esac
+done
+
+# Be sure to have absolute paths.
+for ac_var in bindir sbindir libexecdir datadir sysconfdir sharedstatedir \
+	      localstatedir libdir includedir oldincludedir infodir mandir
+do
+  eval ac_val=$`echo $ac_var`
+  case $ac_val in
+    [\\/$]* | ?:[\\/]* ) ;;
+    *)  { echo &quot;$as_me: error: expected an absolute directory name for --$ac_var: $ac_val&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; };;
+  esac
+done
+
+# There might be people who depend on the old broken behavior: `$host'
+# used to hold the argument of --host etc.
+# FIXME: To remove some day.
+build=$build_alias
+host=$host_alias
+target=$target_alias
+
+# FIXME: To remove some day.
+if test &quot;x$host_alias&quot; != x; then
+  if test &quot;x$build_alias&quot; = x; then
+    cross_compiling=maybe
+    echo &quot;$as_me: WARNING: If you wanted to set the --build type, don't use --host.
+    If a cross compiler is detected then cross compile mode will be used.&quot; &gt;&amp;2
+  elif test &quot;x$build_alias&quot; != &quot;x$host_alias&quot;; then
+    cross_compiling=yes
+  fi
+fi
+
+ac_tool_prefix=
+test -n &quot;$host_alias&quot; &amp;&amp; ac_tool_prefix=$host_alias-
+
+test &quot;$silent&quot; = yes &amp;&amp; exec 6&gt;/dev/null
+
+
+# Find the source files, if location was not specified.
+if test -z &quot;$srcdir&quot;; then
+  ac_srcdir_defaulted=yes
+  # Try the directory containing this script, then its parent.
+  ac_confdir=`(dirname &quot;$0&quot;) 2&gt;/dev/null ||
+$as_expr X&quot;$0&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X&quot;$0&quot; : 'X\(//\)[^/]' \| \
+	 X&quot;$0&quot; : 'X\(//\)$' \| \
+	 X&quot;$0&quot; : 'X\(/\)' \| \
+	 .     : '\(.\)' 2&gt;/dev/null ||
+echo X&quot;$0&quot; |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+  srcdir=$ac_confdir
+  if test ! -r $srcdir/$ac_unique_file; then
+    srcdir=..
+  fi
+else
+  ac_srcdir_defaulted=no
+fi
+if test ! -r $srcdir/$ac_unique_file; then
+  if test &quot;$ac_srcdir_defaulted&quot; = yes; then
+    { echo &quot;$as_me: error: cannot find sources ($ac_unique_file) in $ac_confdir or ..&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+  else
+    { echo &quot;$as_me: error: cannot find sources ($ac_unique_file) in $srcdir&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+  fi
+fi
+(cd $srcdir &amp;&amp; test -r ./$ac_unique_file) 2&gt;/dev/null ||
+  { echo &quot;$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work&quot; &gt;&amp;2
+   { (exit 1); exit 1; }; }
+srcdir=`echo &quot;$srcdir&quot; | sed 's%\([^\\/]\)[\\/]*$%\1%'`
+ac_env_build_alias_set=${build_alias+set}
+ac_env_build_alias_value=$build_alias
+ac_cv_env_build_alias_set=${build_alias+set}
+ac_cv_env_build_alias_value=$build_alias
+ac_env_host_alias_set=${host_alias+set}
+ac_env_host_alias_value=$host_alias
+ac_cv_env_host_alias_set=${host_alias+set}
+ac_cv_env_host_alias_value=$host_alias
+ac_env_target_alias_set=${target_alias+set}
+ac_env_target_alias_value=$target_alias
+ac_cv_env_target_alias_set=${target_alias+set}
+ac_cv_env_target_alias_value=$target_alias
+ac_env_CC_set=${CC+set}
+ac_env_CC_value=$CC
+ac_cv_env_CC_set=${CC+set}
+ac_cv_env_CC_value=$CC
+ac_env_CFLAGS_set=${CFLAGS+set}
+ac_env_CFLAGS_value=$CFLAGS
+ac_cv_env_CFLAGS_set=${CFLAGS+set}
+ac_cv_env_CFLAGS_value=$CFLAGS
+ac_env_LDFLAGS_set=${LDFLAGS+set}
+ac_env_LDFLAGS_value=$LDFLAGS
+ac_cv_env_LDFLAGS_set=${LDFLAGS+set}
+ac_cv_env_LDFLAGS_value=$LDFLAGS
+ac_env_CPPFLAGS_set=${CPPFLAGS+set}
+ac_env_CPPFLAGS_value=$CPPFLAGS
+ac_cv_env_CPPFLAGS_set=${CPPFLAGS+set}
+ac_cv_env_CPPFLAGS_value=$CPPFLAGS
+ac_env_CXX_set=${CXX+set}
+ac_env_CXX_value=$CXX
+ac_cv_env_CXX_set=${CXX+set}
+ac_cv_env_CXX_value=$CXX
+ac_env_CXXFLAGS_set=${CXXFLAGS+set}
+ac_env_CXXFLAGS_value=$CXXFLAGS
+ac_cv_env_CXXFLAGS_set=${CXXFLAGS+set}
+ac_cv_env_CXXFLAGS_value=$CXXFLAGS
+ac_env_CPP_set=${CPP+set}
+ac_env_CPP_value=$CPP
+ac_cv_env_CPP_set=${CPP+set}
+ac_cv_env_CPP_value=$CPP
+
+#
+# Report the --help message.
+#
+if test &quot;$ac_init_help&quot; = &quot;long&quot;; then
+  # Omit some internal or obsolete options to make the list less imposing.
+  # This message is too long to be a string in the A/UX 3.1 sh.
+  cat &lt;&lt;_ACEOF
+\`configure' configures picdb 0.0.1 to adapt to many kinds of systems.
+
+Usage: $0 [OPTION]... [VAR=VALUE]...
+
+To assign environment variables (e.g., CC, CFLAGS...), specify them as
+VAR=VALUE.  See below for descriptions of some of the useful variables.
+
+Defaults for the options are specified in brackets.
+
+Configuration:
+  -h, --help              display this help and exit
+      --help=short        display options specific to this package
+      --help=recursive    display the short help of all the included packages
+  -V, --version           display version information and exit
+  -q, --quiet, --silent   do not print \`checking...' messages
+      --cache-file=FILE   cache test results in FILE [disabled]
+  -C, --config-cache      alias for \`--cache-file=config.cache'
+  -n, --no-create         do not create output files
+      --srcdir=DIR        find the sources in DIR [configure dir or \`..']
+
+_ACEOF
+
+  cat &lt;&lt;_ACEOF
+Installation directories:
+  --prefix=PREFIX         install architecture-independent files in PREFIX
+			  [$ac_default_prefix]
+  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
+			  [PREFIX]
+
+By default, \`make install' will install all the files in
+\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
+an installation prefix other than \`$ac_default_prefix' using \`--prefix',
+for instance \`--prefix=\$HOME'.
+
+For better control, use the options below.
+
+Fine tuning of the installation directories:
+  --bindir=DIR           user executables [EPREFIX/bin]
+  --sbindir=DIR          system admin executables [EPREFIX/sbin]
+  --libexecdir=DIR       program executables [EPREFIX/libexec]
+  --datadir=DIR          read-only architecture-independent data [PREFIX/share]
+  --sysconfdir=DIR       read-only single-machine data [PREFIX/etc]
+  --sharedstatedir=DIR   modifiable architecture-independent data [PREFIX/com]
+  --localstatedir=DIR    modifiable single-machine data [PREFIX/var]
+  --libdir=DIR           object code libraries [EPREFIX/lib]
+  --includedir=DIR       C header files [PREFIX/include]
+  --oldincludedir=DIR    C header files for non-gcc [/usr/include]
+  --infodir=DIR          info documentation [PREFIX/info]
+  --mandir=DIR           man documentation [PREFIX/man]
+_ACEOF
+
+  cat &lt;&lt;\_ACEOF
+
+Program names:
+  --program-prefix=PREFIX            prepend PREFIX to installed program names
+  --program-suffix=SUFFIX            append SUFFIX to installed program names
+  --program-transform-name=PROGRAM   run sed PROGRAM on installed program names
+
+System types:
+  --build=BUILD     configure for building on BUILD [guessed]
+  --host=HOST       cross-compile to build programs to run on HOST [BUILD]
+_ACEOF
+fi
+
+if test -n &quot;$ac_init_help&quot;; then
+  case $ac_init_help in
+     short | recursive ) echo &quot;Configuration of picdb 0.0.1:&quot;;;
+   esac
+  cat &lt;&lt;\_ACEOF
+
+Optional Features:
+  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
+  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
+  --disable-dependency-tracking Speeds up one-time builds
+  --enable-dependency-tracking  Do not reject slow dependency extractors
+  --enable-shared=PKGS  build shared libraries default=yes
+  --enable-static=PKGS  build static libraries default=yes
+  --enable-fast-install=PKGS  optimize for fast installation default=yes
+  --disable-libtool-lock  avoid locking (might break parallel builds)
+
+Optional Packages:
+  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
+  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
+  --with-gnu-ld           assume the C compiler uses GNU ld default=no
+  --with-pic              try to use only PIC/non-PIC objects default=use both
+
+Some influential environment variables:
+  CC          C compiler command
+  CFLAGS      C compiler flags
+  LDFLAGS     linker flags, e.g. -L&lt;lib dir&gt; if you have libraries in a
+              nonstandard directory &lt;lib dir&gt;
+  CPPFLAGS    C/C++ preprocessor flags, e.g. -I&lt;include dir&gt; if you have
+              headers in a nonstandard directory &lt;include dir&gt;
+  CXX         C++ compiler command
+  CXXFLAGS    C++ compiler flags
+  CPP         C preprocessor
+
+Use these variables to override the choices made by `configure' or to help
+it to find libraries and programs with nonstandard names/locations.
+
+Report bugs to &lt;<A HREF="http://l33th4x0r.dyndns.org/">http://l33th4x0r.dyndns.org/</A>&gt;.
+_ACEOF
+fi
+
+if test &quot;$ac_init_help&quot; = &quot;recursive&quot;; then
+  # If there are subdirs, report their specific --help.
+  ac_popdir=`pwd`
+  for ac_dir in : $ac_subdirs_all; do test &quot;x$ac_dir&quot; = x: &amp;&amp; continue
+    test -d $ac_dir || continue
+    ac_builddir=.
+
+if test &quot;$ac_dir&quot; != .; then
+  ac_dir_suffix=/`echo &quot;$ac_dir&quot; | sed 's,^\.[\\/],,'`
+  # A &quot;../&quot; for each directory in $ac_dir_suffix.
+  ac_top_builddir=`echo &quot;$ac_dir_suffix&quot; | sed 's,/[^\\/]*,../,g'`
+else
+  ac_dir_suffix= ac_top_builddir=
+fi
+
+case $srcdir in
+  .)  # No --srcdir option.  We are building in place.
+    ac_srcdir=.
+    if test -z &quot;$ac_top_builddir&quot;; then
+       ac_top_srcdir=.
+    else
+       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
+    fi ;;
+  [\\/]* | ?:[\\/]* )  # Absolute path.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir ;;
+  *) # Relative path.
+    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_builddir$srcdir ;;
+esac
+
+# Do not use `cd foo &amp;&amp; pwd` to compute absolute paths, because
+# the directories may not exist.
+case `pwd` in
+.) ac_abs_builddir=&quot;$ac_dir&quot;;;
+*)
+  case &quot;$ac_dir&quot; in
+  .) ac_abs_builddir=`pwd`;;
+  [\\/]* | ?:[\\/]* ) ac_abs_builddir=&quot;$ac_dir&quot;;;
+  *) ac_abs_builddir=`pwd`/&quot;$ac_dir&quot;;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_builddir=${ac_top_builddir}.;;
+*)
+  case ${ac_top_builddir}. in
+  .) ac_abs_top_builddir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
+  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_srcdir=$ac_srcdir;;
+*)
+  case $ac_srcdir in
+  .) ac_abs_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
+  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_srcdir=$ac_top_srcdir;;
+*)
+  case $ac_top_srcdir in
+  .) ac_abs_top_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
+  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
+  esac;;
+esac
+
+    cd $ac_dir
+    # Check for guested configure; otherwise get Cygnus style configure.
+    if test -f $ac_srcdir/configure.gnu; then
+      echo
+      $SHELL $ac_srcdir/configure.gnu  --help=recursive
+    elif test -f $ac_srcdir/configure; then
+      echo
+      $SHELL $ac_srcdir/configure  --help=recursive
+    elif test -f $ac_srcdir/configure.ac ||
+	   test -f $ac_srcdir/configure.in; then
+      echo
+      $ac_configure --help
+    else
+      echo &quot;$as_me: WARNING: no configuration information is in $ac_dir&quot; &gt;&amp;2
+    fi
+    cd $ac_popdir
+  done
+fi
+
+test -n &quot;$ac_init_help&quot; &amp;&amp; exit 0
+if $ac_init_version; then
+  cat &lt;&lt;\_ACEOF
+picdb configure 0.0.1
+generated by GNU Autoconf 2.59
+
+Copyright (C) 2003 Free Software Foundation, Inc.
+This configure script is free software; the Free Software Foundation
+gives unlimited permission to copy, distribute and modify it.
+_ACEOF
+  exit 0
+fi
+exec 5&gt;config.log
+cat &gt;&amp;5 &lt;&lt;_ACEOF
+This file contains any messages produced by compilers while
+running configure, to aid debugging if configure makes a mistake.
+
+It was created by picdb $as_me 0.0.1, which was
+generated by GNU Autoconf 2.59.  Invocation command line was
+
+  $ $0 $@
+
+_ACEOF
+{
+cat &lt;&lt;_ASUNAME
+## --------- ##
+## Platform. ##
+## --------- ##
+
+hostname = `(hostname || uname -n) 2&gt;/dev/null | sed 1q`
+uname -m = `(uname -m) 2&gt;/dev/null || echo unknown`
+uname -r = `(uname -r) 2&gt;/dev/null || echo unknown`
+uname -s = `(uname -s) 2&gt;/dev/null || echo unknown`
+uname -v = `(uname -v) 2&gt;/dev/null || echo unknown`
+
+/usr/bin/uname -p = `(/usr/bin/uname -p) 2&gt;/dev/null || echo unknown`
+/bin/uname -X     = `(/bin/uname -X) 2&gt;/dev/null     || echo unknown`
+
+/bin/arch              = `(/bin/arch) 2&gt;/dev/null              || echo unknown`
+/usr/bin/arch -k       = `(/usr/bin/arch -k) 2&gt;/dev/null       || echo unknown`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2&gt;/dev/null || echo unknown`
+hostinfo               = `(hostinfo) 2&gt;/dev/null               || echo unknown`
+/bin/machine           = `(/bin/machine) 2&gt;/dev/null           || echo unknown`
+/usr/bin/oslevel       = `(/usr/bin/oslevel) 2&gt;/dev/null       || echo unknown`
+/bin/universe          = `(/bin/universe) 2&gt;/dev/null          || echo unknown`
+
+_ASUNAME
+
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  echo &quot;PATH: $as_dir&quot;
+done
+
+} &gt;&amp;5
+
+cat &gt;&amp;5 &lt;&lt;_ACEOF
+
+
+## ----------- ##
+## Core tests. ##
+## ----------- ##
+
+_ACEOF
+
+
+# Keep a trace of the command line.
+# Strip out --no-create and --no-recursion so they do not pile up.
+# Strip out --silent because we don't want to record it for future runs.
+# Also quote any args containing shell meta-characters.
+# Make two passes to allow for proper duplicate-argument suppression.
+ac_configure_args=
+ac_configure_args0=
+ac_configure_args1=
+ac_sep=
+ac_must_keep_next=false
+for ac_pass in 1 2
+do
+  for ac_arg
+  do
+    case $ac_arg in
+    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
+    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+    | -silent | --silent | --silen | --sile | --sil)
+      continue ;;
+    *&quot; &quot;*|*&quot;	&quot;*|*[\[\]\~\#\$\^\&amp;\*\(\)\{\}\\\|\;\&lt;\&gt;\?\&quot;\']*)
+      ac_arg=`echo &quot;$ac_arg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;` ;;
+    esac
+    case $ac_pass in
+    1) ac_configure_args0=&quot;$ac_configure_args0 '$ac_arg'&quot; ;;
+    2)
+      ac_configure_args1=&quot;$ac_configure_args1 '$ac_arg'&quot;
+      if test $ac_must_keep_next = true; then
+	ac_must_keep_next=false # Got value, back to normal.
+      else
+	case $ac_arg in
+	  *=* | --config-cache | -C | -disable-* | --disable-* \
+	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
+	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
+	  | -with-* | --with-* | -without-* | --without-* | --x)
+	    case &quot;$ac_configure_args0 &quot; in
+	      &quot;$ac_configure_args1&quot;*&quot; '$ac_arg' &quot;* ) continue ;;
+	    esac
+	    ;;
+	  -* ) ac_must_keep_next=true ;;
+	esac
+      fi
+      ac_configure_args=&quot;$ac_configure_args$ac_sep'$ac_arg'&quot;
+      # Get rid of the leading space.
+      ac_sep=&quot; &quot;
+      ;;
+    esac
+  done
+done
+$as_unset ac_configure_args0 || test &quot;${ac_configure_args0+set}&quot; != set || { ac_configure_args0=; export ac_configure_args0; }
+$as_unset ac_configure_args1 || test &quot;${ac_configure_args1+set}&quot; != set || { ac_configure_args1=; export ac_configure_args1; }
+
+# When interrupted or exit'd, cleanup temporary files, and complete
+# config.log.  We remove comments because anyway the quotes in there
+# would cause problems or look ugly.
+# WARNING: Be sure not to use single quotes in there, as some shells,
+# such as our DU 5.0 friend, will then `close' the trap.
+trap 'exit_status=$?
+  # Save into config.log some information that might help in debugging.
+  {
+    echo
+
+    cat &lt;&lt;\_ASBOX
+## ---------------- ##
+## Cache variables. ##
+## ---------------- ##
+_ASBOX
+    echo
+    # The following way of writing the cache mishandles newlines in values,
+{
+  (set) 2&gt;&amp;1 |
+    case `(ac_space='&quot;'&quot;' '&quot;'&quot;'; set | grep ac_space) 2&gt;&amp;1` in
+    *ac_space=\ *)
+      sed -n \
+	&quot;s/'&quot;'&quot;'/'&quot;'&quot;'\\\\'&quot;'&quot;''&quot;'&quot;'/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='&quot;'&quot;'\\2'&quot;'&quot;'/p&quot;
+      ;;
+    *)
+      sed -n \
+	&quot;s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p&quot;
+      ;;
+    esac;
+}
+    echo
+
+    cat &lt;&lt;\_ASBOX
+## ----------------- ##
+## Output variables. ##
+## ----------------- ##
+_ASBOX
+    echo
+    for ac_var in $ac_subst_vars
+    do
+      eval ac_val=$`echo $ac_var`
+      echo &quot;$ac_var='&quot;'&quot;'$ac_val'&quot;'&quot;'&quot;
+    done | sort
+    echo
+
+    if test -n &quot;$ac_subst_files&quot;; then
+      cat &lt;&lt;\_ASBOX
+## ------------- ##
+## Output files. ##
+## ------------- ##
+_ASBOX
+      echo
+      for ac_var in $ac_subst_files
+      do
+	eval ac_val=$`echo $ac_var`
+	echo &quot;$ac_var='&quot;'&quot;'$ac_val'&quot;'&quot;'&quot;
+      done | sort
+      echo
+    fi
+
+    if test -s confdefs.h; then
+      cat &lt;&lt;\_ASBOX
+## ----------- ##
+## confdefs.h. ##
+## ----------- ##
+_ASBOX
+      echo
+      sed &quot;/^$/d&quot; confdefs.h | sort
+      echo
+    fi
+    test &quot;$ac_signal&quot; != 0 &amp;&amp;
+      echo &quot;$as_me: caught signal $ac_signal&quot;
+    echo &quot;$as_me: exit $exit_status&quot;
+  } &gt;&amp;5
+  rm -f core *.core &amp;&amp;
+  rm -rf conftest* confdefs* conf$$* $ac_clean_files &amp;&amp;
+    exit $exit_status
+     ' 0
+for ac_signal in 1 2 13 15; do
+  trap 'ac_signal='$ac_signal'; { (exit 1); exit 1; }' $ac_signal
+done
+ac_signal=0
+
+# confdefs.h avoids OS command line length limits that DEFS can exceed.
+rm -rf conftest* confdefs.h
+# AIX cpp loses on an empty file, so make sure it contains at least a newline.
+echo &gt;confdefs.h
+
+# Predefined preprocessor variables.
+
+cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define PACKAGE_NAME &quot;$PACKAGE_NAME&quot;
+_ACEOF
+
+
+cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define PACKAGE_TARNAME &quot;$PACKAGE_TARNAME&quot;
+_ACEOF
+
+
+cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define PACKAGE_VERSION &quot;$PACKAGE_VERSION&quot;
+_ACEOF
+
+
+cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define PACKAGE_STRING &quot;$PACKAGE_STRING&quot;
+_ACEOF
+
+
+cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define PACKAGE_BUGREPORT &quot;$PACKAGE_BUGREPORT&quot;
+_ACEOF
+
+
+# Let the site file select an alternate cache file if it wants to.
+# Prefer explicitly selected file to automatically selected ones.
+if test -z &quot;$CONFIG_SITE&quot;; then
+  if test &quot;x$prefix&quot; != xNONE; then
+    CONFIG_SITE=&quot;$prefix/share/config.site $prefix/etc/config.site&quot;
+  else
+    CONFIG_SITE=&quot;$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site&quot;
+  fi
+fi
+for ac_site_file in $CONFIG_SITE; do
+  if test -r &quot;$ac_site_file&quot;; then
+    { echo &quot;$as_me:$LINENO: loading site script $ac_site_file&quot; &gt;&amp;5
+echo &quot;$as_me: loading site script $ac_site_file&quot; &gt;&amp;6;}
+    sed 's/^/| /' &quot;$ac_site_file&quot; &gt;&amp;5
+    . &quot;$ac_site_file&quot;
+  fi
+done
+
+if test -r &quot;$cache_file&quot;; then
+  # Some versions of bash will fail to source /dev/null (special
+  # files actually), so we avoid doing that.
+  if test -f &quot;$cache_file&quot;; then
+    { echo &quot;$as_me:$LINENO: loading cache $cache_file&quot; &gt;&amp;5
+echo &quot;$as_me: loading cache $cache_file&quot; &gt;&amp;6;}
+    case $cache_file in
+      [\\/]* | ?:[\\/]* ) . $cache_file;;
+      *)                      . ./$cache_file;;
+    esac
+  fi
+else
+  { echo &quot;$as_me:$LINENO: creating cache $cache_file&quot; &gt;&amp;5
+echo &quot;$as_me: creating cache $cache_file&quot; &gt;&amp;6;}
+  &gt;$cache_file
+fi
+
+# Check that the precious variables saved in the cache have kept the same
+# value.
+ac_cache_corrupted=false
+for ac_var in `(set) 2&gt;&amp;1 |
+	       sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
+  eval ac_old_set=\$ac_cv_env_${ac_var}_set
+  eval ac_new_set=\$ac_env_${ac_var}_set
+  eval ac_old_val=&quot;\$ac_cv_env_${ac_var}_value&quot;
+  eval ac_new_val=&quot;\$ac_env_${ac_var}_value&quot;
+  case $ac_old_set,$ac_new_set in
+    set,)
+      { echo &quot;$as_me:$LINENO: error: \`$ac_var' was set to \`$ac_old_val' in the previous run&quot; &gt;&amp;5
+echo &quot;$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run&quot; &gt;&amp;2;}
+      ac_cache_corrupted=: ;;
+    ,set)
+      { echo &quot;$as_me:$LINENO: error: \`$ac_var' was not set in the previous run&quot; &gt;&amp;5
+echo &quot;$as_me: error: \`$ac_var' was not set in the previous run&quot; &gt;&amp;2;}
+      ac_cache_corrupted=: ;;
+    ,);;
+    *)
+      if test &quot;x$ac_old_val&quot; != &quot;x$ac_new_val&quot;; then
+	{ echo &quot;$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:&quot; &gt;&amp;5
+echo &quot;$as_me: error: \`$ac_var' has changed since the previous run:&quot; &gt;&amp;2;}
+	{ echo &quot;$as_me:$LINENO:   former value:  $ac_old_val&quot; &gt;&amp;5
+echo &quot;$as_me:   former value:  $ac_old_val&quot; &gt;&amp;2;}
+	{ echo &quot;$as_me:$LINENO:   current value: $ac_new_val&quot; &gt;&amp;5
+echo &quot;$as_me:   current value: $ac_new_val&quot; &gt;&amp;2;}
+	ac_cache_corrupted=:
+      fi;;
+  esac
+  # Pass precious variables to config.status.
+  if test &quot;$ac_new_set&quot; = set; then
+    case $ac_new_val in
+    *&quot; &quot;*|*&quot;	&quot;*|*[\[\]\~\#\$\^\&amp;\*\(\)\{\}\\\|\;\&lt;\&gt;\?\&quot;\']*)
+      ac_arg=$ac_var=`echo &quot;$ac_new_val&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;` ;;
+    *) ac_arg=$ac_var=$ac_new_val ;;
+    esac
+    case &quot; $ac_configure_args &quot; in
+      *&quot; '$ac_arg' &quot;*) ;; # Avoid dups.  Use of quotes ensures accuracy.
+      *) ac_configure_args=&quot;$ac_configure_args '$ac_arg'&quot; ;;
+    esac
+  fi
+done
+if $ac_cache_corrupted; then
+  { echo &quot;$as_me:$LINENO: error: changes in the environment can compromise the build&quot; &gt;&amp;5
+echo &quot;$as_me: error: changes in the environment can compromise the build&quot; &gt;&amp;2;}
+  { { echo &quot;$as_me:$LINENO: error: run \`make distclean' and/or \`rm $cache_file' and start over&quot; &gt;&amp;5
+echo &quot;$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+ac_aux_dir=
+for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
+  if test -f $ac_dir/install-sh; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh=&quot;$ac_aux_dir/install-sh -c&quot;
+    break
+  elif test -f $ac_dir/install.sh; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh=&quot;$ac_aux_dir/install.sh -c&quot;
+    break
+  elif test -f $ac_dir/shtool; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh=&quot;$ac_aux_dir/shtool install -c&quot;
+    break
+  fi
+done
+if test -z &quot;$ac_aux_dir&quot;; then
+  { { echo &quot;$as_me:$LINENO: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../..&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../..&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+ac_config_guess=&quot;$SHELL $ac_aux_dir/config.guess&quot;
+ac_config_sub=&quot;$SHELL $ac_aux_dir/config.sub&quot;
+ac_configure=&quot;$SHELL $ac_aux_dir/configure&quot; # This should be Cygnus configure.
+
+# Find a good install program.  We prefer a C program (faster),
+# so one script is as good as another.  But avoid the broken or
+# incompatible versions:
+# SysV /etc/install, /usr/sbin/install
+# SunOS /usr/etc/install
+# IRIX /sbin/install
+# AIX /bin/install
+# AmigaOS /C/install, which installs bootblocks on floppy discs
+# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+# AFS /usr/afsws/bin/install, which mishandles nonexistent args
+# SVR4 /usr/ucb/install, which tries to use the nonexistent group &quot;staff&quot;
+# OS/2's system install, which has a completely different semantic
+# ./install, which can be erroneously created by make from ./install.sh.
+echo &quot;$as_me:$LINENO: checking for a BSD-compatible install&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for a BSD-compatible install... $ECHO_C&quot; &gt;&amp;6
+if test -z &quot;$INSTALL&quot;; then
+if test &quot;${ac_cv_path_install+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  # Account for people who put trailing slashes in PATH elements.
+case $as_dir/ in
+  ./ | .// | /cC/* | \
+  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
+  ?:\\/os2\\/install\\/* | ?:\\/OS2\\/INSTALL\\/* | \
+  /usr/ucb/* ) ;;
+  *)
+    # OSF1 and SCO ODT 3.0 have their own names for install.
+    # Don't use installbsd from OSF since it installs stuff as root
+    # by default.
+    for ac_prog in ginstall scoinst install; do
+      for ac_exec_ext in '' $ac_executable_extensions; do
+	if $as_executable_p &quot;$as_dir/$ac_prog$ac_exec_ext&quot;; then
+	  if test $ac_prog = install &amp;&amp;
+	    grep dspmsg &quot;$as_dir/$ac_prog$ac_exec_ext&quot; &gt;/dev/null 2&gt;&amp;1; then
+	    # AIX install.  It has an incompatible calling convention.
+	    :
+	  elif test $ac_prog = install &amp;&amp;
+	    grep pwplus &quot;$as_dir/$ac_prog$ac_exec_ext&quot; &gt;/dev/null 2&gt;&amp;1; then
+	    # program-specific install script used by HP pwplus--don't use.
+	    :
+	  else
+	    ac_cv_path_install=&quot;$as_dir/$ac_prog$ac_exec_ext -c&quot;
+	    break 3
+	  fi
+	fi
+      done
+    done
+    ;;
+esac
+done
+
+
+fi
+  if test &quot;${ac_cv_path_install+set}&quot; = set; then
+    INSTALL=$ac_cv_path_install
+  else
+    # As a last resort, use the slow shell script.  We don't cache a
+    # path for INSTALL within a source directory, because that will
+    # break other packages using the cache if that directory is
+    # removed, or if the path is relative.
+    INSTALL=$ac_install_sh
+  fi
+fi
+echo &quot;$as_me:$LINENO: result: $INSTALL&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$INSTALL&quot; &gt;&amp;6
+
+# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
+# It thinks the first close brace ends the variable substitution.
+test -z &quot;$INSTALL_PROGRAM&quot; &amp;&amp; INSTALL_PROGRAM='${INSTALL}'
+
+test -z &quot;$INSTALL_SCRIPT&quot; &amp;&amp; INSTALL_SCRIPT='${INSTALL}'
+
+test -z &quot;$INSTALL_DATA&quot; &amp;&amp; INSTALL_DATA='${INSTALL} -m 644'
+
+echo &quot;$as_me:$LINENO: checking whether build environment is sane&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether build environment is sane... $ECHO_C&quot; &gt;&amp;6
+# Just in case
+sleep 1
+echo timestamp &gt; conftest.file
+# Do `set' in a subshell so we don't clobber the current shell's
+# arguments.  Must try -L first in case configure is actually a
+# symlink; some systems play weird games with the mod time of symlinks
+# (eg FreeBSD returns the mod time of the symlink's containing
+# directory).
+if (
+   set X `ls -Lt $srcdir/configure conftest.file 2&gt; /dev/null`
+   if test &quot;$*&quot; = &quot;X&quot;; then
+      # -L didn't work.
+      set X `ls -t $srcdir/configure conftest.file`
+   fi
+   rm -f conftest.file
+   if test &quot;$*&quot; != &quot;X $srcdir/configure conftest.file&quot; \
+      &amp;&amp; test &quot;$*&quot; != &quot;X conftest.file $srcdir/configure&quot;; then
+
+      # If neither matched, then we have a broken ls.  This can happen
+      # if, for instance, CONFIG_SHELL is bash and it inherits a
+      # broken ls alias from the environment.  This has actually
+      # happened.  Such a system could not be considered &quot;sane&quot;.
+      { { echo &quot;$as_me:$LINENO: error: ls -t appears to fail.  Make sure there is not a broken
+alias in your environment&quot; &gt;&amp;5
+echo &quot;$as_me: error: ls -t appears to fail.  Make sure there is not a broken
+alias in your environment&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+   fi
+
+   test &quot;$2&quot; = conftest.file
+   )
+then
+   # Ok.
+   :
+else
+   { { echo &quot;$as_me:$LINENO: error: newly created file is older than distributed files!
+Check your system clock&quot; &gt;&amp;5
+echo &quot;$as_me: error: newly created file is older than distributed files!
+Check your system clock&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
+echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
+test &quot;$program_prefix&quot; != NONE &amp;&amp;
+  program_transform_name=&quot;s,^,$program_prefix,;$program_transform_name&quot;
+# Use a double $ so make ignores it.
+test &quot;$program_suffix&quot; != NONE &amp;&amp;
+  program_transform_name=&quot;s,\$,$program_suffix,;$program_transform_name&quot;
+# Double any \ or $.  echo might interpret backslashes.
+# By default was `s,x,x', remove it if useless.
+cat &lt;&lt;\_ACEOF &gt;conftest.sed
+s/[\\$]/&amp;&amp;/g;s/;s,x,x,$//
+_ACEOF
+program_transform_name=`echo $program_transform_name | sed -f conftest.sed`
+rm conftest.sed
+
+
+# expand $ac_aux_dir to an absolute path
+am_aux_dir=`CDPATH=:; cd $ac_aux_dir &amp;&amp; pwd`
+
+test x&quot;${MISSING+set}&quot; = xset || MISSING=&quot;\${SHELL} $am_aux_dir/missing&quot;
+# Use eval to expand $SHELL
+if eval &quot;$MISSING --run true&quot;; then
+  am_missing_run=&quot;$MISSING --run &quot;
+else
+  am_missing_run=
+  am_backtick='`'
+  { echo &quot;$as_me:$LINENO: WARNING: ${am_backtick}missing' script is too old or missing&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: ${am_backtick}missing' script is too old or missing&quot; &gt;&amp;2;}
+fi
+
+for ac_prog in gawk mawk nawk awk
+do
+  # Extract the first word of &quot;$ac_prog&quot;, so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_AWK+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$AWK&quot;; then
+  ac_cv_prog_AWK=&quot;$AWK&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_AWK=&quot;$ac_prog&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+AWK=$ac_cv_prog_AWK
+if test -n &quot;$AWK&quot;; then
+  echo &quot;$as_me:$LINENO: result: $AWK&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$AWK&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+  test -n &quot;$AWK&quot; &amp;&amp; break
+done
+
+echo &quot;$as_me:$LINENO: checking whether ${MAKE-make} sets \$(MAKE)&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether ${MAKE-make} sets \$(MAKE)... $ECHO_C&quot; &gt;&amp;6
+set dummy ${MAKE-make}; ac_make=`echo &quot;$2&quot; | sed 'y,:./+-,___p_,'`
+if eval &quot;test \&quot;\${ac_cv_prog_make_${ac_make}_set+set}\&quot; = set&quot;; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.make &lt;&lt;\_ACEOF
+all:
+	@echo 'ac_maketemp=&quot;$(MAKE)&quot;'
+_ACEOF
+# GNU make sometimes prints &quot;make[1]: Entering...&quot;, which would confuse us.
+eval `${MAKE-make} -f conftest.make 2&gt;/dev/null | grep temp=`
+if test -n &quot;$ac_maketemp&quot;; then
+  eval ac_cv_prog_make_${ac_make}_set=yes
+else
+  eval ac_cv_prog_make_${ac_make}_set=no
+fi
+rm -f conftest.make
+fi
+if eval &quot;test \&quot;`echo '$ac_cv_prog_make_'${ac_make}_set`\&quot; = yes&quot;; then
+  echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
+echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
+  SET_MAKE=
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  SET_MAKE=&quot;MAKE=${MAKE-make}&quot;
+fi
+
+# Check whether --enable-dependency-tracking or --disable-dependency-tracking was given.
+if test &quot;${enable_dependency_tracking+set}&quot; = set; then
+  enableval=&quot;$enable_dependency_tracking&quot;
+
+fi;
+if test &quot;x$enable_dependency_tracking&quot; != xno; then
+  am_depcomp=&quot;$ac_aux_dir/depcomp&quot;
+  AMDEPBACKSLASH='\'
+fi
+
+
+if test &quot;x$enable_dependency_tracking&quot; != xno; then
+  AMDEP_TRUE=
+  AMDEP_FALSE='#'
+else
+  AMDEP_TRUE='#'
+  AMDEP_FALSE=
+fi
+
+
+
+
+rm -f .deps 2&gt;/dev/null
+mkdir .deps 2&gt;/dev/null
+if test -d .deps; then
+  DEPDIR=.deps
+else
+  # MS-DOS does not allow filenames that begin with a dot.
+  DEPDIR=_deps
+fi
+rmdir .deps 2&gt;/dev/null
+
+
+# test to see if srcdir already configured
+if test &quot;`CDPATH=:; cd $srcdir &amp;&amp; pwd`&quot; != &quot;`pwd`&quot; &amp;&amp;
+   test -f $srcdir/config.status; then
+  { { echo &quot;$as_me:$LINENO: error: source directory already configured; run \&quot;make distclean\&quot; there first&quot; &gt;&amp;5
+echo &quot;$as_me: error: source directory already configured; run \&quot;make distclean\&quot; there first&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+
+# Define the identity of the package.
+PACKAGE=picdb
+VERSION=0.0.1
+
+cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define PACKAGE &quot;$PACKAGE&quot;
+_ACEOF
+
+
+cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define VERSION &quot;$VERSION&quot;
+_ACEOF
+
+
+# Autoconf 2.50 wants to disallow AM_ names.  We explicitly allow
+# the ones we care about.
+
+# Autoconf 2.50 always computes EXEEXT.  However we need to be
+# compatible with 2.13, for now.  So we always define EXEEXT, but we
+# don't compute it.
+
+# Similar for OBJEXT -- only we only use OBJEXT if the user actually
+# requests that it be used.  This is a bit dumb.
+: ${OBJEXT=o}
+
+
+# Some tools Automake needs.
+
+ACLOCAL=${ACLOCAL-&quot;${am_missing_run}aclocal&quot;}
+
+
+AUTOCONF=${AUTOCONF-&quot;${am_missing_run}autoconf&quot;}
+
+
+AUTOMAKE=${AUTOMAKE-&quot;${am_missing_run}automake&quot;}
+
+
+AUTOHEADER=${AUTOHEADER-&quot;${am_missing_run}autoheader&quot;}
+
+
+MAKEINFO=${MAKEINFO-&quot;${am_missing_run}makeinfo&quot;}
+
+
+AMTAR=${AMTAR-&quot;${am_missing_run}tar&quot;}
+
+install_sh=${install_sh-&quot;$am_aux_dir/install-sh&quot;}
+
+INSTALL_STRIP_PROGRAM=&quot;\${SHELL} \$(install_sh) -c -s&quot;
+
+# We need awk for the &quot;check&quot; target.  The system &quot;awk&quot; is bad on
+# some platforms.
+
+
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+if test -n &quot;$ac_tool_prefix&quot;; then
+  # Extract the first word of &quot;${ac_tool_prefix}gcc&quot;, so it can be a program name with args.
+set dummy ${ac_tool_prefix}gcc; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_CC+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$CC&quot;; then
+  ac_cv_prog_CC=&quot;$CC&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_CC=&quot;${ac_tool_prefix}gcc&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n &quot;$CC&quot;; then
+  echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$CC&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+fi
+if test -z &quot;$ac_cv_prog_CC&quot;; then
+  ac_ct_CC=$CC
+  # Extract the first word of &quot;gcc&quot;, so it can be a program name with args.
+set dummy gcc; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_ac_ct_CC+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$ac_ct_CC&quot;; then
+  ac_cv_prog_ac_ct_CC=&quot;$ac_ct_CC&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_ac_ct_CC=&quot;gcc&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+ac_ct_CC=$ac_cv_prog_ac_ct_CC
+if test -n &quot;$ac_ct_CC&quot;; then
+  echo &quot;$as_me:$LINENO: result: $ac_ct_CC&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_ct_CC&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+  CC=$ac_ct_CC
+else
+  CC=&quot;$ac_cv_prog_CC&quot;
+fi
+
+if test -z &quot;$CC&quot;; then
+  if test -n &quot;$ac_tool_prefix&quot;; then
+  # Extract the first word of &quot;${ac_tool_prefix}cc&quot;, so it can be a program name with args.
+set dummy ${ac_tool_prefix}cc; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_CC+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$CC&quot;; then
+  ac_cv_prog_CC=&quot;$CC&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_CC=&quot;${ac_tool_prefix}cc&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n &quot;$CC&quot;; then
+  echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$CC&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+fi
+if test -z &quot;$ac_cv_prog_CC&quot;; then
+  ac_ct_CC=$CC
+  # Extract the first word of &quot;cc&quot;, so it can be a program name with args.
+set dummy cc; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_ac_ct_CC+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$ac_ct_CC&quot;; then
+  ac_cv_prog_ac_ct_CC=&quot;$ac_ct_CC&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_ac_ct_CC=&quot;cc&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+ac_ct_CC=$ac_cv_prog_ac_ct_CC
+if test -n &quot;$ac_ct_CC&quot;; then
+  echo &quot;$as_me:$LINENO: result: $ac_ct_CC&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_ct_CC&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+  CC=$ac_ct_CC
+else
+  CC=&quot;$ac_cv_prog_CC&quot;
+fi
+
+fi
+if test -z &quot;$CC&quot;; then
+  # Extract the first word of &quot;cc&quot;, so it can be a program name with args.
+set dummy cc; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_CC+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$CC&quot;; then
+  ac_cv_prog_CC=&quot;$CC&quot; # Let the user override the test.
+else
+  ac_prog_rejected=no
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    if test &quot;$as_dir/$ac_word$ac_exec_ext&quot; = &quot;/usr/ucb/cc&quot;; then
+       ac_prog_rejected=yes
+       continue
+     fi
+    ac_cv_prog_CC=&quot;cc&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+if test $ac_prog_rejected = yes; then
+  # We found a bogon in the path, so make sure we never use it.
+  set dummy $ac_cv_prog_CC
+  shift
+  if test $# != 0; then
+    # We chose a different compiler from the bogus one.
+    # However, it has the same basename, so the bogon will be chosen
+    # first if we set CC to just the basename; use the full file name.
+    shift
+    ac_cv_prog_CC=&quot;$as_dir/$ac_word${1+' '}$@&quot;
+  fi
+fi
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n &quot;$CC&quot;; then
+  echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$CC&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+fi
+if test -z &quot;$CC&quot;; then
+  if test -n &quot;$ac_tool_prefix&quot;; then
+  for ac_prog in cl
+  do
+    # Extract the first word of &quot;$ac_tool_prefix$ac_prog&quot;, so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_CC+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$CC&quot;; then
+  ac_cv_prog_CC=&quot;$CC&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_CC=&quot;$ac_tool_prefix$ac_prog&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n &quot;$CC&quot;; then
+  echo &quot;$as_me:$LINENO: result: $CC&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$CC&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+    test -n &quot;$CC&quot; &amp;&amp; break
+  done
+fi
+if test -z &quot;$CC&quot;; then
+  ac_ct_CC=$CC
+  for ac_prog in cl
+do
+  # Extract the first word of &quot;$ac_prog&quot;, so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_ac_ct_CC+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$ac_ct_CC&quot;; then
+  ac_cv_prog_ac_ct_CC=&quot;$ac_ct_CC&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_ac_ct_CC=&quot;$ac_prog&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+ac_ct_CC=$ac_cv_prog_ac_ct_CC
+if test -n &quot;$ac_ct_CC&quot;; then
+  echo &quot;$as_me:$LINENO: result: $ac_ct_CC&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_ct_CC&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+  test -n &quot;$ac_ct_CC&quot; &amp;&amp; break
+done
+
+  CC=$ac_ct_CC
+fi
+
+fi
+
+
+test -z &quot;$CC&quot; &amp;&amp; { { echo &quot;$as_me:$LINENO: error: no acceptable C compiler found in \$PATH
+See \`config.log' for more details.&quot; &gt;&amp;5
+echo &quot;$as_me: error: no acceptable C compiler found in \$PATH
+See \`config.log' for more details.&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+
+# Provide some information about the compiler.
+echo &quot;$as_me:$LINENO:&quot; \
+     &quot;checking for C compiler version&quot; &gt;&amp;5
+ac_compiler=`set X $ac_compile; echo $2`
+{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler --version &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compiler --version &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }
+{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler -v &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compiler -v &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }
+{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler -V &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compiler -V &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }
+
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+ac_clean_files_save=$ac_clean_files
+ac_clean_files=&quot;$ac_clean_files a.out a.exe b.out&quot;
+# Try to create an executable without -o first, disregard a.out.
+# It will help us diagnose broken compilers, and finding out an intuition
+# of exeext.
+echo &quot;$as_me:$LINENO: checking for C compiler default output file name&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for C compiler default output file name... $ECHO_C&quot; &gt;&amp;6
+ac_link_default=`echo &quot;$ac_link&quot; | sed 's/ -o *conftest[^ ]*//'`
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link_default\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link_default) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; then
+  # Find the output, starting from the most likely.  This scheme is
+# not robust to junk in `.', hence go to wildcards (a.*) only as a last
+# resort.
+
+# Be careful to initialize this variable, since it used to be cached.
+# Otherwise an old cache value of `no' led to `EXEEXT = no' in a Makefile.
+ac_cv_exeext=
+# b.out is created by i960 compilers.
+for ac_file in a_out.exe a.exe conftest.exe a.out conftest a.* conftest.* b.out
+do
+  test -f &quot;$ac_file&quot; || continue
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj )
+	;;
+    conftest.$ac_ext )
+	# This is the source file.
+	;;
+    [ab].out )
+	# We found the default executable, but exeext='' is most
+	# certainly right.
+	break;;
+    *.* )
+	ac_cv_exeext=`expr &quot;$ac_file&quot; : '[^.]*\(\..*\)'`
+	# FIXME: I believe we export ac_cv_exeext for Libtool,
+	# but it would be cool to find out if it's true.  Does anybody
+	# maintain Libtool? --akim.
+	export ac_cv_exeext
+	break;;
+    * )
+	break;;
+  esac
+done
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+{ { echo &quot;$as_me:$LINENO: error: C compiler cannot create executables
+See \`config.log' for more details.&quot; &gt;&amp;5
+echo &quot;$as_me: error: C compiler cannot create executables
+See \`config.log' for more details.&quot; &gt;&amp;2;}
+   { (exit 77); exit 77; }; }
+fi
+
+ac_exeext=$ac_cv_exeext
+echo &quot;$as_me:$LINENO: result: $ac_file&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_file&quot; &gt;&amp;6
+
+# Check the compiler produces executables we can run.  If not, either
+# the compiler is broken, or we cross compile.
+echo &quot;$as_me:$LINENO: checking whether the C compiler works&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether the C compiler works... $ECHO_C&quot; &gt;&amp;6
+# FIXME: These cross compiler hacks should be removed for Autoconf 3.0
+# If not cross compiling, check that we can run a simple program.
+if test &quot;$cross_compiling&quot; != yes; then
+  if { ac_try='./$ac_file'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+    cross_compiling=no
+  else
+    if test &quot;$cross_compiling&quot; = maybe; then
+	cross_compiling=yes
+    else
+	{ { echo &quot;$as_me:$LINENO: error: cannot run C compiled programs.
+If you meant to cross compile, use \`--host'.
+See \`config.log' for more details.&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot run C compiled programs.
+If you meant to cross compile, use \`--host'.
+See \`config.log' for more details.&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+    fi
+  fi
+fi
+echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
+echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
+
+rm -f a.out a.exe conftest$ac_cv_exeext b.out
+ac_clean_files=$ac_clean_files_save
+# Check the compiler produces executables we can run.  If not, either
+# the compiler is broken, or we cross compile.
+echo &quot;$as_me:$LINENO: checking whether we are cross compiling&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether we are cross compiling... $ECHO_C&quot; &gt;&amp;6
+echo &quot;$as_me:$LINENO: result: $cross_compiling&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$cross_compiling&quot; &gt;&amp;6
+
+echo &quot;$as_me:$LINENO: checking for suffix of executables&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for suffix of executables... $ECHO_C&quot; &gt;&amp;6
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; then
+  # If both `conftest.exe' and `conftest' are `present' (well, observable)
+# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
+# work properly (i.e., refer to `conftest.exe'), while it won't with
+# `rm'.
+for ac_file in conftest.exe conftest conftest.*; do
+  test -f &quot;$ac_file&quot; || continue
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj ) ;;
+    *.* ) ac_cv_exeext=`expr &quot;$ac_file&quot; : '[^.]*\(\..*\)'`
+	  export ac_cv_exeext
+	  break;;
+    * ) break;;
+  esac
+done
+else
+  { { echo &quot;$as_me:$LINENO: error: cannot compute suffix of executables: cannot compile and link
+See \`config.log' for more details.&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot compute suffix of executables: cannot compile and link
+See \`config.log' for more details.&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+
+rm -f conftest$ac_cv_exeext
+echo &quot;$as_me:$LINENO: result: $ac_cv_exeext&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_exeext&quot; &gt;&amp;6
+
+rm -f conftest.$ac_ext
+EXEEXT=$ac_cv_exeext
+ac_exeext=$EXEEXT
+echo &quot;$as_me:$LINENO: checking for suffix of object files&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for suffix of object files... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_objext+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.o conftest.obj
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; then
+  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2&gt;/dev/null`; do
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg ) ;;
+    *) ac_cv_objext=`expr &quot;$ac_file&quot; : '.*\.\(.*\)'`
+       break;;
+  esac
+done
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+{ { echo &quot;$as_me:$LINENO: error: cannot compute suffix of object files: cannot compile
+See \`config.log' for more details.&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot compute suffix of object files: cannot compile
+See \`config.log' for more details.&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+
+rm -f conftest.$ac_cv_objext conftest.$ac_ext
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_objext&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_objext&quot; &gt;&amp;6
+OBJEXT=$ac_cv_objext
+ac_objext=$OBJEXT
+echo &quot;$as_me:$LINENO: checking whether we are using the GNU C compiler&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether we are using the GNU C compiler... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_c_compiler_gnu+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+#ifndef __GNUC__
+       choke me
+#endif
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_compiler_gnu=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_compiler_gnu=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+ac_cv_c_compiler_gnu=$ac_compiler_gnu
+
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_c_compiler_gnu&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_c_compiler_gnu&quot; &gt;&amp;6
+GCC=`test $ac_compiler_gnu = yes &amp;&amp; echo yes`
+ac_test_CFLAGS=${CFLAGS+set}
+ac_save_CFLAGS=$CFLAGS
+CFLAGS=&quot;-g&quot;
+echo &quot;$as_me:$LINENO: checking whether $CC accepts -g&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether $CC accepts -g... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_cc_g+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_prog_cc_g=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_prog_cc_g=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_prog_cc_g&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_prog_cc_g&quot; &gt;&amp;6
+if test &quot;$ac_test_CFLAGS&quot; = set; then
+  CFLAGS=$ac_save_CFLAGS
+elif test $ac_cv_prog_cc_g = yes; then
+  if test &quot;$GCC&quot; = yes; then
+    CFLAGS=&quot;-g -O2&quot;
+  else
+    CFLAGS=&quot;-g&quot;
+  fi
+else
+  if test &quot;$GCC&quot; = yes; then
+    CFLAGS=&quot;-O2&quot;
+  else
+    CFLAGS=
+  fi
+fi
+echo &quot;$as_me:$LINENO: checking for $CC option to accept ANSI C&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $CC option to accept ANSI C... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_cc_stdc+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_cv_prog_cc_stdc=no
+ac_save_CC=$CC
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;stdarg.h&gt;
+#include &lt;stdio.h&gt;
+#include &lt;sys/types.h&gt;
+#include &lt;sys/stat.h&gt;
+/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */
+struct buf { int x; };
+FILE * (*rcsopen) (struct buf *, struct stat *, int);
+static char *e (p, i)
+     char **p;
+     int i;
+{
+  return p[i];
+}
+static char *f (char * (*g) (char **, int), char **p, ...)
+{
+  char *s;
+  va_list v;
+  va_start (v,p);
+  s = g (p, va_arg (v,int));
+  va_end (v);
+  return s;
+}
+
+/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
+   function prototypes and stuff, but not '\xHH' hex character constants.
+   These don't provoke an error unfortunately, instead are silently treated
+   as 'x'.  The following induces an error, until -std1 is added to get
+   proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
+   array size at least.  It's necessary to write '\x00'==0 to get something
+   that's true only with -std1.  */
+int osf4_cc_array ['\x00' == 0 ? 1 : -1];
+
+int test (int i, double x);
+struct s1 {int (*f) (int a);};
+struct s2 {int (*f) (double a);};
+int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);
+int argc;
+char **argv;
+int
+main ()
+{
+return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];
+  ;
+  return 0;
+}
+_ACEOF
+# Don't try gcc -ansi; that turns off useful extensions and
+# breaks some systems' header files.
+# AIX			-qlanglvl=ansi
+# Ultrix and OSF/1	-std1
+# HP-UX 10.20 and later	-Ae
+# HP-UX older versions	-Aa -D_HPUX_SOURCE
+# SVR4			-Xc -D__EXTENSIONS__
+for ac_arg in &quot;&quot; -qlanglvl=ansi -std1 -Ae &quot;-Aa -D_HPUX_SOURCE&quot; &quot;-Xc -D__EXTENSIONS__&quot;
+do
+  CC=&quot;$ac_save_CC $ac_arg&quot;
+  rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_prog_cc_stdc=$ac_arg
+break
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+fi
+rm -f conftest.err conftest.$ac_objext
+done
+rm -f conftest.$ac_ext conftest.$ac_objext
+CC=$ac_save_CC
+
+fi
+
+case &quot;x$ac_cv_prog_cc_stdc&quot; in
+  x|xno)
+    echo &quot;$as_me:$LINENO: result: none needed&quot; &gt;&amp;5
+echo &quot;${ECHO_T}none needed&quot; &gt;&amp;6 ;;
+  *)
+    echo &quot;$as_me:$LINENO: result: $ac_cv_prog_cc_stdc&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_prog_cc_stdc&quot; &gt;&amp;6
+    CC=&quot;$CC $ac_cv_prog_cc_stdc&quot; ;;
+esac
+
+# Some people use a C++ compiler to compile C.  Since we use `exit',
+# in C++ we need to declare it.  In case someone uses the same compiler
+# for both compiling C and C++ we need to have the C++ compiler decide
+# the declaration of exit, since it's the most demanding environment.
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+#ifndef __cplusplus
+  choke me
+#endif
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  for ac_declaration in \
+   '' \
+   'extern &quot;C&quot; void std::exit (int) throw (); using std::exit;' \
+   'extern &quot;C&quot; void std::exit (int); using std::exit;' \
+   'extern &quot;C&quot; void exit (int) throw ();' \
+   'extern &quot;C&quot; void exit (int);' \
+   'void exit (int);'
+do
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_declaration
+#include &lt;stdlib.h&gt;
+int
+main ()
+{
+exit (42);
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  :
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+continue
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_declaration
+int
+main ()
+{
+exit (42);
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  break
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+done
+rm -f conftest*
+if test -n &quot;$ac_declaration&quot;; then
+  echo '#ifdef __cplusplus' &gt;&gt;confdefs.h
+  echo $ac_declaration      &gt;&gt;confdefs.h
+  echo '#endif'             &gt;&gt;confdefs.h
+fi
+
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+          ac_config_commands=&quot;$ac_config_commands default-1&quot;
+
+am_make=${MAKE-make}
+cat &gt; confinc &lt;&lt; 'END'
+doit:
+	@echo done
+END
+# If we don't find an include directive, just comment out the code.
+echo &quot;$as_me:$LINENO: checking for style of include used by $am_make&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for style of include used by $am_make... $ECHO_C&quot; &gt;&amp;6
+am__include='#'
+am__quote=
+_am_result=none
+# First try GNU make style include.
+echo &quot;include confinc&quot; &gt; confmf
+# We grep out `Entering directory' and `Leaving directory'
+# messages which can occur if `w' ends up in MAKEFLAGS.
+# In particular we don't look at `^make:' because GNU make might
+# be invoked under some other name (usually &quot;gmake&quot;), in which
+# case it prints its new name instead of `make'.
+if test &quot;`$am_make -s -f confmf 2&gt; /dev/null | fgrep -v 'ing directory'`&quot; = &quot;done&quot;; then
+   am__include=include
+   am__quote=
+   _am_result=GNU
+fi
+# Now try BSD make style include.
+if test &quot;$am__include&quot; = &quot;#&quot;; then
+   echo '.include &quot;confinc&quot;' &gt; confmf
+   if test &quot;`$am_make -s -f confmf 2&gt; /dev/null`&quot; = &quot;done&quot;; then
+      am__include=.include
+      am__quote='&quot;'
+      _am_result=BSD
+   fi
+fi
+
+
+echo &quot;$as_me:$LINENO: result: $_am_result&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$_am_result&quot; &gt;&amp;6
+rm -f confinc confmf
+
+
+depcc=&quot;$CC&quot;   am_compiler_list=
+
+echo &quot;$as_me:$LINENO: checking dependency style of $depcc&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking dependency style of $depcc... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${am_cv_CC_dependencies_compiler_type+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -z &quot;$AMDEP_TRUE&quot; &amp;&amp; test -f &quot;$am_depcomp&quot;; then
+  # We make a subdir and do the tests there.  Otherwise we can end up
+  # making bogus files that we don't know about and never remove.  For
+  # instance it was reported that on HP-UX the gcc test will end up
+  # making a dummy file named `D' -- because `-MD' means `put the output
+  # in D'.
+  mkdir conftest.dir
+  # Copy depcomp to subdir because otherwise we won't find it if we're
+  # using a relative directory.
+  cp &quot;$am_depcomp&quot; conftest.dir
+  cd conftest.dir
+
+  am_cv_CC_dependencies_compiler_type=none
+  if test &quot;$am_compiler_list&quot; = &quot;&quot;; then
+     am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' &lt; ./depcomp`
+  fi
+  for depmode in $am_compiler_list; do
+    # We need to recreate these files for each test, as the compiler may
+    # overwrite some of them when testing with obscure command lines.
+    # This happens at least with the AIX C compiler.
+    echo '#include &quot;conftest.h&quot;' &gt; conftest.c
+    echo 'int i;' &gt; conftest.h
+    echo &quot;${am__include} ${am__quote}conftest.Po${am__quote}&quot; &gt; confmf
+
+    case $depmode in
+    nosideeffect)
+      # after this tag, mechanisms are not by side-effect, so they'll
+      # only be used when explicitly requested
+      if test &quot;x$enable_dependency_tracking&quot; = xyes; then
+	continue
+      else
+	break
+      fi
+      ;;
+    none) break ;;
+    esac
+    # We check with `-c' and `-o' for the sake of the &quot;dashmstdout&quot;
+    # mode.  It turns out that the SunPro C++ compiler does not properly
+    # handle `-M -o', and we need to detect this.
+    if depmode=$depmode \
+       source=conftest.c object=conftest.o \
+       depfile=conftest.Po tmpdepfile=conftest.TPo \
+       $SHELL ./depcomp $depcc -c conftest.c -o conftest.o &gt;/dev/null 2&gt;&amp;1 &amp;&amp;
+       grep conftest.h conftest.Po &gt; /dev/null 2&gt;&amp;1 &amp;&amp;
+       ${MAKE-make} -s -f confmf &gt; /dev/null 2&gt;&amp;1; then
+      am_cv_CC_dependencies_compiler_type=$depmode
+      break
+    fi
+  done
+
+  cd ..
+  rm -rf conftest.dir
+else
+  am_cv_CC_dependencies_compiler_type=none
+fi
+
+fi
+echo &quot;$as_me:$LINENO: result: $am_cv_CC_dependencies_compiler_type&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$am_cv_CC_dependencies_compiler_type&quot; &gt;&amp;6
+CCDEPMODE=&quot;depmode=$am_cv_CC_dependencies_compiler_type&quot;
+
+
+ac_ext=cc
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+if test -n &quot;$ac_tool_prefix&quot;; then
+  for ac_prog in $CCC g++ c++ gpp aCC CC cxx cc++ cl FCC KCC RCC xlC_r xlC
+  do
+    # Extract the first word of &quot;$ac_tool_prefix$ac_prog&quot;, so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_CXX+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$CXX&quot;; then
+  ac_cv_prog_CXX=&quot;$CXX&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_CXX=&quot;$ac_tool_prefix$ac_prog&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+CXX=$ac_cv_prog_CXX
+if test -n &quot;$CXX&quot;; then
+  echo &quot;$as_me:$LINENO: result: $CXX&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$CXX&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+    test -n &quot;$CXX&quot; &amp;&amp; break
+  done
+fi
+if test -z &quot;$CXX&quot;; then
+  ac_ct_CXX=$CXX
+  for ac_prog in $CCC g++ c++ gpp aCC CC cxx cc++ cl FCC KCC RCC xlC_r xlC
+do
+  # Extract the first word of &quot;$ac_prog&quot;, so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_ac_ct_CXX+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$ac_ct_CXX&quot;; then
+  ac_cv_prog_ac_ct_CXX=&quot;$ac_ct_CXX&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_ac_ct_CXX=&quot;$ac_prog&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+ac_ct_CXX=$ac_cv_prog_ac_ct_CXX
+if test -n &quot;$ac_ct_CXX&quot;; then
+  echo &quot;$as_me:$LINENO: result: $ac_ct_CXX&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_ct_CXX&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+  test -n &quot;$ac_ct_CXX&quot; &amp;&amp; break
+done
+test -n &quot;$ac_ct_CXX&quot; || ac_ct_CXX=&quot;g++&quot;
+
+  CXX=$ac_ct_CXX
+fi
+
+
+# Provide some information about the compiler.
+echo &quot;$as_me:$LINENO:&quot; \
+     &quot;checking for C++ compiler version&quot; &gt;&amp;5
+ac_compiler=`set X $ac_compile; echo $2`
+{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler --version &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compiler --version &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }
+{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler -v &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compiler -v &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }
+{ (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler -V &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compiler -V &lt;/dev/null &gt;&amp;5) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }
+
+echo &quot;$as_me:$LINENO: checking whether we are using the GNU C++ compiler&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether we are using the GNU C++ compiler... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_cxx_compiler_gnu+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+#ifndef __GNUC__
+       choke me
+#endif
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_cxx_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_compiler_gnu=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_compiler_gnu=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+ac_cv_cxx_compiler_gnu=$ac_compiler_gnu
+
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_cxx_compiler_gnu&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_cxx_compiler_gnu&quot; &gt;&amp;6
+GXX=`test $ac_compiler_gnu = yes &amp;&amp; echo yes`
+ac_test_CXXFLAGS=${CXXFLAGS+set}
+ac_save_CXXFLAGS=$CXXFLAGS
+CXXFLAGS=&quot;-g&quot;
+echo &quot;$as_me:$LINENO: checking whether $CXX accepts -g&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether $CXX accepts -g... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_cxx_g+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_cxx_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_prog_cxx_g=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_prog_cxx_g=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_prog_cxx_g&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_prog_cxx_g&quot; &gt;&amp;6
+if test &quot;$ac_test_CXXFLAGS&quot; = set; then
+  CXXFLAGS=$ac_save_CXXFLAGS
+elif test $ac_cv_prog_cxx_g = yes; then
+  if test &quot;$GXX&quot; = yes; then
+    CXXFLAGS=&quot;-g -O2&quot;
+  else
+    CXXFLAGS=&quot;-g&quot;
+  fi
+else
+  if test &quot;$GXX&quot; = yes; then
+    CXXFLAGS=&quot;-O2&quot;
+  else
+    CXXFLAGS=
+  fi
+fi
+for ac_declaration in \
+   '' \
+   'extern &quot;C&quot; void std::exit (int) throw (); using std::exit;' \
+   'extern &quot;C&quot; void std::exit (int); using std::exit;' \
+   'extern &quot;C&quot; void exit (int) throw ();' \
+   'extern &quot;C&quot; void exit (int);' \
+   'void exit (int);'
+do
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_declaration
+#include &lt;stdlib.h&gt;
+int
+main ()
+{
+exit (42);
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_cxx_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  :
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+continue
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_declaration
+int
+main ()
+{
+exit (42);
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_cxx_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  break
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+done
+rm -f conftest*
+if test -n &quot;$ac_declaration&quot;; then
+  echo '#ifdef __cplusplus' &gt;&gt;confdefs.h
+  echo $ac_declaration      &gt;&gt;confdefs.h
+  echo '#endif'             &gt;&gt;confdefs.h
+fi
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+depcc=&quot;$CXX&quot;  am_compiler_list=
+
+echo &quot;$as_me:$LINENO: checking dependency style of $depcc&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking dependency style of $depcc... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${am_cv_CXX_dependencies_compiler_type+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -z &quot;$AMDEP_TRUE&quot; &amp;&amp; test -f &quot;$am_depcomp&quot;; then
+  # We make a subdir and do the tests there.  Otherwise we can end up
+  # making bogus files that we don't know about and never remove.  For
+  # instance it was reported that on HP-UX the gcc test will end up
+  # making a dummy file named `D' -- because `-MD' means `put the output
+  # in D'.
+  mkdir conftest.dir
+  # Copy depcomp to subdir because otherwise we won't find it if we're
+  # using a relative directory.
+  cp &quot;$am_depcomp&quot; conftest.dir
+  cd conftest.dir
+
+  am_cv_CXX_dependencies_compiler_type=none
+  if test &quot;$am_compiler_list&quot; = &quot;&quot;; then
+     am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' &lt; ./depcomp`
+  fi
+  for depmode in $am_compiler_list; do
+    # We need to recreate these files for each test, as the compiler may
+    # overwrite some of them when testing with obscure command lines.
+    # This happens at least with the AIX C compiler.
+    echo '#include &quot;conftest.h&quot;' &gt; conftest.c
+    echo 'int i;' &gt; conftest.h
+    echo &quot;${am__include} ${am__quote}conftest.Po${am__quote}&quot; &gt; confmf
+
+    case $depmode in
+    nosideeffect)
+      # after this tag, mechanisms are not by side-effect, so they'll
+      # only be used when explicitly requested
+      if test &quot;x$enable_dependency_tracking&quot; = xyes; then
+	continue
+      else
+	break
+      fi
+      ;;
+    none) break ;;
+    esac
+    # We check with `-c' and `-o' for the sake of the &quot;dashmstdout&quot;
+    # mode.  It turns out that the SunPro C++ compiler does not properly
+    # handle `-M -o', and we need to detect this.
+    if depmode=$depmode \
+       source=conftest.c object=conftest.o \
+       depfile=conftest.Po tmpdepfile=conftest.TPo \
+       $SHELL ./depcomp $depcc -c conftest.c -o conftest.o &gt;/dev/null 2&gt;&amp;1 &amp;&amp;
+       grep conftest.h conftest.Po &gt; /dev/null 2&gt;&amp;1 &amp;&amp;
+       ${MAKE-make} -s -f confmf &gt; /dev/null 2&gt;&amp;1; then
+      am_cv_CXX_dependencies_compiler_type=$depmode
+      break
+    fi
+  done
+
+  cd ..
+  rm -rf conftest.dir
+else
+  am_cv_CXX_dependencies_compiler_type=none
+fi
+
+fi
+echo &quot;$as_me:$LINENO: result: $am_cv_CXX_dependencies_compiler_type&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$am_cv_CXX_dependencies_compiler_type&quot; &gt;&amp;6
+CXXDEPMODE=&quot;depmode=$am_cv_CXX_dependencies_compiler_type&quot;
+
+
+# Find a good install program.  We prefer a C program (faster),
+# so one script is as good as another.  But avoid the broken or
+# incompatible versions:
+# SysV /etc/install, /usr/sbin/install
+# SunOS /usr/etc/install
+# IRIX /sbin/install
+# AIX /bin/install
+# AmigaOS /C/install, which installs bootblocks on floppy discs
+# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+# AFS /usr/afsws/bin/install, which mishandles nonexistent args
+# SVR4 /usr/ucb/install, which tries to use the nonexistent group &quot;staff&quot;
+# OS/2's system install, which has a completely different semantic
+# ./install, which can be erroneously created by make from ./install.sh.
+echo &quot;$as_me:$LINENO: checking for a BSD-compatible install&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for a BSD-compatible install... $ECHO_C&quot; &gt;&amp;6
+if test -z &quot;$INSTALL&quot;; then
+if test &quot;${ac_cv_path_install+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  # Account for people who put trailing slashes in PATH elements.
+case $as_dir/ in
+  ./ | .// | /cC/* | \
+  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
+  ?:\\/os2\\/install\\/* | ?:\\/OS2\\/INSTALL\\/* | \
+  /usr/ucb/* ) ;;
+  *)
+    # OSF1 and SCO ODT 3.0 have their own names for install.
+    # Don't use installbsd from OSF since it installs stuff as root
+    # by default.
+    for ac_prog in ginstall scoinst install; do
+      for ac_exec_ext in '' $ac_executable_extensions; do
+	if $as_executable_p &quot;$as_dir/$ac_prog$ac_exec_ext&quot;; then
+	  if test $ac_prog = install &amp;&amp;
+	    grep dspmsg &quot;$as_dir/$ac_prog$ac_exec_ext&quot; &gt;/dev/null 2&gt;&amp;1; then
+	    # AIX install.  It has an incompatible calling convention.
+	    :
+	  elif test $ac_prog = install &amp;&amp;
+	    grep pwplus &quot;$as_dir/$ac_prog$ac_exec_ext&quot; &gt;/dev/null 2&gt;&amp;1; then
+	    # program-specific install script used by HP pwplus--don't use.
+	    :
+	  else
+	    ac_cv_path_install=&quot;$as_dir/$ac_prog$ac_exec_ext -c&quot;
+	    break 3
+	  fi
+	fi
+      done
+    done
+    ;;
+esac
+done
+
+
+fi
+  if test &quot;${ac_cv_path_install+set}&quot; = set; then
+    INSTALL=$ac_cv_path_install
+  else
+    # As a last resort, use the slow shell script.  We don't cache a
+    # path for INSTALL within a source directory, because that will
+    # break other packages using the cache if that directory is
+    # removed, or if the path is relative.
+    INSTALL=$ac_install_sh
+  fi
+fi
+echo &quot;$as_me:$LINENO: result: $INSTALL&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$INSTALL&quot; &gt;&amp;6
+
+# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
+# It thinks the first close brace ends the variable substitution.
+test -z &quot;$INSTALL_PROGRAM&quot; &amp;&amp; INSTALL_PROGRAM='${INSTALL}'
+
+test -z &quot;$INSTALL_SCRIPT&quot; &amp;&amp; INSTALL_SCRIPT='${INSTALL}'
+
+test -z &quot;$INSTALL_DATA&quot; &amp;&amp; INSTALL_DATA='${INSTALL} -m 644'
+
+
+# Check whether --enable-shared or --disable-shared was given.
+if test &quot;${enable_shared+set}&quot; = set; then
+  enableval=&quot;$enable_shared&quot;
+  p=${PACKAGE-default}
+case $enableval in
+yes) enable_shared=yes ;;
+no) enable_shared=no ;;
+*)
+  enable_shared=no
+  # Look at the argument we got.  We use all the common list separators.
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;${IFS}:,&quot;
+  for pkg in $enableval; do
+    if test &quot;X$pkg&quot; = &quot;X$p&quot;; then
+      enable_shared=yes
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+  ;;
+esac
+else
+  enable_shared=yes
+fi;
+# Check whether --enable-static or --disable-static was given.
+if test &quot;${enable_static+set}&quot; = set; then
+  enableval=&quot;$enable_static&quot;
+  p=${PACKAGE-default}
+case $enableval in
+yes) enable_static=yes ;;
+no) enable_static=no ;;
+*)
+  enable_static=no
+  # Look at the argument we got.  We use all the common list separators.
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;${IFS}:,&quot;
+  for pkg in $enableval; do
+    if test &quot;X$pkg&quot; = &quot;X$p&quot;; then
+      enable_static=yes
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+  ;;
+esac
+else
+  enable_static=yes
+fi;
+# Check whether --enable-fast-install or --disable-fast-install was given.
+if test &quot;${enable_fast_install+set}&quot; = set; then
+  enableval=&quot;$enable_fast_install&quot;
+  p=${PACKAGE-default}
+case $enableval in
+yes) enable_fast_install=yes ;;
+no) enable_fast_install=no ;;
+*)
+  enable_fast_install=no
+  # Look at the argument we got.  We use all the common list separators.
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;${IFS}:,&quot;
+  for pkg in $enableval; do
+    if test &quot;X$pkg&quot; = &quot;X$p&quot;; then
+      enable_fast_install=yes
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+  ;;
+esac
+else
+  enable_fast_install=yes
+fi;
+# Make sure we can run config.sub.
+$ac_config_sub sun4 &gt;/dev/null 2&gt;&amp;1 ||
+  { { echo &quot;$as_me:$LINENO: error: cannot run $ac_config_sub&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot run $ac_config_sub&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+
+echo &quot;$as_me:$LINENO: checking build system type&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking build system type... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_build+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_cv_build_alias=$build_alias
+test -z &quot;$ac_cv_build_alias&quot; &amp;&amp;
+  ac_cv_build_alias=`$ac_config_guess`
+test -z &quot;$ac_cv_build_alias&quot; &amp;&amp;
+  { { echo &quot;$as_me:$LINENO: error: cannot guess build type; you must specify one&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot guess build type; you must specify one&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+ac_cv_build=`$ac_config_sub $ac_cv_build_alias` ||
+  { { echo &quot;$as_me:$LINENO: error: $ac_config_sub $ac_cv_build_alias failed&quot; &gt;&amp;5
+echo &quot;$as_me: error: $ac_config_sub $ac_cv_build_alias failed&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_build&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_build&quot; &gt;&amp;6
+build=$ac_cv_build
+build_cpu=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
+build_vendor=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
+build_os=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
+
+
+echo &quot;$as_me:$LINENO: checking host system type&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking host system type... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_host+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_cv_host_alias=$host_alias
+test -z &quot;$ac_cv_host_alias&quot; &amp;&amp;
+  ac_cv_host_alias=$ac_cv_build_alias
+ac_cv_host=`$ac_config_sub $ac_cv_host_alias` ||
+  { { echo &quot;$as_me:$LINENO: error: $ac_config_sub $ac_cv_host_alias failed&quot; &gt;&amp;5
+echo &quot;$as_me: error: $ac_config_sub $ac_cv_host_alias failed&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_host&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_host&quot; &gt;&amp;6
+host=$ac_cv_host
+host_cpu=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
+host_vendor=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
+host_os=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
+
+
+# Find the correct PATH separator.  Usually this is `:', but
+# DJGPP uses `;' like DOS.
+if test &quot;X${PATH_SEPARATOR+set}&quot; != Xset; then
+  UNAME=${UNAME-`uname 2&gt;/dev/null`}
+  case X$UNAME in
+    *-DOS) lt_cv_sys_path_separator=';' ;;
+    *)     lt_cv_sys_path_separator=':' ;;
+  esac
+  PATH_SEPARATOR=$lt_cv_sys_path_separator
+fi
+
+
+# Check whether --with-gnu-ld or --without-gnu-ld was given.
+if test &quot;${with_gnu_ld+set}&quot; = set; then
+  withval=&quot;$with_gnu_ld&quot;
+  test &quot;$withval&quot; = no || with_gnu_ld=yes
+else
+  with_gnu_ld=no
+fi;
+ac_prog=ld
+if test &quot;$GCC&quot; = yes; then
+  # Check if gcc -print-prog-name=ld gives a path.
+  echo &quot;$as_me:$LINENO: checking for ld used by GCC&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for ld used by GCC... $ECHO_C&quot; &gt;&amp;6
+  case $host in
+  *-*-mingw*)
+    # gcc leaves a trailing carriage return which upsets mingw
+    ac_prog=`($CC -print-prog-name=ld) 2&gt;&amp;5 | tr -d '\015'` ;;
+  *)
+    ac_prog=`($CC -print-prog-name=ld) 2&gt;&amp;5` ;;
+  esac
+  case $ac_prog in
+    # Accept absolute paths.
+    [\\/]* | [A-Za-z]:[\\/]*)
+      re_direlt='/[^/][^/]*/\.\./'
+      # Canonicalize the path of ld
+      ac_prog=`echo $ac_prog| sed 's%\\\\%/%g'`
+      while echo $ac_prog | grep &quot;$re_direlt&quot; &gt; /dev/null 2&gt;&amp;1; do
+	ac_prog=`echo $ac_prog| sed &quot;s%$re_direlt%/%&quot;`
+      done
+      test -z &quot;$LD&quot; &amp;&amp; LD=&quot;$ac_prog&quot;
+      ;;
+  &quot;&quot;)
+    # If it fails, then pretend we aren't using GCC.
+    ac_prog=ld
+    ;;
+  *)
+    # If it is relative, then search for the first ld in PATH.
+    with_gnu_ld=unknown
+    ;;
+  esac
+elif test &quot;$with_gnu_ld&quot; = yes; then
+  echo &quot;$as_me:$LINENO: checking for GNU ld&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for GNU ld... $ECHO_C&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: checking for non-GNU ld&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for non-GNU ld... $ECHO_C&quot; &gt;&amp;6
+fi
+if test &quot;${lt_cv_path_LD+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -z &quot;$LD&quot;; then
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=$PATH_SEPARATOR
+  for ac_dir in $PATH; do
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f &quot;$ac_dir/$ac_prog&quot; || test -f &quot;$ac_dir/$ac_prog$ac_exeext&quot;; then
+      lt_cv_path_LD=&quot;$ac_dir/$ac_prog&quot;
+      # Check to see if the program is GNU ld.  I'd rather use --version,
+      # but apparently some GNU ld's only accept -v.
+      # Break only if it was the GNU/non-GNU ld that we prefer.
+      if &quot;$lt_cv_path_LD&quot; -v 2&gt;&amp;1 &lt; /dev/null | egrep '(GNU|with BFD)' &gt; /dev/null; then
+	test &quot;$with_gnu_ld&quot; != no &amp;&amp; break
+      else
+	test &quot;$with_gnu_ld&quot; != yes &amp;&amp; break
+      fi
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+else
+  lt_cv_path_LD=&quot;$LD&quot; # Let the user override the test with a path.
+fi
+fi
+
+LD=&quot;$lt_cv_path_LD&quot;
+if test -n &quot;$LD&quot;; then
+  echo &quot;$as_me:$LINENO: result: $LD&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$LD&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+test -z &quot;$LD&quot; &amp;&amp; { { echo &quot;$as_me:$LINENO: error: no acceptable ld found in \$PATH&quot; &gt;&amp;5
+echo &quot;$as_me: error: no acceptable ld found in \$PATH&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+echo &quot;$as_me:$LINENO: checking if the linker ($LD) is GNU ld&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking if the linker ($LD) is GNU ld... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_prog_gnu_ld+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  # I'd rather use --version here, but apparently some GNU ld's only accept -v.
+if $LD -v 2&gt;&amp;1 &lt;/dev/null | egrep '(GNU|with BFD)' 1&gt;&amp;5; then
+  lt_cv_prog_gnu_ld=yes
+else
+  lt_cv_prog_gnu_ld=no
+fi
+fi
+echo &quot;$as_me:$LINENO: result: $lt_cv_prog_gnu_ld&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$lt_cv_prog_gnu_ld&quot; &gt;&amp;6
+with_gnu_ld=$lt_cv_prog_gnu_ld
+
+
+echo &quot;$as_me:$LINENO: checking for $LD option to reload object files&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $LD option to reload object files... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_ld_reload_flag+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  lt_cv_ld_reload_flag='-r'
+fi
+echo &quot;$as_me:$LINENO: result: $lt_cv_ld_reload_flag&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$lt_cv_ld_reload_flag&quot; &gt;&amp;6
+reload_flag=$lt_cv_ld_reload_flag
+test -n &quot;$reload_flag&quot; &amp;&amp; reload_flag=&quot; $reload_flag&quot;
+
+echo &quot;$as_me:$LINENO: checking for BSD-compatible nm&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for BSD-compatible nm... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_path_NM+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$NM&quot;; then
+  # Let the user override the test.
+  lt_cv_path_NM=&quot;$NM&quot;
+else
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=$PATH_SEPARATOR
+  for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    tmp_nm=$ac_dir/${ac_tool_prefix}nm
+    if test -f $tmp_nm || test -f $tmp_nm$ac_exeext ; then
+      # Check to see if the nm accepts a BSD-compat flag.
+      # Adding the `sed 1q' prevents false positives on HP-UX, which says:
+      #   nm: unknown option &quot;B&quot; ignored
+      # Tru64's nm complains that /dev/null is an invalid object file
+      if ($tmp_nm -B /dev/null 2&gt;&amp;1 | sed '1q'; exit 0) | egrep '(/dev/null|Invalid file or object type)' &gt;/dev/null; then
+	lt_cv_path_NM=&quot;$tmp_nm -B&quot;
+	break
+      elif ($tmp_nm -p /dev/null 2&gt;&amp;1 | sed '1q'; exit 0) | egrep /dev/null &gt;/dev/null; then
+	lt_cv_path_NM=&quot;$tmp_nm -p&quot;
+	break
+      else
+	lt_cv_path_NM=${lt_cv_path_NM=&quot;$tmp_nm&quot;} # keep the first match, but
+	continue # so that we can try to find one that supports BSD flags
+      fi
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+  test -z &quot;$lt_cv_path_NM&quot; &amp;&amp; lt_cv_path_NM=nm
+fi
+fi
+
+NM=&quot;$lt_cv_path_NM&quot;
+echo &quot;$as_me:$LINENO: result: $NM&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$NM&quot; &gt;&amp;6
+
+echo &quot;$as_me:$LINENO: checking for a sed that does not truncate output&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for a sed that does not truncate output... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_path_SED+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  # Loop through the user's path and test for sed and gsed.
+# Then use that list of sed's as ones to test for truncation.
+as_executable_p=&quot;test -f&quot;
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_prog in sed gsed; do
+    for ac_exec_ext in '' $ac_executable_extensions; do
+      if $as_executable_p &quot;$as_dir/$ac_prog$ac_exec_ext&quot;; then
+        _sed_list=&quot;$_sed_list $as_dir/$ac_prog$ac_exec_ext&quot;
+      fi
+    done
+  done
+done
+
+  # Create a temporary directory, and hook for its removal unless debugging.
+$debug ||
+{
+  trap 'exit_status=$?; rm -rf $tmp &amp;&amp; exit $exit_status' 0
+  trap '{ (exit 1); exit 1; }' 1 2 13 15
+}
+
+# Create a (secure) tmp directory for tmp files.
+: ${TMPDIR=/tmp}
+{
+  tmp=`(umask 077 &amp;&amp; mktemp -d -q &quot;$TMPDIR/sedXXXXXX&quot;) 2&gt;/dev/null` &amp;&amp;
+  test -n &quot;$tmp&quot; &amp;&amp; test -d &quot;$tmp&quot;
+}  ||
+{
+  tmp=$TMPDIR/sed$$-$RANDOM
+  (umask 077 &amp;&amp; mkdir $tmp)
+} ||
+{
+   echo &quot;$me: cannot create a temporary directory in $TMPDIR&quot; &gt;&amp;2
+   { (exit 1); exit 1; }
+}
+  _max=0
+  _count=0
+  # Add /usr/xpg4/bin/sed as it is typically found on Solaris
+  # along with /bin/sed that truncates output.
+  for _sed in $_sed_list /usr/xpg4/bin/sed; do
+    test ! -f ${_sed} &amp;&amp; break
+    cat /dev/null &gt; &quot;$tmp/sed.in&quot;
+    _count=0
+    echo ${ECHO_N-$ac_n} &quot;0123456789${ECHO_C-$ac_c}&quot; &gt;&quot;$tmp/sed.in&quot;
+    # Check for GNU sed and select it if it is found.
+    if &quot;${_sed}&quot; --version 2&gt;&amp;1 &lt; /dev/null | egrep '(GNU)' &gt; /dev/null; then
+      lt_cv_path_SED=${_sed}
+      break
+    fi
+    while true; do
+      cat &quot;$tmp/sed.in&quot; &quot;$tmp/sed.in&quot; &gt;&quot;$tmp/sed.tmp&quot;
+      mv &quot;$tmp/sed.tmp&quot; &quot;$tmp/sed.in&quot;
+      cp &quot;$tmp/sed.in&quot; &quot;$tmp/sed.nl&quot;
+      echo &gt;&gt;&quot;$tmp/sed.nl&quot;
+      ${_sed} -e 's/a$//' &lt; &quot;$tmp/sed.nl&quot; &gt;&quot;$tmp/sed.out&quot; || break
+      cmp -s &quot;$tmp/sed.out&quot; &quot;$tmp/sed.nl&quot; || break
+      # 40000 chars as input seems more than enough
+      test $_count -gt 10 &amp;&amp; break
+      _count=`expr $_count + 1`
+      if test $_count -gt $_max; then
+        _max=$_count
+        lt_cv_path_SED=$_sed
+      fi
+    done
+  done
+  rm -rf &quot;$tmp&quot;
+
+fi
+
+if test &quot;X$SED&quot; != &quot;X&quot;; then
+  lt_cv_path_SED=$SED
+else
+  SED=$lt_cv_path_SED
+fi
+echo &quot;$as_me:$LINENO: result: $SED&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$SED&quot; &gt;&amp;6
+
+echo &quot;$as_me:$LINENO: checking whether ln -s works&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether ln -s works... $ECHO_C&quot; &gt;&amp;6
+LN_S=$as_ln_s
+if test &quot;$LN_S&quot; = &quot;ln -s&quot;; then
+  echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
+echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no, using $LN_S&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no, using $LN_S&quot; &gt;&amp;6
+fi
+
+echo &quot;$as_me:$LINENO: checking how to recognise dependent libraries&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking how to recognise dependent libraries... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_deplibs_check_method+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  lt_cv_file_magic_cmd='$MAGIC_CMD'
+lt_cv_file_magic_test_file=
+lt_cv_deplibs_check_method='unknown'
+# Need to set the preceding variable on all platforms that support
+# interlibrary dependencies.
+# 'none' -- dependencies not supported.
+# `unknown' -- same as none, but documents that we really don't know.
+# 'pass_all' -- all dependencies passed with no checks.
+# 'test_compile' -- check by making test program.
+# 'file_magic [[regex]]' -- check by looking for files in library path
+# which responds to the $file_magic_cmd with a given egrep regex.
+# If you have `file' or equivalent on your system and you're not sure
+# whether `pass_all' will *always* work, you probably want this one.
+
+case $host_os in
+aix4* | aix5*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+beos*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+bsdi4*)
+  lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'
+  lt_cv_file_magic_cmd='/usr/bin/file -L'
+  lt_cv_file_magic_test_file=/shlib/libc.so
+  ;;
+
+cygwin* | mingw* | pw32*)
+  lt_cv_deplibs_check_method='file_magic file format pei*-i386(.*architecture: i386)?'
+  lt_cv_file_magic_cmd='$OBJDUMP -f'
+  ;;
+
+darwin* | rhapsody*)
+  lt_cv_deplibs_check_method='file_magic Mach-O dynamically linked shared library'
+  lt_cv_file_magic_cmd='/usr/bin/file -L'
+  case &quot;$host_os&quot; in
+  rhapsody* | darwin1.[012])
+    lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -1`
+    ;;
+  *) # Darwin 1.3 on
+    lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'
+    ;;
+  esac
+  ;;
+
+freebsd*)
+  if echo __ELF__ | $CC -E - | grep __ELF__ &gt; /dev/null; then
+    case $host_cpu in
+    i*86 )
+      # Not sure whether the presence of OpenBSD here was a mistake.
+      # Let's accept both of them until this is cleared up.
+      lt_cv_deplibs_check_method='file_magic (FreeBSD|OpenBSD)/i[3-9]86 (compact )?demand paged shared library'
+      lt_cv_file_magic_cmd=/usr/bin/file
+      lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
+      ;;
+    esac
+  else
+    lt_cv_deplibs_check_method=pass_all
+  fi
+  ;;
+
+gnu*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+hpux10.20*|hpux11*)
+  lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|PA-RISC[0-9].[0-9]) shared library'
+  lt_cv_file_magic_cmd=/usr/bin/file
+  lt_cv_file_magic_test_file=/usr/lib/libc.sl
+  ;;
+
+irix5* | irix6* | nonstopux*)
+  case $host_os in
+  irix5* | nonstopux*)
+    # this will be overridden with pass_all, but let us keep it just in case
+    lt_cv_deplibs_check_method=&quot;file_magic ELF 32-bit MSB dynamic lib MIPS - version 1&quot;
+    ;;
+  *)
+    case $LD in
+    *-32|*&quot;-32 &quot;) libmagic=32-bit;;
+    *-n32|*&quot;-n32 &quot;) libmagic=N32;;
+    *-64|*&quot;-64 &quot;) libmagic=64-bit;;
+    *) libmagic=never-match;;
+    esac
+    # this will be overridden with pass_all, but let us keep it just in case
+    lt_cv_deplibs_check_method=&quot;file_magic ELF ${libmagic} MSB mips-[1234] dynamic lib MIPS - version 1&quot;
+    ;;
+  esac
+  lt_cv_file_magic_test_file=`echo /lib${libsuff}/libc.so*`
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+# This must be Linux ELF.
+linux-gnu*)
+  case $host_cpu in
+  alpha* | hppa* | i*86 | mips | mipsel | powerpc* | sparc* | ia64* | s390* | x86_64*)
+    lt_cv_deplibs_check_method=pass_all ;;
+  *)
+    # glibc up to 2.1.1 does not perform some relocations on ARM
+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB (shared object|dynamic lib )' ;;
+  esac
+  lt_cv_file_magic_test_file=`echo /lib/libc.so* /lib/libc-*.so`
+  ;;
+
+linux-uclibc*)
+  lt_cv_deplibs_check_method=pass_all
+  lt_cv_file_magic_test_file=`echo /lib/libuClibc*.so`
+  ;;
+
+netbsd*)
+  if echo __ELF__ | $CC -E - | grep __ELF__ &gt; /dev/null; then
+    lt_cv_deplibs_check_method='match_pattern /lib[^/\.]+\.so\.[0-9]+\.[0-9]+$'
+  else
+    lt_cv_deplibs_check_method='match_pattern /lib[^/\.]+\.so$'
+  fi
+  ;;
+
+newos6*)
+  lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (executable|dynamic lib)'
+  lt_cv_file_magic_cmd=/usr/bin/file
+  lt_cv_file_magic_test_file=/usr/lib/libnls.so
+  ;;
+
+openbsd*)
+  lt_cv_file_magic_cmd=/usr/bin/file
+  lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
+  if test -z &quot;`echo __ELF__ | $CC -E - | grep __ELF__`&quot; || test &quot;$host_os-$host_cpu&quot; = &quot;openbsd2.8-powerpc&quot;; then
+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB shared object'
+  else
+    lt_cv_deplibs_check_method='file_magic OpenBSD.* shared library'
+  fi
+  ;;
+
+osf3* | osf4* | osf5*)
+  # this will be overridden with pass_all, but let us keep it just in case
+  lt_cv_deplibs_check_method='file_magic COFF format alpha shared library'
+  lt_cv_file_magic_test_file=/shlib/libc.so
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+sco3.2v5*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+solaris*)
+  lt_cv_deplibs_check_method=pass_all
+  lt_cv_file_magic_test_file=/lib/libc.so
+  ;;
+
+sysv5uw[78]* | sysv4*uw2*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
+sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+  case $host_vendor in
+  motorola)
+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib) M[0-9][0-9]* Version [0-9]'
+    lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`
+    ;;
+  ncr)
+    lt_cv_deplibs_check_method=pass_all
+    ;;
+  sequent)
+    lt_cv_file_magic_cmd='/bin/file'
+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB (shared object|dynamic lib )'
+    ;;
+  sni)
+    lt_cv_file_magic_cmd='/bin/file'
+    lt_cv_deplibs_check_method=&quot;file_magic ELF [0-9][0-9]*-bit [LM]SB dynamic lib&quot;
+    lt_cv_file_magic_test_file=/lib/libc.so
+    ;;
+  siemens)
+    lt_cv_deplibs_check_method=pass_all
+    ;;
+  esac
+  ;;
+esac
+
+fi
+echo &quot;$as_me:$LINENO: result: $lt_cv_deplibs_check_method&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$lt_cv_deplibs_check_method&quot; &gt;&amp;6
+file_magic_cmd=$lt_cv_file_magic_cmd
+deplibs_check_method=$lt_cv_deplibs_check_method
+
+
+
+
+
+
+
+
+# Check for command to grab the raw symbol name followed by C symbol from nm.
+echo &quot;$as_me:$LINENO: checking command to parse $NM output&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking command to parse $NM output... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_sys_global_symbol_pipe+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+
+# These are sane defaults that work on at least a few old systems.
+# [They come from Ultrix.  What could be older than Ultrix?!! ;)]
+
+# Character class describing NM global symbol codes.
+symcode='[BCDEGRST]'
+
+# Regexp to match symbols that can be accessed directly from C.
+sympat='\([_A-Za-z][_A-Za-z0-9]*\)'
+
+# Transform the above into a raw symbol and a C symbol.
+symxfrm='\1 \2\3 \3'
+
+# Transform an extracted symbol line into a proper C declaration
+lt_cv_global_symbol_to_cdecl=&quot;sed -n -e 's/^. .* \(.*\)$/extern char \1;/p'&quot;
+
+# Transform an extracted symbol line into symbol name and symbol address
+lt_cv_global_symbol_to_c_name_address=&quot;sed -n -e 's/^: \([^ ]*\) $/  {\\\&quot;\1\\\&quot;, (lt_ptr) 0},/p' -e 's/^$symcode \([^ ]*\) \([^ ]*\)$/  {\&quot;\2\&quot;, (lt_ptr) \&amp;\2},/p'&quot;
+
+# Define system-specific variables.
+case $host_os in
+aix*)
+  symcode='[BCDT]'
+  ;;
+cygwin* | mingw* | pw32*)
+  symcode='[ABCDGISTW]'
+  ;;
+hpux*) # Its linker distinguishes data from code symbols
+  lt_cv_global_symbol_to_cdecl=&quot;sed -n -e 's/^T .* \(.*\)$/extern char \1();/p' -e 's/^$symcode* .* \(.*\)$/extern char \1;/p'&quot;
+  lt_cv_global_symbol_to_c_name_address=&quot;sed -n -e 's/^: \([^ ]*\) $/  {\\\&quot;\1\\\&quot;, (lt_ptr) 0},/p' -e 's/^$symcode* \([^ ]*\) \([^ ]*\)$/  {\&quot;\2\&quot;, (lt_ptr) \&amp;\2},/p'&quot;
+  ;;
+irix* | nonstopux*)
+  symcode='[BCDEGRST]'
+  ;;
+osf*)
+  symcode='[BCDEGQRST]'
+  ;;
+solaris* | sysv5*)
+  symcode='[BDT]'
+  ;;
+sysv4)
+  symcode='[DFNSTU]'
+  ;;
+esac
+
+# Handle CRLF in mingw tool chain
+opt_cr=
+case $host_os in
+mingw*)
+  opt_cr=`echo 'x\{0,1\}' | tr x '\015'` # option cr in regexp
+  ;;
+esac
+
+# If we're using GNU nm, then use its standard symbol codes.
+if $NM -V 2&gt;&amp;1 | egrep '(GNU|with BFD)' &gt; /dev/null; then
+  symcode='[ABCDGISTW]'
+fi
+
+# Try without a prefix undercore, then with it.
+for ac_symprfx in &quot;&quot; &quot;_&quot;; do
+
+  # Write the raw and C identifiers.
+lt_cv_sys_global_symbol_pipe=&quot;sed -n -e 's/^.*[ 	]\($symcode$symcode*\)[ 	][ 	]*\($ac_symprfx\)$sympat$opt_cr$/$symxfrm/p'&quot;
+
+  # Check to see that the pipe works correctly.
+  pipe_works=no
+  rm -f conftest*
+  cat &gt; conftest.$ac_ext &lt;&lt;EOF
+#ifdef __cplusplus
+extern &quot;C&quot; {
+#endif
+char nm_test_var;
+void nm_test_func(){}
+#ifdef __cplusplus
+}
+#endif
+int main(){nm_test_var='a';nm_test_func();return(0);}
+EOF
+
+  if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; then
+    # Now try to grab the symbols.
+    nlist=conftest.nm
+    if { (eval echo &quot;$as_me:$LINENO: \&quot;$NM conftest.$ac_objext \| $lt_cv_sys_global_symbol_pipe \&gt; $nlist\&quot;&quot;) &gt;&amp;5
+  (eval $NM conftest.$ac_objext \| $lt_cv_sys_global_symbol_pipe \&gt; $nlist) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; test -s &quot;$nlist&quot;; then
+      # Try sorting and uniquifying the output.
+      if sort &quot;$nlist&quot; | uniq &gt; &quot;$nlist&quot;T; then
+	mv -f &quot;$nlist&quot;T &quot;$nlist&quot;
+      else
+	rm -f &quot;$nlist&quot;T
+      fi
+
+      # Make sure that we snagged all the symbols we need.
+      if egrep ' nm_test_var$' &quot;$nlist&quot; &gt;/dev/null; then
+	if egrep ' nm_test_func$' &quot;$nlist&quot; &gt;/dev/null; then
+	  cat &lt;&lt;EOF &gt; conftest.$ac_ext
+#ifdef __cplusplus
+extern &quot;C&quot; {
+#endif
+
+EOF
+	  # Now generate the symbol file.
+	  eval &quot;$lt_cv_global_symbol_to_cdecl&quot;' &lt; &quot;$nlist&quot; &gt;&gt; conftest.$ac_ext'
+
+	  cat &lt;&lt;EOF &gt;&gt; conftest.$ac_ext
+#if defined (__STDC__) &amp;&amp; __STDC__
+# define lt_ptr void *
+#else
+# define lt_ptr char *
+# define const
+#endif
+
+/* The mapping between symbol names and symbols. */
+const struct {
+  const char *name;
+  lt_ptr address;
+}
+lt_preloaded_symbols[] =
+{
+EOF
+	  sed &quot;s/^$symcode$symcode* \(.*\) \(.*\)$/  {\&quot;\2\&quot;, (lt_ptr) \&amp;\2},/&quot; &lt; &quot;$nlist&quot; &gt;&gt; conftest.$ac_ext
+	  cat &lt;&lt;\EOF &gt;&gt; conftest.$ac_ext
+  {0, (lt_ptr) 0}
+};
+
+#ifdef __cplusplus
+}
+#endif
+EOF
+	  # Now try linking the two files.
+	  mv conftest.$ac_objext conftstm.$ac_objext
+	  save_LIBS=&quot;$LIBS&quot;
+	  save_CFLAGS=&quot;$CFLAGS&quot;
+	  LIBS=&quot;conftstm.$ac_objext&quot;
+	  CFLAGS=&quot;$CFLAGS$no_builtin_flag&quot;
+	  if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; test -s conftest$ac_exeext; then
+	    pipe_works=yes
+	  fi
+	  LIBS=&quot;$save_LIBS&quot;
+	  CFLAGS=&quot;$save_CFLAGS&quot;
+	else
+	  echo &quot;cannot find nm_test_func in $nlist&quot; &gt;&amp;5
+	fi
+      else
+	echo &quot;cannot find nm_test_var in $nlist&quot; &gt;&amp;5
+      fi
+    else
+      echo &quot;cannot run $lt_cv_sys_global_symbol_pipe&quot; &gt;&amp;5
+    fi
+  else
+    echo &quot;$progname: failed program was:&quot; &gt;&amp;5
+    cat conftest.$ac_ext &gt;&amp;5
+  fi
+  rm -f conftest* conftst*
+
+  # Do not use the global_symbol_pipe unless it works.
+  if test &quot;$pipe_works&quot; = yes; then
+    break
+  else
+    lt_cv_sys_global_symbol_pipe=
+  fi
+done
+
+fi
+
+global_symbol_pipe=&quot;$lt_cv_sys_global_symbol_pipe&quot;
+if test -z &quot;$lt_cv_sys_global_symbol_pipe&quot;; then
+  global_symbol_to_cdecl=
+  global_symbol_to_c_name_address=
+else
+  global_symbol_to_cdecl=&quot;$lt_cv_global_symbol_to_cdecl&quot;
+  global_symbol_to_c_name_address=&quot;$lt_cv_global_symbol_to_c_name_address&quot;
+fi
+if test -z &quot;$global_symbol_pipe$global_symbol_to_cdec$global_symbol_to_c_name_address&quot;;
+then
+  echo &quot;$as_me:$LINENO: result: failed&quot; &gt;&amp;5
+echo &quot;${ECHO_T}failed&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: ok&quot; &gt;&amp;5
+echo &quot;${ECHO_T}ok&quot; &gt;&amp;6
+fi
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+echo &quot;$as_me:$LINENO: checking how to run the C preprocessor&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking how to run the C preprocessor... $ECHO_C&quot; &gt;&amp;6
+# On Suns, sometimes $CPP names a directory.
+if test -n &quot;$CPP&quot; &amp;&amp; test -d &quot;$CPP&quot;; then
+  CPP=
+fi
+if test -z &quot;$CPP&quot;; then
+  if test &quot;${ac_cv_prog_CPP+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+      # Double quotes because CPP needs to be expanded
+    for CPP in &quot;$CC -E&quot; &quot;$CC -E -traditional-cpp&quot; &quot;/lib/cpp&quot;
+    do
+      ac_preproc_ok=false
+for ac_c_preproc_warn_flag in '' yes
+do
+  # Use a header file that comes with gcc, so configuring glibc
+  # with a fresh cross-compiler works.
+  # Prefer &lt;limits.h&gt; to &lt;assert.h&gt; if __STDC__ is defined, since
+  # &lt;limits.h&gt; exists even on freestanding compilers.
+  # On the NeXT, cc -E runs the code through the compiler's parser,
+  # not just through cpp. &quot;Syntax error&quot; is here to catch this case.
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#ifdef __STDC__
+# include &lt;limits.h&gt;
+#else
+# include &lt;assert.h&gt;
+#endif
+		     Syntax error
+_ACEOF
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
+  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z &quot;$ac_cpp_err&quot;; then
+  :
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+  # Broken: fails on valid input.
+continue
+fi
+rm -f conftest.err conftest.$ac_ext
+
+  # OK, works on sane cases.  Now check whether non-existent headers
+  # can be detected and how.
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;ac_nonexistent.h&gt;
+_ACEOF
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
+  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z &quot;$ac_cpp_err&quot;; then
+  # Broken: success on invalid input.
+continue
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+  # Passes both tests.
+ac_preproc_ok=:
+break
+fi
+rm -f conftest.err conftest.$ac_ext
+
+done
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+rm -f conftest.err conftest.$ac_ext
+if $ac_preproc_ok; then
+  break
+fi
+
+    done
+    ac_cv_prog_CPP=$CPP
+
+fi
+  CPP=$ac_cv_prog_CPP
+else
+  ac_cv_prog_CPP=$CPP
+fi
+echo &quot;$as_me:$LINENO: result: $CPP&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$CPP&quot; &gt;&amp;6
+ac_preproc_ok=false
+for ac_c_preproc_warn_flag in '' yes
+do
+  # Use a header file that comes with gcc, so configuring glibc
+  # with a fresh cross-compiler works.
+  # Prefer &lt;limits.h&gt; to &lt;assert.h&gt; if __STDC__ is defined, since
+  # &lt;limits.h&gt; exists even on freestanding compilers.
+  # On the NeXT, cc -E runs the code through the compiler's parser,
+  # not just through cpp. &quot;Syntax error&quot; is here to catch this case.
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#ifdef __STDC__
+# include &lt;limits.h&gt;
+#else
+# include &lt;assert.h&gt;
+#endif
+		     Syntax error
+_ACEOF
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
+  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z &quot;$ac_cpp_err&quot;; then
+  :
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+  # Broken: fails on valid input.
+continue
+fi
+rm -f conftest.err conftest.$ac_ext
+
+  # OK, works on sane cases.  Now check whether non-existent headers
+  # can be detected and how.
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;ac_nonexistent.h&gt;
+_ACEOF
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
+  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z &quot;$ac_cpp_err&quot;; then
+  # Broken: success on invalid input.
+continue
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+  # Passes both tests.
+ac_preproc_ok=:
+break
+fi
+rm -f conftest.err conftest.$ac_ext
+
+done
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+rm -f conftest.err conftest.$ac_ext
+if $ac_preproc_ok; then
+  :
+else
+  { { echo &quot;$as_me:$LINENO: error: C preprocessor \&quot;$CPP\&quot; fails sanity check
+See \`config.log' for more details.&quot; &gt;&amp;5
+echo &quot;$as_me: error: C preprocessor \&quot;$CPP\&quot; fails sanity check
+See \`config.log' for more details.&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+echo &quot;$as_me:$LINENO: checking for egrep&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for egrep... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_egrep+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if echo a | (grep -E '(a|b)') &gt;/dev/null 2&gt;&amp;1
+    then ac_cv_prog_egrep='grep -E'
+    else ac_cv_prog_egrep='egrep'
+    fi
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_prog_egrep&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_prog_egrep&quot; &gt;&amp;6
+ EGREP=$ac_cv_prog_egrep
+
+
+echo &quot;$as_me:$LINENO: checking for ANSI C header files&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for ANSI C header files... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_header_stdc+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;stdlib.h&gt;
+#include &lt;stdarg.h&gt;
+#include &lt;string.h&gt;
+#include &lt;float.h&gt;
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_header_stdc=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_header_stdc=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+if test $ac_cv_header_stdc = yes; then
+  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;string.h&gt;
+
+_ACEOF
+if (eval &quot;$ac_cpp conftest.$ac_ext&quot;) 2&gt;&amp;5 |
+  $EGREP &quot;memchr&quot; &gt;/dev/null 2&gt;&amp;1; then
+  :
+else
+  ac_cv_header_stdc=no
+fi
+rm -f conftest*
+
+fi
+
+if test $ac_cv_header_stdc = yes; then
+  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;stdlib.h&gt;
+
+_ACEOF
+if (eval &quot;$ac_cpp conftest.$ac_ext&quot;) 2&gt;&amp;5 |
+  $EGREP &quot;free&quot; &gt;/dev/null 2&gt;&amp;1; then
+  :
+else
+  ac_cv_header_stdc=no
+fi
+rm -f conftest*
+
+fi
+
+if test $ac_cv_header_stdc = yes; then
+  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
+  if test &quot;$cross_compiling&quot; = yes; then
+  :
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;ctype.h&gt;
+#if ((' ' &amp; 0x0FF) == 0x020)
+# define ISLOWER(c) ('a' &lt;= (c) &amp;&amp; (c) &lt;= 'z')
+# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
+#else
+# define ISLOWER(c) \
+		   (('a' &lt;= (c) &amp;&amp; (c) &lt;= 'i') \
+		     || ('j' &lt;= (c) &amp;&amp; (c) &lt;= 'r') \
+		     || ('s' &lt;= (c) &amp;&amp; (c) &lt;= 'z'))
+# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
+#endif
+
+#define XOR(e, f) (((e) &amp;&amp; !(f)) || (!(e) &amp;&amp; (f)))
+int
+main ()
+{
+  int i;
+  for (i = 0; i &lt; 256; i++)
+    if (XOR (islower (i), ISLOWER (i))
+	|| toupper (i) != TOUPPER (i))
+      exit(2);
+  exit (0);
+}
+_ACEOF
+rm -f conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; { ac_try='./conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  :
+else
+  echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
+echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+( exit $ac_status )
+ac_cv_header_stdc=no
+fi
+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+fi
+fi
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_header_stdc&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_header_stdc&quot; &gt;&amp;6
+if test $ac_cv_header_stdc = yes; then
+
+cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
+#define STDC_HEADERS 1
+_ACEOF
+
+fi
+
+# On IRIX 5.3, sys/types and inttypes.h are conflicting.
+
+
+
+
+
+
+
+
+
+for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
+		  inttypes.h stdint.h unistd.h
+do
+as_ac_Header=`echo &quot;ac_cv_header_$ac_header&quot; | $as_tr_sh`
+echo &quot;$as_me:$LINENO: checking for $ac_header&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_header... $ECHO_C&quot; &gt;&amp;6
+if eval &quot;test \&quot;\${$as_ac_Header+set}\&quot; = set&quot;; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+
+#include &lt;$ac_header&gt;
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  eval &quot;$as_ac_Header=yes&quot;
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+eval &quot;$as_ac_Header=no&quot;
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+echo &quot;$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;5
+echo &quot;${ECHO_T}`eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;6
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define `echo &quot;HAVE_$ac_header&quot; | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+
+for ac_header in dlfcn.h
+do
+as_ac_Header=`echo &quot;ac_cv_header_$ac_header&quot; | $as_tr_sh`
+if eval &quot;test \&quot;\${$as_ac_Header+set}\&quot; = set&quot;; then
+  echo &quot;$as_me:$LINENO: checking for $ac_header&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_header... $ECHO_C&quot; &gt;&amp;6
+if eval &quot;test \&quot;\${$as_ac_Header+set}\&quot; = set&quot;; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+fi
+echo &quot;$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;5
+echo &quot;${ECHO_T}`eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;6
+else
+  # Is the header compilable?
+echo &quot;$as_me:$LINENO: checking $ac_header usability&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking $ac_header usability... $ECHO_C&quot; &gt;&amp;6
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include &lt;$ac_header&gt;
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_header_compiler=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+echo &quot;$as_me:$LINENO: result: $ac_header_compiler&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_header_compiler&quot; &gt;&amp;6
+
+# Is the header present?
+echo &quot;$as_me:$LINENO: checking $ac_header presence&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking $ac_header presence... $ECHO_C&quot; &gt;&amp;6
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;$ac_header&gt;
+_ACEOF
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
+  (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &gt;/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_c_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
+  else
+    ac_cpp_err=
+  fi
+else
+  ac_cpp_err=yes
+fi
+if test -z &quot;$ac_cpp_err&quot;; then
+  ac_header_preproc=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+  ac_header_preproc=no
+fi
+rm -f conftest.err conftest.$ac_ext
+echo &quot;$as_me:$LINENO: result: $ac_header_preproc&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_header_preproc&quot; &gt;&amp;6
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
+  yes:no: )
+    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!&quot; &gt;&amp;2;}
+    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: $ac_header: proceeding with the compiler's result&quot; &gt;&amp;2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: $ac_header: present but cannot be compiled&quot; &gt;&amp;2;}
+    { echo &quot;$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: $ac_header:     check for missing prerequisite headers?&quot; &gt;&amp;2;}
+    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: $ac_header: see the Autoconf documentation&quot; &gt;&amp;2;}
+    { echo &quot;$as_me:$LINENO: WARNING: $ac_header:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: $ac_header:     section \&quot;Present But Cannot Be Compiled\&quot;&quot; &gt;&amp;2;}
+    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: $ac_header: proceeding with the preprocessor's result&quot; &gt;&amp;2;}
+    { echo &quot;$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: $ac_header: in the future, the compiler will take precedence&quot; &gt;&amp;2;}
+    (
+      cat &lt;&lt;\_ASBOX
+## ------------------------------------------- ##
+## Report this to <A HREF="http://l33th4x0r.dyndns.org/">http://l33th4x0r.dyndns.org/</A> ##
+## ------------------------------------------- ##
+_ASBOX
+    ) |
+      sed &quot;s/^/$as_me: WARNING:     /&quot; &gt;&amp;2
+    ;;
+esac
+echo &quot;$as_me:$LINENO: checking for $ac_header&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_header... $ECHO_C&quot; &gt;&amp;6
+if eval &quot;test \&quot;\${$as_ac_Header+set}\&quot; = set&quot;; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  eval &quot;$as_ac_Header=\$ac_header_preproc&quot;
+fi
+echo &quot;$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;5
+echo &quot;${ECHO_T}`eval echo '${'$as_ac_Header'}'`&quot; &gt;&amp;6
+
+fi
+if test `eval echo '${'$as_ac_Header'}'` = yes; then
+  cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define `echo &quot;HAVE_$ac_header&quot; | $as_tr_cpp` 1
+_ACEOF
+
+fi
+
+done
+
+
+
+
+
+
+# Only perform the check for file, if the check method requires it
+case $deplibs_check_method in
+file_magic*)
+  if test &quot;$file_magic_cmd&quot; = '$MAGIC_CMD'; then
+    echo &quot;$as_me:$LINENO: checking for ${ac_tool_prefix}file&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for ${ac_tool_prefix}file... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_path_MAGIC_CMD+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  case $MAGIC_CMD in
+  /*)
+  lt_cv_path_MAGIC_CMD=&quot;$MAGIC_CMD&quot; # Let the user override the test with a path.
+  ;;
+  ?:/*)
+  lt_cv_path_MAGIC_CMD=&quot;$MAGIC_CMD&quot; # Let the user override the test with a dos path.
+  ;;
+  *)
+  ac_save_MAGIC_CMD=&quot;$MAGIC_CMD&quot;
+  IFS=&quot;${IFS=   }&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;:&quot;
+  ac_dummy=&quot;/usr/bin:$PATH&quot;
+  for ac_dir in $ac_dummy; do
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f $ac_dir/${ac_tool_prefix}file; then
+      lt_cv_path_MAGIC_CMD=&quot;$ac_dir/${ac_tool_prefix}file&quot;
+      if test -n &quot;$file_magic_test_file&quot;; then
+	case $deplibs_check_method in
+	&quot;file_magic &quot;*)
+	  file_magic_regex=&quot;`expr \&quot;$deplibs_check_method\&quot; : \&quot;file_magic \(.*\)\&quot;`&quot;
+	  MAGIC_CMD=&quot;$lt_cv_path_MAGIC_CMD&quot;
+	  if eval $file_magic_cmd \$file_magic_test_file 2&gt; /dev/null |
+	    egrep &quot;$file_magic_regex&quot; &gt; /dev/null; then
+	    :
+	  else
+	    cat &lt;&lt;EOF 1&gt;&amp;2
+
+*** Warning: the command libtool uses to detect shared libraries,
+*** $file_magic_cmd, produces output that libtool cannot recognize.
+*** The result is that libtool may fail to recognize shared libraries
+*** as such.  This will affect the creation of libtool libraries that
+*** depend on shared libraries, but programs linked with such libtool
+*** libraries will work regardless of this problem.  Nevertheless, you
+*** may want to report the problem to your system manager and/or to
+*** <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">bug-libtool at gnu.org</A>
+
+EOF
+	  fi ;;
+	esac
+      fi
+      break
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+  MAGIC_CMD=&quot;$ac_save_MAGIC_CMD&quot;
+  ;;
+esac
+fi
+
+MAGIC_CMD=&quot;$lt_cv_path_MAGIC_CMD&quot;
+if test -n &quot;$MAGIC_CMD&quot;; then
+  echo &quot;$as_me:$LINENO: result: $MAGIC_CMD&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$MAGIC_CMD&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+if test -z &quot;$lt_cv_path_MAGIC_CMD&quot;; then
+  if test -n &quot;$ac_tool_prefix&quot;; then
+    echo &quot;$as_me:$LINENO: checking for file&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for file... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_path_MAGIC_CMD+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  case $MAGIC_CMD in
+  /*)
+  lt_cv_path_MAGIC_CMD=&quot;$MAGIC_CMD&quot; # Let the user override the test with a path.
+  ;;
+  ?:/*)
+  lt_cv_path_MAGIC_CMD=&quot;$MAGIC_CMD&quot; # Let the user override the test with a dos path.
+  ;;
+  *)
+  ac_save_MAGIC_CMD=&quot;$MAGIC_CMD&quot;
+  IFS=&quot;${IFS=   }&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;:&quot;
+  ac_dummy=&quot;/usr/bin:$PATH&quot;
+  for ac_dir in $ac_dummy; do
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f $ac_dir/file; then
+      lt_cv_path_MAGIC_CMD=&quot;$ac_dir/file&quot;
+      if test -n &quot;$file_magic_test_file&quot;; then
+	case $deplibs_check_method in
+	&quot;file_magic &quot;*)
+	  file_magic_regex=&quot;`expr \&quot;$deplibs_check_method\&quot; : \&quot;file_magic \(.*\)\&quot;`&quot;
+	  MAGIC_CMD=&quot;$lt_cv_path_MAGIC_CMD&quot;
+	  if eval $file_magic_cmd \$file_magic_test_file 2&gt; /dev/null |
+	    egrep &quot;$file_magic_regex&quot; &gt; /dev/null; then
+	    :
+	  else
+	    cat &lt;&lt;EOF 1&gt;&amp;2
+
+*** Warning: the command libtool uses to detect shared libraries,
+*** $file_magic_cmd, produces output that libtool cannot recognize.
+*** The result is that libtool may fail to recognize shared libraries
+*** as such.  This will affect the creation of libtool libraries that
+*** depend on shared libraries, but programs linked with such libtool
+*** libraries will work regardless of this problem.  Nevertheless, you
+*** may want to report the problem to your system manager and/or to
+*** <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">bug-libtool at gnu.org</A>
+
+EOF
+	  fi ;;
+	esac
+      fi
+      break
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+  MAGIC_CMD=&quot;$ac_save_MAGIC_CMD&quot;
+  ;;
+esac
+fi
+
+MAGIC_CMD=&quot;$lt_cv_path_MAGIC_CMD&quot;
+if test -n &quot;$MAGIC_CMD&quot;; then
+  echo &quot;$as_me:$LINENO: result: $MAGIC_CMD&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$MAGIC_CMD&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+  else
+    MAGIC_CMD=:
+  fi
+fi
+
+  fi
+  ;;
+esac
+
+if test -n &quot;$ac_tool_prefix&quot;; then
+  # Extract the first word of &quot;${ac_tool_prefix}ranlib&quot;, so it can be a program name with args.
+set dummy ${ac_tool_prefix}ranlib; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_RANLIB+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$RANLIB&quot;; then
+  ac_cv_prog_RANLIB=&quot;$RANLIB&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_RANLIB=&quot;${ac_tool_prefix}ranlib&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+RANLIB=$ac_cv_prog_RANLIB
+if test -n &quot;$RANLIB&quot;; then
+  echo &quot;$as_me:$LINENO: result: $RANLIB&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$RANLIB&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+fi
+if test -z &quot;$ac_cv_prog_RANLIB&quot;; then
+  ac_ct_RANLIB=$RANLIB
+  # Extract the first word of &quot;ranlib&quot;, so it can be a program name with args.
+set dummy ranlib; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_ac_ct_RANLIB+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$ac_ct_RANLIB&quot;; then
+  ac_cv_prog_ac_ct_RANLIB=&quot;$ac_ct_RANLIB&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_ac_ct_RANLIB=&quot;ranlib&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+  test -z &quot;$ac_cv_prog_ac_ct_RANLIB&quot; &amp;&amp; ac_cv_prog_ac_ct_RANLIB=&quot;:&quot;
+fi
+fi
+ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
+if test -n &quot;$ac_ct_RANLIB&quot;; then
+  echo &quot;$as_me:$LINENO: result: $ac_ct_RANLIB&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_ct_RANLIB&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+  RANLIB=$ac_ct_RANLIB
+else
+  RANLIB=&quot;$ac_cv_prog_RANLIB&quot;
+fi
+
+if test -n &quot;$ac_tool_prefix&quot;; then
+  # Extract the first word of &quot;${ac_tool_prefix}strip&quot;, so it can be a program name with args.
+set dummy ${ac_tool_prefix}strip; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_STRIP+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$STRIP&quot;; then
+  ac_cv_prog_STRIP=&quot;$STRIP&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_STRIP=&quot;${ac_tool_prefix}strip&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+fi
+fi
+STRIP=$ac_cv_prog_STRIP
+if test -n &quot;$STRIP&quot;; then
+  echo &quot;$as_me:$LINENO: result: $STRIP&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$STRIP&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+fi
+if test -z &quot;$ac_cv_prog_STRIP&quot;; then
+  ac_ct_STRIP=$STRIP
+  # Extract the first word of &quot;strip&quot;, so it can be a program name with args.
+set dummy strip; ac_word=$2
+echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_prog_ac_ct_STRIP+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  if test -n &quot;$ac_ct_STRIP&quot;; then
+  ac_cv_prog_ac_ct_STRIP=&quot;$ac_ct_STRIP&quot; # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
+    ac_cv_prog_ac_ct_STRIP=&quot;strip&quot;
+    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
+    break 2
+  fi
+done
+done
+
+  test -z &quot;$ac_cv_prog_ac_ct_STRIP&quot; &amp;&amp; ac_cv_prog_ac_ct_STRIP=&quot;:&quot;
+fi
+fi
+ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP
+if test -n &quot;$ac_ct_STRIP&quot;; then
+  echo &quot;$as_me:$LINENO: result: $ac_ct_STRIP&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_ct_STRIP&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+  STRIP=$ac_ct_STRIP
+else
+  STRIP=&quot;$ac_cv_prog_STRIP&quot;
+fi
+
+
+enable_dlopen=no
+enable_win32_dll=no
+
+# Check whether --enable-libtool-lock or --disable-libtool-lock was given.
+if test &quot;${enable_libtool_lock+set}&quot; = set; then
+  enableval=&quot;$enable_libtool_lock&quot;
+
+fi;
+test &quot;x$enable_libtool_lock&quot; != xno &amp;&amp; enable_libtool_lock=yes
+
+# Some flags need to be propagated to the compiler or linker for good
+# libtool support.
+case $host in
+*-*-irix6*)
+  # Find out which ABI we are using.
+  echo '#line 5116 &quot;configure&quot;' &gt; conftest.$ac_ext
+  if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; then
+    case `/usr/bin/file conftest.$ac_objext` in
+    *32-bit*)
+      LD=&quot;${LD-ld} -32&quot;
+      ;;
+    *N32*)
+      LD=&quot;${LD-ld} -n32&quot;
+      ;;
+    *64-bit*)
+      LD=&quot;${LD-ld} -64&quot;
+      ;;
+    esac
+  fi
+  rm -rf conftest*
+  ;;
+
+*-*-linux*)
+  # Test if the compiler is 64bit
+  echo 'int i;' &gt; conftest.$ac_ext
+  lt_cv_cc_64bit_output=no
+  if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; then
+    case `/usr/bin/file conftest.$ac_objext` in
+    *&quot;ELF 64&quot;*)
+      lt_cv_cc_64bit_output=yes
+      ;;
+    esac
+  fi
+  rm -rf conftest*
+  ;;
+
+*-*-sco3.2v5*)
+  # On SCO OpenServer 5, we need -belf to get full-featured binaries.
+  SAVE_CFLAGS=&quot;$CFLAGS&quot;
+  CFLAGS=&quot;$CFLAGS -belf&quot;
+  echo &quot;$as_me:$LINENO: checking whether the C compiler needs -belf&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether the C compiler needs -belf... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_cc_needs_belf+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+
+
+     ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+     cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  lt_cv_cc_needs_belf=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+lt_cv_cc_needs_belf=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+     ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+fi
+echo &quot;$as_me:$LINENO: result: $lt_cv_cc_needs_belf&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$lt_cv_cc_needs_belf&quot; &gt;&amp;6
+  if test x&quot;$lt_cv_cc_needs_belf&quot; != x&quot;yes&quot;; then
+    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf
+    CFLAGS=&quot;$SAVE_CFLAGS&quot;
+  fi
+  ;;
+
+
+esac
+
+# Sed substitution that helps us do robust quoting.  It backslashifies
+# metacharacters that are still active within double-quoted strings.
+Xsed='sed -e s/^X//'
+sed_quote_subst='s/\([\\&quot;\\`$\\\\]\)/\\\1/g'
+
+# Same as above, but do not quote variable references.
+double_quote_subst='s/\([\\&quot;\\`\\\\]\)/\\\1/g'
+
+# Sed substitution to delay expansion of an escaped shell variable in a
+# double_quote_subst'ed string.
+delay_variable_subst='s/\\\\\\\\\\\$/\\\\\\$/g'
+
+# Constants:
+rm=&quot;rm -f&quot;
+
+# Global variables:
+default_ofile=libtool
+can_build_shared=yes
+
+# All known linkers require a `.a' archive for static linking (except M$VC,
+# which needs '.lib').
+libext=a
+ltmain=&quot;$ac_aux_dir/ltmain.sh&quot;
+ofile=&quot;$default_ofile&quot;
+with_gnu_ld=&quot;$lt_cv_prog_gnu_ld&quot;
+need_locks=&quot;$enable_libtool_lock&quot;
+
+old_CC=&quot;$CC&quot;
+old_CFLAGS=&quot;$CFLAGS&quot;
+
+# Set sane defaults for various variables
+test -z &quot;$AR&quot; &amp;&amp; AR=ar
+test -z &quot;$AR_FLAGS&quot; &amp;&amp; AR_FLAGS=cru
+test -z &quot;$AS&quot; &amp;&amp; AS=as
+test -z &quot;$CC&quot; &amp;&amp; CC=cc
+test -z &quot;$DLLTOOL&quot; &amp;&amp; DLLTOOL=dlltool
+test -z &quot;$LD&quot; &amp;&amp; LD=ld
+test -z &quot;$LN_S&quot; &amp;&amp; LN_S=&quot;ln -s&quot;
+test -z &quot;$MAGIC_CMD&quot; &amp;&amp; MAGIC_CMD=file
+test -z &quot;$NM&quot; &amp;&amp; NM=nm
+test -z &quot;$OBJDUMP&quot; &amp;&amp; OBJDUMP=objdump
+test -z &quot;$RANLIB&quot; &amp;&amp; RANLIB=:
+test -z &quot;$STRIP&quot; &amp;&amp; STRIP=:
+test -z &quot;$ac_objext&quot; &amp;&amp; ac_objext=o
+
+if test x&quot;$host&quot; != x&quot;$build&quot;; then
+  ac_tool_prefix=${host_alias}-
+else
+  ac_tool_prefix=
+fi
+
+# Transform linux* to *-*-linux-gnu*, to support old configure scripts.
+case $host_os in
+linux-gnu*|linux-uclibc*) ;;
+linux*) host=`echo $host | sed 's/^\(.*-.*-linux\)\(.*\)$/\1-gnu\2/'`
+esac
+
+case $host_os in
+aix3*)
+  # AIX sometimes has problems with the GCC collect2 program.  For some
+  # reason, if we set the COLLECT_NAMES environment variable, the problems
+  # vanish in a puff of smoke.
+  if test &quot;X${COLLECT_NAMES+set}&quot; != Xset; then
+    COLLECT_NAMES=
+    export COLLECT_NAMES
+  fi
+  ;;
+esac
+
+# Determine commands to create old-style static archives.
+old_archive_cmds='$AR $AR_FLAGS $oldlib$oldobjs$old_deplibs'
+old_postinstall_cmds='chmod 644 $oldlib'
+old_postuninstall_cmds=
+
+if test -n &quot;$RANLIB&quot;; then
+  case $host_os in
+  openbsd*)
+    old_postinstall_cmds=&quot;\$RANLIB -t \$oldlib~$old_postinstall_cmds&quot;
+    ;;
+  *)
+    old_postinstall_cmds=&quot;\$RANLIB \$oldlib~$old_postinstall_cmds&quot;
+    ;;
+  esac
+  old_archive_cmds=&quot;$old_archive_cmds~\$RANLIB \$oldlib&quot;
+fi
+
+# Allow CC to be a program name with arguments.
+set dummy $CC
+compiler=&quot;$2&quot;
+
+echo &quot;$as_me:$LINENO: checking for objdir&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for objdir... $ECHO_C&quot; &gt;&amp;6
+rm -f .libs 2&gt;/dev/null
+mkdir .libs 2&gt;/dev/null
+if test -d .libs; then
+  objdir=.libs
+else
+  # MS-DOS does not allow filenames that begin with a dot.
+  objdir=_libs
+fi
+rmdir .libs 2&gt;/dev/null
+echo &quot;$as_me:$LINENO: result: $objdir&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$objdir&quot; &gt;&amp;6
+
+
+
+# Check whether --with-pic or --without-pic was given.
+if test &quot;${with_pic+set}&quot; = set; then
+  withval=&quot;$with_pic&quot;
+  pic_mode=&quot;$withval&quot;
+else
+  pic_mode=default
+fi;
+test -z &quot;$pic_mode&quot; &amp;&amp; pic_mode=default
+
+# We assume here that the value for lt_cv_prog_cc_pic will not be cached
+# in isolation, and that seeing it set (from the cache) indicates that
+# the associated values are set (in the cache) correctly too.
+echo &quot;$as_me:$LINENO: checking for $compiler option to produce PIC&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $compiler option to produce PIC... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_prog_cc_pic+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+   lt_cv_prog_cc_pic=
+  lt_cv_prog_cc_shlib=
+  lt_cv_prog_cc_wl=
+  lt_cv_prog_cc_static=
+  lt_cv_prog_cc_no_builtin=
+  lt_cv_prog_cc_can_build_shared=$can_build_shared
+
+  if test &quot;$GCC&quot; = yes; then
+    lt_cv_prog_cc_wl='-Wl,'
+    lt_cv_prog_cc_static='-static'
+
+    case $host_os in
+    aix*)
+      # Below there is a dirty hack to force normal static linking with -ldl
+      # The problem is because libdl dynamically linked with both libc and
+      # libC (AIX C++ library), which obviously doesn't included in libraries
+      # list by gcc. This cause undefined symbols with -static flags.
+      # This hack allows C programs to be linked with &quot;-static -ldl&quot;, but
+      # not sure about C++ programs.
+      lt_cv_prog_cc_static=&quot;$lt_cv_prog_cc_static ${lt_cv_prog_cc_wl}-lC&quot;
+      ;;
+    amigaos*)
+      # FIXME: we need at least 68020 code to build shared libraries, but
+      # adding the `-m68020' flag to GCC prevents building anything better,
+      # like `-m68040'.
+      lt_cv_prog_cc_pic='-m68020 -resident32 -malways-restore-a4'
+      ;;
+    beos* | irix5* | irix6* | nonstopux* | osf3* | osf4* | osf5*)
+      # PIC is the default for these OSes.
+      ;;
+    darwin* | rhapsody*)
+      # PIC is the default on this platform
+      # Common symbols not allowed in MH_DYLIB files
+      lt_cv_prog_cc_pic='-fno-common'
+      ;;
+    cygwin* | mingw* | pw32* | os2*)
+      # This hack is so that the source file can tell whether it is being
+      # built for inclusion in a dll (and should export symbols for example).
+      lt_cv_prog_cc_pic='-DDLL_EXPORT'
+      ;;
+    sysv4*MP*)
+      if test -d /usr/nec; then
+	 lt_cv_prog_cc_pic=-Kconform_pic
+      fi
+      ;;
+    *)
+      lt_cv_prog_cc_pic='-fPIC'
+      ;;
+    esac
+  else
+    # PORTME Check for PIC flags for the system compiler.
+    case $host_os in
+    aix3* | aix4* | aix5*)
+      lt_cv_prog_cc_wl='-Wl,'
+      # All AIX code is PIC.
+      if test &quot;$host_cpu&quot; = ia64; then
+	# AIX 5 now supports IA64 processor
+	lt_cv_prog_cc_static='-Bstatic'
+      else
+	lt_cv_prog_cc_static='-bnso -bI:/lib/syscalls.exp'
+      fi
+      ;;
+
+    hpux9* | hpux10* | hpux11*)
+      # Is there a better lt_cv_prog_cc_static that works with the bundled CC?
+      lt_cv_prog_cc_wl='-Wl,'
+      lt_cv_prog_cc_static=&quot;${lt_cv_prog_cc_wl}-a ${lt_cv_prog_cc_wl}archive&quot;
+      lt_cv_prog_cc_pic='+Z'
+      ;;
+
+    irix5* | irix6* | nonstopux*)
+      lt_cv_prog_cc_wl='-Wl,'
+      lt_cv_prog_cc_static='-non_shared'
+      # PIC (with -KPIC) is the default.
+      ;;
+
+    cygwin* | mingw* | pw32* | os2*)
+      # This hack is so that the source file can tell whether it is being
+      # built for inclusion in a dll (and should export symbols for example).
+      lt_cv_prog_cc_pic='-DDLL_EXPORT'
+      ;;
+
+    newsos6)
+      lt_cv_prog_cc_pic='-KPIC'
+      lt_cv_prog_cc_static='-Bstatic'
+      ;;
+
+    osf3* | osf4* | osf5*)
+      # All OSF/1 code is PIC.
+      lt_cv_prog_cc_wl='-Wl,'
+      lt_cv_prog_cc_static='-non_shared'
+      ;;
+
+    sco3.2v5*)
+      lt_cv_prog_cc_pic='-Kpic'
+      lt_cv_prog_cc_static='-dn'
+      lt_cv_prog_cc_shlib='-belf'
+      ;;
+
+    solaris*)
+      lt_cv_prog_cc_pic='-KPIC'
+      lt_cv_prog_cc_static='-Bstatic'
+      lt_cv_prog_cc_wl='-Wl,'
+      ;;
+
+    sunos4*)
+      lt_cv_prog_cc_pic='-PIC'
+      lt_cv_prog_cc_static='-Bstatic'
+      lt_cv_prog_cc_wl='-Qoption ld '
+      ;;
+
+    sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+      lt_cv_prog_cc_pic='-KPIC'
+      lt_cv_prog_cc_static='-Bstatic'
+      lt_cv_prog_cc_wl='-Wl,'
+      ;;
+
+    uts4*)
+      lt_cv_prog_cc_pic='-pic'
+      lt_cv_prog_cc_static='-Bstatic'
+      ;;
+
+    sysv4*MP*)
+      if test -d /usr/nec ;then
+	lt_cv_prog_cc_pic='-Kconform_pic'
+	lt_cv_prog_cc_static='-Bstatic'
+      fi
+      ;;
+
+    *)
+      lt_cv_prog_cc_can_build_shared=no
+      ;;
+    esac
+  fi
+
+fi
+
+if test -z &quot;$lt_cv_prog_cc_pic&quot;; then
+  echo &quot;$as_me:$LINENO: result: none&quot; &gt;&amp;5
+echo &quot;${ECHO_T}none&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: $lt_cv_prog_cc_pic&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$lt_cv_prog_cc_pic&quot; &gt;&amp;6
+
+  # Check to make sure the pic_flag actually works.
+  echo &quot;$as_me:$LINENO: checking if $compiler PIC flag $lt_cv_prog_cc_pic works&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking if $compiler PIC flag $lt_cv_prog_cc_pic works... $ECHO_C&quot; &gt;&amp;6
+  if test &quot;${lt_cv_prog_cc_pic_works+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+      save_CFLAGS=&quot;$CFLAGS&quot;
+    CFLAGS=&quot;$CFLAGS $lt_cv_prog_cc_pic -DPIC&quot;
+    cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+        case $host_os in
+      hpux9* | hpux10* | hpux11*)
+	# On HP-UX, both CC and GCC only warn that PIC is supported... then
+	# they create non-PIC objects.  So, if there were any warnings, we
+	# assume that PIC is not supported.
+	if test -s conftest.err; then
+	  lt_cv_prog_cc_pic_works=no
+	else
+	  lt_cv_prog_cc_pic_works=yes
+	fi
+	;;
+      *)
+	lt_cv_prog_cc_pic_works=yes
+	;;
+      esac
+
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+      lt_cv_prog_cc_pic_works=no
+
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+    CFLAGS=&quot;$save_CFLAGS&quot;
+
+fi
+
+
+  if test &quot;X$lt_cv_prog_cc_pic_works&quot; = Xno; then
+    lt_cv_prog_cc_pic=
+    lt_cv_prog_cc_can_build_shared=no
+  else
+    lt_cv_prog_cc_pic=&quot; $lt_cv_prog_cc_pic&quot;
+  fi
+
+  echo &quot;$as_me:$LINENO: result: $lt_cv_prog_cc_pic_works&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$lt_cv_prog_cc_pic_works&quot; &gt;&amp;6
+fi
+
+# Check for any special shared library compilation flags.
+if test -n &quot;$lt_cv_prog_cc_shlib&quot;; then
+  { echo &quot;$as_me:$LINENO: WARNING: \`$CC' requires \`$lt_cv_prog_cc_shlib' to build shared libraries&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: \`$CC' requires \`$lt_cv_prog_cc_shlib' to build shared libraries&quot; &gt;&amp;2;}
+  if echo &quot;$old_CC $old_CFLAGS &quot; | egrep -e &quot;[ 	]$lt_cv_prog_cc_shlib[ 	]&quot; &gt;/dev/null; then :
+  else
+   { echo &quot;$as_me:$LINENO: WARNING: add \`$lt_cv_prog_cc_shlib' to the CC or CFLAGS env variable and reconfigure&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: add \`$lt_cv_prog_cc_shlib' to the CC or CFLAGS env variable and reconfigure&quot; &gt;&amp;2;}
+    lt_cv_prog_cc_can_build_shared=no
+  fi
+fi
+
+echo &quot;$as_me:$LINENO: checking if $compiler static flag $lt_cv_prog_cc_static works&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking if $compiler static flag $lt_cv_prog_cc_static works... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_prog_cc_static_works+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+    lt_cv_prog_cc_static_works=no
+  save_LDFLAGS=&quot;$LDFLAGS&quot;
+  LDFLAGS=&quot;$LDFLAGS $lt_cv_prog_cc_static&quot;
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  lt_cv_prog_cc_static_works=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+  LDFLAGS=&quot;$save_LDFLAGS&quot;
+
+fi
+
+
+# Belt *and* braces to stop my trousers falling down:
+test &quot;X$lt_cv_prog_cc_static_works&quot; = Xno &amp;&amp; lt_cv_prog_cc_static=
+echo &quot;$as_me:$LINENO: result: $lt_cv_prog_cc_static_works&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$lt_cv_prog_cc_static_works&quot; &gt;&amp;6
+
+pic_flag=&quot;$lt_cv_prog_cc_pic&quot;
+special_shlib_compile_flags=&quot;$lt_cv_prog_cc_shlib&quot;
+wl=&quot;$lt_cv_prog_cc_wl&quot;
+link_static_flag=&quot;$lt_cv_prog_cc_static&quot;
+no_builtin_flag=&quot;$lt_cv_prog_cc_no_builtin&quot;
+can_build_shared=&quot;$lt_cv_prog_cc_can_build_shared&quot;
+
+
+# Check to see if options -o and -c are simultaneously supported by compiler
+echo &quot;$as_me:$LINENO: checking if $compiler supports -c -o file.$ac_objext&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking if $compiler supports -c -o file.$ac_objext... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_compiler_c_o+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+
+$rm -r conftest 2&gt;/dev/null
+mkdir conftest
+cd conftest
+echo &quot;int some_variable = 0;&quot; &gt; conftest.$ac_ext
+mkdir out
+# According to Tom Tromey, Ian Lance Taylor reported there are C compilers
+# that will create temporary files in the current directory regardless of
+# the output directory.  Thus, making CWD read-only will cause this test
+# to fail, enabling locking or at least warning the user not to do parallel
+# builds.
+chmod -w .
+save_CFLAGS=&quot;$CFLAGS&quot;
+CFLAGS=&quot;$CFLAGS -o out/conftest2.$ac_objext&quot;
+compiler_c_o=no
+if { (eval echo configure:5692: \&quot;$ac_compile\&quot;) 1&gt;&amp;5; (eval $ac_compile) 2&gt;out/conftest.err; } &amp;&amp; test -s out/conftest2.$ac_objext; then
+  # The compiler can only warn and ignore the option if not recognized
+  # So say no if there are warnings
+  if test -s out/conftest.err; then
+    lt_cv_compiler_c_o=no
+  else
+    lt_cv_compiler_c_o=yes
+  fi
+else
+  # Append any errors to the config.log.
+  cat out/conftest.err 1&gt;&amp;5
+  lt_cv_compiler_c_o=no
+fi
+CFLAGS=&quot;$save_CFLAGS&quot;
+chmod u+w .
+$rm conftest* out/*
+rmdir out
+cd ..
+rmdir conftest
+$rm -r conftest 2&gt;/dev/null
+
+fi
+
+compiler_c_o=$lt_cv_compiler_c_o
+echo &quot;$as_me:$LINENO: result: $compiler_c_o&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$compiler_c_o&quot; &gt;&amp;6
+
+if test x&quot;$compiler_c_o&quot; = x&quot;yes&quot;; then
+  # Check to see if we can write to a .lo
+  echo &quot;$as_me:$LINENO: checking if $compiler supports -c -o file.lo&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking if $compiler supports -c -o file.lo... $ECHO_C&quot; &gt;&amp;6
+  if test &quot;${lt_cv_compiler_o_lo+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+
+  lt_cv_compiler_o_lo=no
+  save_CFLAGS=&quot;$CFLAGS&quot;
+  CFLAGS=&quot;$CFLAGS -c -o conftest.lo&quot;
+  save_objext=&quot;$ac_objext&quot;
+  ac_objext=lo
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+int some_variable = 0;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+      # The compiler can only warn and ignore the option if not recognized
+    # So say no if there are warnings
+    if test -s conftest.err; then
+      lt_cv_compiler_o_lo=no
+    else
+      lt_cv_compiler_o_lo=yes
+    fi
+
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+  ac_objext=&quot;$save_objext&quot;
+  CFLAGS=&quot;$save_CFLAGS&quot;
+
+fi
+
+  compiler_o_lo=$lt_cv_compiler_o_lo
+  echo &quot;$as_me:$LINENO: result: $compiler_o_lo&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$compiler_o_lo&quot; &gt;&amp;6
+else
+  compiler_o_lo=no
+fi
+
+# Check to see if we can do hard links to lock some files if needed
+hard_links=&quot;nottested&quot;
+if test &quot;$compiler_c_o&quot; = no &amp;&amp; test &quot;$need_locks&quot; != no; then
+  # do not overwrite the value of need_locks provided by the user
+  echo &quot;$as_me:$LINENO: checking if we can lock with hard links&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking if we can lock with hard links... $ECHO_C&quot; &gt;&amp;6
+  hard_links=yes
+  $rm conftest*
+  ln conftest.a conftest.b 2&gt;/dev/null &amp;&amp; hard_links=no
+  touch conftest.a
+  ln conftest.a conftest.b 2&gt;&amp;5 || hard_links=no
+  ln conftest.a conftest.b 2&gt;/dev/null &amp;&amp; hard_links=no
+  echo &quot;$as_me:$LINENO: result: $hard_links&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$hard_links&quot; &gt;&amp;6
+  if test &quot;$hard_links&quot; = no; then
+    { echo &quot;$as_me:$LINENO: WARNING: \`$CC' does not support \`-c -o', so \`make -j' may be unsafe&quot; &gt;&amp;5
+echo &quot;$as_me: WARNING: \`$CC' does not support \`-c -o', so \`make -j' may be unsafe&quot; &gt;&amp;2;}
+    need_locks=warn
+  fi
+else
+  need_locks=no
+fi
+
+if test &quot;$GCC&quot; = yes; then
+  # Check to see if options -fno-rtti -fno-exceptions are supported by compiler
+  echo &quot;$as_me:$LINENO: checking if $compiler supports -fno-rtti -fno-exceptions&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking if $compiler supports -fno-rtti -fno-exceptions... $ECHO_C&quot; &gt;&amp;6
+  echo &quot;int some_variable = 0;&quot; &gt; conftest.$ac_ext
+  save_CFLAGS=&quot;$CFLAGS&quot;
+  CFLAGS=&quot;$CFLAGS -fno-rtti -fno-exceptions -c conftest.$ac_ext&quot;
+  compiler_rtti_exceptions=no
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+int some_variable = 0;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+      # The compiler can only warn and ignore the option if not recognized
+    # So say no if there are warnings
+    if test -s conftest.err; then
+      compiler_rtti_exceptions=no
+    else
+      compiler_rtti_exceptions=yes
+    fi
+
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+  CFLAGS=&quot;$save_CFLAGS&quot;
+  echo &quot;$as_me:$LINENO: result: $compiler_rtti_exceptions&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$compiler_rtti_exceptions&quot; &gt;&amp;6
+
+  if test &quot;$compiler_rtti_exceptions&quot; = &quot;yes&quot;; then
+    no_builtin_flag=' -fno-builtin -fno-rtti -fno-exceptions'
+  else
+    no_builtin_flag=' -fno-builtin'
+  fi
+fi
+
+# See if the linker supports building shared libraries.
+echo &quot;$as_me:$LINENO: checking whether the linker ($LD) supports shared libraries&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether the linker ($LD) supports shared libraries... $ECHO_C&quot; &gt;&amp;6
+
+allow_undefined_flag=
+no_undefined_flag=
+need_lib_prefix=unknown
+need_version=unknown
+# when you set need_version to no, make sure it does not cause -set_version
+# flags to be left without arguments
+archive_cmds=
+archive_expsym_cmds=
+old_archive_from_new_cmds=
+old_archive_from_expsyms_cmds=
+export_dynamic_flag_spec=
+whole_archive_flag_spec=
+thread_safe_flag_spec=
+hardcode_into_libs=no
+hardcode_libdir_flag_spec=
+hardcode_libdir_separator=
+hardcode_direct=no
+hardcode_minus_L=no
+hardcode_shlibpath_var=unsupported
+runpath_var=
+link_all_deplibs=unknown
+always_export_symbols=no
+export_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | sed '\''s/.* //'\'' | sort | uniq &gt; $export_symbols'
+# include_expsyms should be a list of space-separated symbols to be *always*
+# included in the symbol list
+include_expsyms=
+# exclude_expsyms can be an egrep regular expression of symbols to exclude
+# it will be wrapped by ` (' and `)$', so one must not match beginning or
+# end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
+# as well as any symbol that contains `d'.
+exclude_expsyms=&quot;_GLOBAL_OFFSET_TABLE_&quot;
+# Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
+# platforms (ab)use it in PIC code, but their linkers get confused if
+# the symbol is explicitly referenced.  Since portable code cannot
+# rely on this symbol name, it's probably fine to never include it in
+# preloaded symbol tables.
+extract_expsyms_cmds=
+
+case $host_os in
+cygwin* | mingw* | pw32*)
+  # FIXME: the MSVC++ port hasn't been tested in a loooong time
+  # When not using gcc, we currently assume that we are using
+  # Microsoft Visual C++.
+  if test &quot;$GCC&quot; != yes; then
+    with_gnu_ld=no
+  fi
+  ;;
+openbsd*)
+  with_gnu_ld=no
+  ;;
+esac
+
+ld_shlibs=yes
+if test &quot;$with_gnu_ld&quot; = yes; then
+  # If archive_cmds runs LD, not CC, wlarc should be empty
+  wlarc='${wl}'
+
+  # See if GNU ld supports shared libraries.
+  case $host_os in
+  aix3* | aix4* | aix5*)
+    # On AIX, the GNU linker is very broken
+    # Note:Check GNU linker on AIX 5-IA64 when/if it becomes available.
+    ld_shlibs=no
+    cat &lt;&lt;EOF 1&gt;&amp;2
+
+*** Warning: the GNU linker, at least up to release 2.9.1, is reported
+*** to be unable to reliably create shared libraries on AIX.
+*** Therefore, libtool is disabling shared libraries support.  If you
+*** really care for shared libraries, you may want to modify your PATH
+*** so that a non-GNU linker is found, and then restart.
+
+EOF
+    ;;
+
+  amigaos*)
+    archive_cmds='$rm $output_objdir/a2ixlibrary.data~$echo &quot;#define NAME $libname&quot; &gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define LIBRARY_ID 1&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define VERSION $major&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define REVISION $revision&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir &amp;&amp; a2ixlibrary -32)'
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_minus_L=yes
+
+    # Samuel A. Falvo II &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">kc5tja at dolphin.openprojects.net</A>&gt; reports
+    # that the semantics of dynamic libraries on AmigaOS, at least up
+    # to version 4, is to share data among multiple programs linked
+    # with the same dynamic library.  Since this doesn't match the
+    # behavior of shared libraries on other platforms, we can use
+    # them.
+    ld_shlibs=no
+    ;;
+
+  beos*)
+    if $LD --help 2&gt;&amp;1 | egrep ': supported targets:.* elf' &gt; /dev/null; then
+      allow_undefined_flag=unsupported
+      # Joseph Beckenbach &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">jrb3 at best.com</A>&gt; says some releases of gcc
+      # support --undefined.  This deserves some investigation.  FIXME
+      archive_cmds='$CC -nostart $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+    else
+      ld_shlibs=no
+    fi
+    ;;
+
+  cygwin* | mingw* | pw32*)
+    # hardcode_libdir_flag_spec is actually meaningless, as there is
+    # no search path for DLLs.
+    hardcode_libdir_flag_spec='-L$libdir'
+    allow_undefined_flag=unsupported
+    always_export_symbols=yes
+
+    extract_expsyms_cmds='test -f $output_objdir/impgen.c || \
+      sed -e &quot;/^# \/\* impgen\.c starts here \*\//,/^# \/\* impgen.c ends here \*\// { s/^# //;s/^# *$//; p; }&quot; -e d &lt; $''0 &gt; $output_objdir/impgen.c~
+      test -f $output_objdir/impgen.exe || (cd $output_objdir &amp;&amp; \
+      if test &quot;x$HOST_CC&quot; != &quot;x&quot; ; then $HOST_CC -o impgen impgen.c ; \
+      else $CC -o impgen impgen.c ; fi)~
+      $output_objdir/impgen $dir/$soroot &gt; $output_objdir/$soname-def'
+
+    old_archive_from_expsyms_cmds='$DLLTOOL --as=$AS --dllname $soname --def $output_objdir/$soname-def --output-lib $output_objdir/$newlib'
+
+    # cygwin and mingw dlls have different entry points and sets of symbols
+    # to exclude.
+    # FIXME: what about values for MSVC?
+    dll_entry=<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">__cygwin_dll_entry at 12</A>
+    dll_exclude_symbols=<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">DllMain at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,_cygwin_dll_entry at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,_cygwin_noncygwin_dll_entry at 12</A>~
+    case $host_os in
+    mingw*)
+      # mingw values
+      dll_entry=<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">_DllMainCRTStartup at 12</A>
+      dll_exclude_symbols=<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">DllMain at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,DllMainCRTStartup at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,DllEntryPoint at 12</A>~
+      ;;
+    esac
+
+    # mingw and cygwin differ, and it's simplest to just exclude the union
+    # of the two symbol sets.
+    dll_exclude_symbols=<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">DllMain at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,_cygwin_dll_entry at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,_cygwin_noncygwin_dll_entry at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,DllMainCRTStartup at 12</A><A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">,DllEntryPoint at 12</A>
+
+    # recent cygwin and mingw systems supply a stub DllMain which the user
+    # can override, but on older systems we have to supply one (in ltdll.c)
+    if test &quot;x$lt_cv_need_dllmain&quot; = &quot;xyes&quot;; then
+      ltdll_obj='$output_objdir/$soname-ltdll.'&quot;$ac_objext &quot;
+      ltdll_cmds='test -f $output_objdir/$soname-ltdll.c || sed -e &quot;/^# \/\* ltdll\.c starts here \*\//,/^# \/\* ltdll.c ends here \*\// { s/^# //; p; }&quot; -e d &lt; $''0 &gt; $output_objdir/$soname-ltdll.c~
+	test -f $output_objdir/$soname-ltdll.$ac_objext || (cd $output_objdir &amp;&amp; $CC -c $soname-ltdll.c)~'
+    else
+      ltdll_obj=
+      ltdll_cmds=
+    fi
+
+    # Extract the symbol export list from an `--export-all' def file,
+    # then regenerate the def file from the symbol export list, so that
+    # the compiled dll only exports the symbol export list.
+    # Be careful not to strip the DATA tag left be newer dlltools.
+    export_symbols_cmds=&quot;$ltdll_cmds&quot;'
+      $DLLTOOL --export-all --exclude-symbols '$dll_exclude_symbols' --output-def $output_objdir/$soname-def '$ltdll_obj'$libobjs $convenience~
+      sed -e &quot;1,/EXPORTS/d&quot; -e &quot;s/ @ [0-9]*//&quot; -e &quot;s/ *;.*$//&quot; &lt; $output_objdir/$soname-def &gt; $export_symbols'
+
+    # If the export-symbols file already is a .def file (1st line
+    # is EXPORTS), use it as is.
+    # If DATA tags from a recent dlltool are present, honour them!
+    archive_expsym_cmds='if test &quot;x`sed 1q $export_symbols`&quot; = xEXPORTS; then
+	cp $export_symbols $output_objdir/$soname-def;
+      else
+	echo EXPORTS &gt; $output_objdir/$soname-def;
+	_lt_hint=1;
+	cat $export_symbols | while read symbol; do
+	 set dummy \$symbol;
+	 case \$# in
+	   2) echo &quot;   \$2 @ \$_lt_hint ; &quot; &gt;&gt; $output_objdir/$soname-def;;
+	   4) echo &quot;   \$2 \$3 \$4 ; &quot; &gt;&gt; $output_objdir/$soname-def; _lt_hint=`expr \$_lt_hint - 1`;;
+	   *) echo &quot;     \$2 @ \$_lt_hint \$3 ; &quot; &gt;&gt; $output_objdir/$soname-def;;
+	 esac;
+	 _lt_hint=`expr 1 + \$_lt_hint`;
+	done;
+      fi~
+      '&quot;$ltdll_cmds&quot;'
+      $CC -Wl,--base-file,$output_objdir/$soname-base '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags~
+      $DLLTOOL --as=$AS --dllname $soname --exclude-symbols '$dll_exclude_symbols' --def $output_objdir/$soname-def --base-file $output_objdir/$soname-base --output-exp $output_objdir/$soname-exp~
+      $CC -Wl,--base-file,$output_objdir/$soname-base $output_objdir/$soname-exp '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags~
+      $DLLTOOL --as=$AS --dllname $soname --exclude-symbols '$dll_exclude_symbols' --def $output_objdir/$soname-def --base-file $output_objdir/$soname-base --output-exp $output_objdir/$soname-exp --output-lib $output_objdir/$libname.dll.a~
+      $CC $output_objdir/$soname-exp '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags'
+    ;;
+
+  netbsd*)
+    if echo __ELF__ | $CC -E - | grep __ELF__ &gt;/dev/null; then
+      archive_cmds='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'
+      wlarc=
+    else
+      archive_cmds='$CC -shared -nodefaultlibs $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+      archive_expsym_cmds='$CC -shared -nodefaultlibs $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
+    fi
+    ;;
+
+  solaris* | sysv5*)
+    if $LD -v 2&gt;&amp;1 | egrep 'BFD 2\.8' &gt; /dev/null; then
+      ld_shlibs=no
+      cat &lt;&lt;EOF 1&gt;&amp;2
+
+*** Warning: The releases 2.8.* of the GNU linker cannot reliably
+*** create shared libraries on Solaris systems.  Therefore, libtool
+*** is disabling shared libraries support.  We urge you to upgrade GNU
+*** binutils to release 2.9.1 or newer.  Another option is to modify
+*** your PATH or compiler configuration so that the native linker is
+*** used, and then restart.
+
+EOF
+    elif $LD --help 2&gt;&amp;1 | egrep ': supported targets:.* elf' &gt; /dev/null; then
+      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+      archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
+    else
+      ld_shlibs=no
+    fi
+    ;;
+
+  sunos4*)
+    archive_cmds='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+    wlarc=
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  linux*)
+    if $LD --help 2&gt;&amp;1 | egrep ': supported targets:.* elf' &gt; /dev/null; then
+      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+      supports_anon_versioning=no
+      case `$LD -v 2&gt;/dev/null` in
+        *\ 01.* | *\ 2.[0-9].* | *\ 2.10.*) ;; # catch versions &lt; 2.11
+        *\ 2.11.93.0.2\ *) supports_anon_versioning=yes ;; # RH7.3 ...
+        *\ 2.11.92.0.12\ *) supports_anon_versioning=yes ;; # Mandrake 8.2 ...
+        *\ 2.11.*) ;; # other 2.11 versions
+        *) supports_anon_versioning=yes ;;
+      esac
+      if test $supports_anon_versioning = yes; then
+        archive_expsym_cmds='$echo &quot;{ global:&quot; &gt; $output_objdir/$libname.ver~
+cat $export_symbols | sed -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $output_objdir/$libname.ver~
+$echo &quot;local: *; };&quot; &gt;&gt; $output_objdir/$libname.ver~
+        $CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-version-script ${wl}$output_objdir/$libname.ver -o $lib'
+      else
+        $archive_expsym_cmds=&quot;$archive_cmds&quot;
+      fi
+    else
+      ld_shlibs=no
+    fi
+    ;;
+
+  *)
+    if $LD --help 2&gt;&amp;1 | egrep ': supported targets:.* elf' &gt; /dev/null; then
+      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+      archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
+    else
+      ld_shlibs=no
+    fi
+    ;;
+  esac
+
+  if test &quot;$ld_shlibs&quot; = yes; then
+    runpath_var=LD_RUN_PATH
+    hardcode_libdir_flag_spec='${wl}--rpath ${wl}$libdir'
+    export_dynamic_flag_spec='${wl}--export-dynamic'
+    case $host_os in
+    cygwin* | mingw* | pw32*)
+      # dlltool doesn't understand --whole-archive et. al.
+      whole_archive_flag_spec=
+      ;;
+    *)
+      # ancient GNU ld didn't support --whole-archive et. al.
+      if $LD --help 2&gt;&amp;1 | egrep 'no-whole-archive' &gt; /dev/null; then
+	whole_archive_flag_spec=&quot;$wlarc&quot;'--whole-archive$convenience '&quot;$wlarc&quot;'--no-whole-archive'
+      else
+	whole_archive_flag_spec=
+      fi
+      ;;
+    esac
+  fi
+else
+  # PORTME fill in a description of your system's linker (not GNU ld)
+  case $host_os in
+  aix3*)
+    allow_undefined_flag=unsupported
+    always_export_symbols=yes
+    archive_expsym_cmds='$LD -o $output_objdir/$soname $libobjs $deplibs $linker_flags -bE:$export_symbols -T512 -H512 -bM:SRE~$AR $AR_FLAGS $lib $output_objdir/$soname'
+    # Note: this linker hardcodes the directories in LIBPATH if there
+    # are no directories specified by -L.
+    hardcode_minus_L=yes
+    if test &quot;$GCC&quot; = yes &amp;&amp; test -z &quot;$link_static_flag&quot;; then
+      # Neither direct hardcoding nor static linking is supported with a
+      # broken collect2.
+      hardcode_direct=unsupported
+    fi
+    ;;
+
+  aix4* | aix5*)
+    if test &quot;$host_cpu&quot; = ia64; then
+      # On IA64, the linker does run time linking by default, so we don't
+      # have to do anything special.
+      aix_use_runtimelinking=no
+      exp_sym_flag='-Bexport'
+      no_entry_flag=&quot;&quot;
+    else
+      aix_use_runtimelinking=no
+
+      # Test if we are trying to use run time linking or normal
+      # AIX style linking. If -brtl is somewhere in LDFLAGS, we
+      # need to do runtime linking.
+      case $host_os in aix4.[23]|aix4.[23].*|aix5*)
+	for ld_flag in $LDFLAGS; do
+	  case $ld_flag in
+	  *-brtl*)
+	    aix_use_runtimelinking=yes
+	    break
+	  ;;
+	  esac
+	done
+      esac
+
+      exp_sym_flag='-bexport'
+      no_entry_flag='-bnoentry'
+    fi
+
+    # When large executables or shared objects are built, AIX ld can
+    # have problems creating the table of contents.  If linking a library
+    # or program results in &quot;error TOC overflow&quot; add -mminimal-toc to
+    # CXXFLAGS/CFLAGS for g++/gcc.  In the cases where that is not
+    # enough to fix the problem, add -Wl,-bbigtoc to LDFLAGS.
+
+    hardcode_direct=yes
+    archive_cmds=''
+    hardcode_libdir_separator=':'
+    if test &quot;$GCC&quot; = yes; then
+      case $host_os in aix4.[012]|aix4.[012].*)
+	collect2name=`${CC} -print-prog-name=collect2`
+	if test -f &quot;$collect2name&quot; &amp;&amp; \
+	  strings &quot;$collect2name&quot; | grep resolve_lib_name &gt;/dev/null
+	then
+	  # We have reworked collect2
+	  hardcode_direct=yes
+	else
+	  # We have old collect2
+	  hardcode_direct=unsupported
+	  # It fails to find uninstalled libraries when the uninstalled
+	  # path is not listed in the libpath.  Setting hardcode_minus_L
+	  # to unsupported forces relinking
+	  hardcode_minus_L=yes
+	  hardcode_libdir_flag_spec='-L$libdir'
+	  hardcode_libdir_separator=
+	fi
+      esac
+
+      shared_flag='-shared'
+    else
+      # not using gcc
+      if test &quot;$host_cpu&quot; = ia64; then
+	shared_flag='${wl}-G'
+      else
+	if test &quot;$aix_use_runtimelinking&quot; = yes; then
+	  shared_flag='${wl}-G'
+	else
+	  shared_flag='${wl}-bM:SRE'
+	fi
+      fi
+    fi
+
+    # It seems that -bexpall can do strange things, so it is better to
+    # generate a list of symbols to export.
+    always_export_symbols=yes
+    if test &quot;$aix_use_runtimelinking&quot; = yes; then
+      # Warning - without using the other runtime loading flags (-brtl),
+      # -berok will link without error, but may produce a broken library.
+      allow_undefined_flag='-berok'
+      hardcode_libdir_flag_spec='${wl}-blibpath:$libdir:/usr/lib:/lib'
+      archive_expsym_cmds=&quot;\$CC&quot;' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags `if test &quot;x${allow_undefined_flag}&quot; != &quot;x&quot;; then echo &quot;${wl}${allow_undefined_flag}&quot;; else :; fi` '&quot;\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols $shared_flag&quot;
+    else
+      if test &quot;$host_cpu&quot; = ia64; then
+	hardcode_libdir_flag_spec='${wl}-R $libdir:/usr/lib:/lib'
+	allow_undefined_flag=&quot;-z nodefs&quot;
+	archive_expsym_cmds=&quot;\$CC $shared_flag&quot;' -o $output_objdir/$soname ${wl}-h$soname $libobjs $deplibs $compiler_flags ${wl}${allow_undefined_flag} '&quot;\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols&quot;
+      else
+	hardcode_libdir_flag_spec='${wl}-bnolibpath ${wl}-blibpath:$libdir:/usr/lib:/lib'
+	# Warning - without using the other run time loading flags,
+	# -berok will link without error, but may produce a broken library.
+	allow_undefined_flag='${wl}-berok'
+	# This is a bit strange, but is similar to how AIX traditionally builds
+	# it's shared libraries.
+	archive_expsym_cmds=&quot;\$CC $shared_flag&quot;' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${allow_undefined_flag} '&quot;\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols&quot;' ~$AR -crlo $objdir/$libname$release.a $objdir/$soname'
+      fi
+    fi
+    ;;
+
+  amigaos*)
+    archive_cmds='$rm $output_objdir/a2ixlibrary.data~$echo &quot;#define NAME $libname&quot; &gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define LIBRARY_ID 1&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define VERSION $major&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$echo &quot;#define REVISION $revision&quot; &gt;&gt; $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir &amp;&amp; a2ixlibrary -32)'
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_minus_L=yes
+    # see comment about different semantics on the GNU ld section
+    ld_shlibs=no
+    ;;
+
+  cygwin* | mingw* | pw32*)
+    # When not using gcc, we currently assume that we are using
+    # Microsoft Visual C++.
+    # hardcode_libdir_flag_spec is actually meaningless, as there is
+    # no search path for DLLs.
+    hardcode_libdir_flag_spec=' '
+    allow_undefined_flag=unsupported
+    # Tell ltmain to make .lib files, not .a files.
+    libext=lib
+    # FIXME: Setting linknames here is a bad hack.
+    archive_cmds='$CC -o $lib $libobjs $compiler_flags `echo &quot;$deplibs&quot; | sed -e '\''s/ -lc$//'\''` -link -dll~linknames='
+    # The linker will automatically build a .lib file if we build a DLL.
+    old_archive_from_new_cmds='true'
+    # FIXME: Should let the user specify the lib program.
+    old_archive_cmds='lib /OUT:$oldlib$oldobjs$old_deplibs'
+    fix_srcfile_path='`cygpath -w &quot;$srcfile&quot;`'
+    ;;
+
+  darwin* | rhapsody*)
+    case &quot;$host_os&quot; in
+    rhapsody* | darwin1.[012])
+      allow_undefined_flag='-undefined suppress'
+      ;;
+    *) # Darwin 1.3 on
+      allow_undefined_flag='-flat_namespace -undefined suppress'
+      ;;
+    esac
+    # FIXME: Relying on posixy $() will cause problems for
+    #        cross-compilation, but unfortunately the echo tests do not
+    #        yet detect zsh echo's removal of \ escapes.  Also zsh mangles
+    #	     `&quot;' quotes if we put them in here... so don't!
+    archive_cmds='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs &amp;&amp; $CC $(test .$module = .yes &amp;&amp; echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib ${lib}-master.o $deplibs$linker_flags $(test .$module != .yes &amp;&amp; echo -install_name $rpath/$soname $verstring)'
+    # We need to add '_' to the symbols in $export_symbols first
+    #archive_expsym_cmds=&quot;$archive_cmds&quot;' &amp;&amp; strip -s $export_symbols'
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    whole_archive_flag_spec='-all_load $convenience'
+    ;;
+
+  freebsd1*)
+    ld_shlibs=no
+    ;;
+
+  # FreeBSD 2.2.[012] allows us to include c++rt0.o to get C++ constructor
+  # support.  Future versions do this automatically, but an explicit c++rt0.o
+  # does not break anything, and helps significantly (at the cost of a little
+  # extra space).
+  freebsd2.2*)
+    archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags /usr/lib/c++rt0.o'
+    hardcode_libdir_flag_spec='-R$libdir'
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  # Unfortunately, older versions of FreeBSD 2 do not have this feature.
+  freebsd2*)
+    archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_direct=yes
+    hardcode_minus_L=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  # FreeBSD 3 and greater uses gcc -shared to do shared libraries.
+  freebsd*)
+    archive_cmds='$CC -shared -o $lib $libobjs $deplibs $compiler_flags'
+    hardcode_libdir_flag_spec='-R$libdir'
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  hpux9* | hpux10* | hpux11*)
+    case $host_os in
+    hpux9*) archive_cmds='$rm $output_objdir/$soname~$LD -b +b $install_libdir -o $output_objdir/$soname $libobjs $deplibs $linker_flags~test $output_objdir/$soname = $lib || mv $output_objdir/$soname $lib' ;;
+    *) archive_cmds='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags' ;;
+    esac
+    hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'
+    hardcode_libdir_separator=:
+    hardcode_direct=yes
+    hardcode_minus_L=yes # Not in the search PATH, but as the default
+			 # location of the library.
+    export_dynamic_flag_spec='${wl}-E'
+    ;;
+
+  irix5* | irix6* | nonstopux*)
+    if test &quot;$GCC&quot; = yes; then
+      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
+      hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
+    else
+      archive_cmds='$LD -shared $libobjs $deplibs $linker_flags -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
+      hardcode_libdir_flag_spec='-rpath $libdir'
+    fi
+    hardcode_libdir_separator=:
+    link_all_deplibs=yes
+    ;;
+
+  netbsd*)
+    if echo __ELF__ | $CC -E - | grep __ELF__ &gt;/dev/null; then
+      archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'  # a.out
+    else
+      archive_cmds='$LD -shared -o $lib $libobjs $deplibs $linker_flags'      # ELF
+    fi
+    hardcode_libdir_flag_spec='-R$libdir'
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  newsos6)
+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_direct=yes
+    hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
+    hardcode_libdir_separator=:
+    hardcode_shlibpath_var=no
+    ;;
+
+  openbsd*)
+    hardcode_direct=yes
+    hardcode_shlibpath_var=no
+    if test -z &quot;`echo __ELF__ | $CC -E - | grep __ELF__`&quot; || test &quot;$host_os-$host_cpu&quot; = &quot;openbsd2.8-powerpc&quot;; then
+      archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
+      hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+      export_dynamic_flag_spec='${wl}-E'
+    else
+      case &quot;$host_os&quot; in
+      openbsd[01].* | openbsd2.[0-7] | openbsd2.[0-7].*)
+	archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+	hardcode_libdir_flag_spec='-R$libdir'
+        ;;
+      *)
+        archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
+        hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+        ;;
+      esac
+    fi
+    ;;
+
+  os2*)
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_minus_L=yes
+    allow_undefined_flag=unsupported
+    archive_cmds='$echo &quot;LIBRARY $libname INITINSTANCE&quot; &gt; $output_objdir/$libname.def~$echo &quot;DESCRIPTION \&quot;$libname\&quot;&quot; &gt;&gt; $output_objdir/$libname.def~$echo DATA &gt;&gt; $output_objdir/$libname.def~$echo &quot; SINGLE NONSHARED&quot; &gt;&gt; $output_objdir/$libname.def~$echo EXPORTS &gt;&gt; $output_objdir/$libname.def~emxexp $libobjs &gt;&gt; $output_objdir/$libname.def~$CC -Zdll -Zcrtdll -o $lib $libobjs $deplibs $compiler_flags $output_objdir/$libname.def'
+    old_archive_from_new_cmds='emximp -o $output_objdir/$libname.a $output_objdir/$libname.def'
+    ;;
+
+  osf3*)
+    if test &quot;$GCC&quot; = yes; then
+      allow_undefined_flag=' ${wl}-expect_unresolved ${wl}\*'
+      archive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
+    else
+      allow_undefined_flag=' -expect_unresolved \*'
+      archive_cmds='$LD -shared${allow_undefined_flag} $libobjs $deplibs $linker_flags -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
+    fi
+    hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
+    hardcode_libdir_separator=:
+    ;;
+
+  osf4* | osf5*)	# as osf3* with the addition of -msym flag
+    if test &quot;$GCC&quot; = yes; then
+      allow_undefined_flag=' ${wl}-expect_unresolved ${wl}\*'
+      archive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $compiler_flags ${wl}-msym ${wl}-soname ${wl}$soname `test -n &quot;$verstring&quot; &amp;&amp; echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
+      hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
+    else
+      allow_undefined_flag=' -expect_unresolved \*'
+      archive_cmds='$LD -shared${allow_undefined_flag} $libobjs $deplibs $linker_flags -msym -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
+      archive_expsym_cmds='for i in `cat $export_symbols`; do printf &quot;-exported_symbol &quot; &gt;&gt; $lib.exp; echo &quot;\$i&quot; &gt;&gt; $lib.exp; done; echo &quot;-hidden&quot;&gt;&gt; $lib.exp~
+      $LD -shared${allow_undefined_flag} -input $lib.exp $linker_flags $libobjs $deplibs -soname $soname `test -n &quot;$verstring&quot; &amp;&amp; echo -set_version $verstring` -update_registry ${objdir}/so_locations -o $lib~$rm $lib.exp'
+
+      #Both c and cxx compiler support -rpath directly
+      hardcode_libdir_flag_spec='-rpath $libdir'
+    fi
+    hardcode_libdir_separator=:
+    ;;
+
+  sco3.2v5*)
+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_shlibpath_var=no
+    runpath_var=LD_RUN_PATH
+    hardcode_runpath_var=yes
+    export_dynamic_flag_spec='${wl}-Bexport'
+    ;;
+
+  solaris*)
+    # gcc --version &lt; 3.0 without binutils cannot create self contained
+    # shared libraries reliably, requiring libgcc.a to resolve some of
+    # the object symbols generated in some cases.  Libraries that use
+    # assert need libgcc.a to resolve __eprintf, for example.  Linking
+    # a copy of libgcc.a into every shared library to guarantee resolving
+    # such symbols causes other problems:  According to Tim Van Holder
+    # &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">tim.van.holder at pandora.be</A>&gt;, C++ libraries end up with a separate
+    # (to the application) exception stack for one thing.
+    no_undefined_flag=' -z defs'
+    if test &quot;$GCC&quot; = yes; then
+      case `$CC --version 2&gt;/dev/null` in
+      [12].*)
+	cat &lt;&lt;EOF 1&gt;&amp;2
+
+*** Warning: Releases of GCC earlier than version 3.0 cannot reliably
+*** create self contained shared libraries on Solaris systems, without
+*** introducing a dependency on libgcc.a.  Therefore, libtool is disabling
+*** -no-undefined support, which will at least allow you to build shared
+*** libraries.  However, you may find that when you link such libraries
+*** into an application without using GCC, you have to manually add
+*** \`gcc --print-libgcc-file-name\` to the link command.  We urge you to
+*** upgrade to a newer version of GCC.  Another option is to rebuild your
+*** current GCC to use the GNU linker from GNU binutils 2.9.1 or newer.
+
+EOF
+        no_undefined_flag=
+	;;
+      esac
+    fi
+    # $CC -shared without GNU ld will not create a library from C++
+    # object files and a static libstdc++, better avoid it by now
+    archive_cmds='$LD -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    archive_expsym_cmds='$echo &quot;{ global:&quot; &gt; $lib.exp~cat $export_symbols | sed -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $lib.exp~$echo &quot;local: *; };&quot; &gt;&gt; $lib.exp~
+		$LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linker_flags~$rm $lib.exp'
+    hardcode_libdir_flag_spec='-R$libdir'
+    hardcode_shlibpath_var=no
+    case $host_os in
+    solaris2.[0-5] | solaris2.[0-5].*) ;;
+    *) # Supported since Solaris 2.6 (maybe 2.5.1?)
+      whole_archive_flag_spec='-z allextract$convenience -z defaultextract' ;;
+    esac
+    link_all_deplibs=yes
+    ;;
+
+  sunos4*)
+    if test &quot;x$host_vendor&quot; = xsequent; then
+      # Use $CC to link under sequent, because it throws in some extra .o
+      # files that make .init and .fini sections work.
+      archive_cmds='$CC -G ${wl}-h $soname -o $lib $libobjs $deplibs $compiler_flags'
+    else
+      archive_cmds='$LD -assert pure-text -Bstatic -o $lib $libobjs $deplibs $linker_flags'
+    fi
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_direct=yes
+    hardcode_minus_L=yes
+    hardcode_shlibpath_var=no
+    ;;
+
+  sysv4)
+    case $host_vendor in
+      sni)
+        archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+        hardcode_direct=yes # is this really true???
+        ;;
+      siemens)
+        ## LD is ld it makes a PLAMLIB
+        ## CC just makes a GrossModule.
+        archive_cmds='$LD -G -o $lib $libobjs $deplibs $linker_flags'
+        reload_cmds='$CC -r -o $output$reload_objs'
+        hardcode_direct=no
+        ;;
+      motorola)
+        archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+        hardcode_direct=no #Motorola manual says yes, but my tests say they lie
+        ;;
+    esac
+    runpath_var='LD_RUN_PATH'
+    hardcode_shlibpath_var=no
+    ;;
+
+  sysv4.3*)
+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_shlibpath_var=no
+    export_dynamic_flag_spec='-Bexport'
+    ;;
+
+  sysv5*)
+    no_undefined_flag=' -z text'
+    # $CC -shared without GNU ld will not create a library from C++
+    # object files and a static libstdc++, better avoid it by now
+    archive_cmds='$LD -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    archive_expsym_cmds='$echo &quot;{ global:&quot; &gt; $lib.exp~cat $export_symbols | sed -e &quot;s/\(.*\)/\1;/&quot; &gt;&gt; $lib.exp~$echo &quot;local: *; };&quot; &gt;&gt; $lib.exp~
+		$LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linker_flags~$rm $lib.exp'
+    hardcode_libdir_flag_spec=
+    hardcode_shlibpath_var=no
+    runpath_var='LD_RUN_PATH'
+    ;;
+
+  uts4*)
+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_shlibpath_var=no
+    ;;
+
+  dgux*)
+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_libdir_flag_spec='-L$libdir'
+    hardcode_shlibpath_var=no
+    ;;
+
+  sysv4*MP*)
+    if test -d /usr/nec; then
+      archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+      hardcode_shlibpath_var=no
+      runpath_var=LD_RUN_PATH
+      hardcode_runpath_var=yes
+      ld_shlibs=yes
+    fi
+    ;;
+
+  sysv4.2uw2*)
+    archive_cmds='$LD -G -o $lib $libobjs $deplibs $linker_flags'
+    hardcode_direct=yes
+    hardcode_minus_L=no
+    hardcode_shlibpath_var=no
+    hardcode_runpath_var=yes
+    runpath_var=LD_RUN_PATH
+    ;;
+
+  sysv5uw7* | unixware7*)
+    no_undefined_flag='${wl}-z ${wl}text'
+    if test &quot;$GCC&quot; = yes; then
+      archive_cmds='$CC -shared ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+    else
+      archive_cmds='$CC -G ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+    fi
+    runpath_var='LD_RUN_PATH'
+    hardcode_shlibpath_var=no
+    ;;
+
+  *)
+    ld_shlibs=no
+    ;;
+  esac
+fi
+echo &quot;$as_me:$LINENO: result: $ld_shlibs&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ld_shlibs&quot; &gt;&amp;6
+test &quot;$ld_shlibs&quot; = no &amp;&amp; can_build_shared=no
+
+# Check hardcoding attributes.
+echo &quot;$as_me:$LINENO: checking how to hardcode library paths into programs&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking how to hardcode library paths into programs... $ECHO_C&quot; &gt;&amp;6
+hardcode_action=
+if test -n &quot;$hardcode_libdir_flag_spec&quot; || \
+   test -n &quot;$runpath_var&quot;; then
+
+  # We can hardcode non-existant directories.
+  if test &quot;$hardcode_direct&quot; != no &amp;&amp;
+     # If the only mechanism to avoid hardcoding is shlibpath_var, we
+     # have to relink, otherwise we might link with an installed library
+     # when we should be linking with a yet-to-be-installed one
+     ## test &quot;$hardcode_shlibpath_var&quot; != no &amp;&amp;
+     test &quot;$hardcode_minus_L&quot; != no; then
+    # Linking always hardcodes the temporary library directory.
+    hardcode_action=relink
+  else
+    # We can link without hardcoding, and we can hardcode nonexisting dirs.
+    hardcode_action=immediate
+  fi
+else
+  # We cannot hardcode anything, or else we can only hardcode existing
+  # directories.
+  hardcode_action=unsupported
+fi
+echo &quot;$as_me:$LINENO: result: $hardcode_action&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$hardcode_action&quot; &gt;&amp;6
+
+striplib=
+old_striplib=
+echo &quot;$as_me:$LINENO: checking whether stripping libraries is possible&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether stripping libraries is possible... $ECHO_C&quot; &gt;&amp;6
+if test -n &quot;$STRIP&quot; &amp;&amp; $STRIP -V 2&gt;&amp;1 | grep &quot;GNU strip&quot; &gt;/dev/null; then
+  test -z &quot;$old_striplib&quot; &amp;&amp; old_striplib=&quot;$STRIP --strip-debug&quot;
+  test -z &quot;$striplib&quot; &amp;&amp; striplib=&quot;$STRIP --strip-unneeded&quot;
+  echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
+echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
+else
+  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
+echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+fi
+
+reload_cmds='$LD$reload_flag -o $output$reload_objs'
+test -z &quot;$deplibs_check_method&quot; &amp;&amp; deplibs_check_method=unknown
+
+# PORTME Fill in your ld.so characteristics
+echo &quot;$as_me:$LINENO: checking dynamic linker characteristics&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking dynamic linker characteristics... $ECHO_C&quot; &gt;&amp;6
+library_names_spec=
+libname_spec='lib$name'
+soname_spec=
+postinstall_cmds=
+postuninstall_cmds=
+finish_cmds=
+finish_eval=
+shlibpath_var=
+shlibpath_overrides_runpath=unknown
+version_type=none
+dynamic_linker=&quot;$host_os ld.so&quot;
+sys_lib_dlsearch_path_spec=&quot;/lib /usr/lib /usr/X11R6/lib&quot;
+sys_lib_search_path_spec=&quot;/lib /usr/lib /usr/local/lib /usr/X11R6/lib&quot;
+
+case $host_os in
+aix3*)
+  version_type=linux
+  library_names_spec='${libname}${release}.so$versuffix $libname.a'
+  shlibpath_var=LIBPATH
+
+  # AIX has no versioning support, so we append a major version to the name.
+  soname_spec='${libname}${release}.so$major'
+  ;;
+
+aix4* | aix5*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  hardcode_into_libs=yes
+  if test &quot;$host_cpu&quot; = ia64; then
+    # AIX 5 supports IA64
+    library_names_spec='${libname}${release}.so$major ${libname}${release}.so$versuffix $libname.so'
+    shlibpath_var=LD_LIBRARY_PATH
+  else
+    # With GCC up to 2.95.x, collect2 would create an import file
+    # for dependence libraries.  The import file would start with
+    # the line `#! .'.  This would cause the generated library to
+    # depend on `.', always an invalid library.  This was fixed in
+    # development snapshots of GCC prior to 3.0.
+    case $host_os in
+      aix4 | aix4.[01] | aix4.[01].*)
+	if { echo '#if __GNUC__ &gt; 2 || (__GNUC__ == 2 &amp;&amp; __GNUC_MINOR__ &gt;= 97)'
+	     echo ' yes '
+	     echo '#endif'; } | ${CC} -E - | grep yes &gt; /dev/null; then
+	  :
+	else
+	  can_build_shared=no
+	fi
+	;;
+    esac
+    # AIX (on Power*) has no versioning support, so currently we can
+    # not hardcode correct soname into executable. Probably we can
+    # add versioning support to collect2, so additional links can
+    # be useful in future.
+    if test &quot;$aix_use_runtimelinking&quot; = yes; then
+      # If using run time linking (on AIX 4.2 or later) use lib&lt;name&gt;.so
+      # instead of lib&lt;name&gt;.a to let people know that these are not
+      # typical AIX shared libraries.
+      library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+    else
+      # We preserve .a as extension for shared libraries through AIX4.2
+      # and later when we are not doing run time linking.
+      library_names_spec='${libname}${release}.a $libname.a'
+      soname_spec='${libname}${release}.so$major'
+    fi
+    shlibpath_var=LIBPATH
+  fi
+  hardcode_into_libs=yes
+  ;;
+
+amigaos*)
+  library_names_spec='$libname.ixlibrary $libname.a'
+  # Create ${libname}_ixlibrary.a entries in /sys/libs.
+  finish_eval='for lib in `ls $libdir/*.ixlibrary 2&gt;/dev/null`; do libname=`$echo &quot;X$lib&quot; | $Xsed -e '\''s%^.*/\([^/]*\)\.ixlibrary$%\1%'\''`; test $rm /sys/libs/${libname}_ixlibrary.a; $show &quot;(cd /sys/libs &amp;&amp; $LN_S $lib ${libname}_ixlibrary.a)&quot;; (cd /sys/libs &amp;&amp; $LN_S $lib ${libname}_ixlibrary.a) || exit 1; done'
+  ;;
+
+beos*)
+  library_names_spec='${libname}.so'
+  dynamic_linker=&quot;$host_os ld.so&quot;
+  shlibpath_var=LIBRARY_PATH
+  ;;
+
+bsdi4*)
+  version_type=linux
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig $libdir'
+  shlibpath_var=LD_LIBRARY_PATH
+  sys_lib_search_path_spec=&quot;/shlib /usr/lib /usr/X11/lib /usr/contrib/lib /lib /usr/local/lib&quot;
+  sys_lib_dlsearch_path_spec=&quot;/shlib /usr/lib /usr/local/lib&quot;
+  export_dynamic_flag_spec=-rdynamic
+  # the default ld.so.conf also contains /usr/contrib/lib and
+  # /usr/X11R6/lib (/usr/X11 is a link to /usr/X11R6), but let us allow
+  # libtool to hard-code these into programs
+  ;;
+
+cygwin* | mingw* | pw32*)
+  version_type=windows
+  need_version=no
+  need_lib_prefix=no
+  case $GCC,$host_os in
+  yes,cygwin*)
+    library_names_spec='$libname.dll.a'
+    soname_spec='`echo ${libname} | sed -e 's/^lib/cyg/'``echo ${release} | sed -e 's/[.]/-/g'`${versuffix}.dll'
+    postinstall_cmds='dlpath=`bash 2&gt;&amp;1 -c '\''. $dir/${file}i;echo \$dlname'\''`~
+      dldir=$destdir/`dirname \$dlpath`~
+      test -d \$dldir || mkdir -p \$dldir~
+      $install_prog .libs/$dlname \$dldir/$dlname'
+    postuninstall_cmds='dldll=`bash 2&gt;&amp;1 -c '\''. $file; echo \$dlname'\''`~
+      dlpath=$dir/\$dldll~
+       $rm \$dlpath'
+    ;;
+  yes,mingw*)
+    library_names_spec='${libname}`echo ${release} | sed -e 's/[.]/-/g'`${versuffix}.dll'
+    sys_lib_search_path_spec=`$CC -print-search-dirs | grep &quot;^libraries:&quot; | sed -e &quot;s/^<A HREF="libraries://">libraries://</A>&quot; -e &quot;s/;/ /g&quot; -e &quot;s,=/,/,g&quot;`
+    ;;
+  yes,pw32*)
+    library_names_spec='`echo ${libname} | sed -e 's/^lib/pw/'``echo ${release} | sed -e 's/./-/g'`${versuffix}.dll'
+    ;;
+  *)
+    library_names_spec='${libname}`echo ${release} | sed -e 's/[.]/-/g'`${versuffix}.dll $libname.lib'
+    ;;
+  esac
+  dynamic_linker='Win32 ld.exe'
+  # FIXME: first we should search . and the directory the executable is in
+  shlibpath_var=PATH
+  ;;
+
+darwin* | rhapsody*)
+  dynamic_linker=&quot;$host_os dyld&quot;
+  version_type=darwin
+  need_lib_prefix=no
+  need_version=no
+  # FIXME: Relying on posixy $() will cause problems for
+  #        cross-compilation, but unfortunately the echo tests do not
+  #        yet detect zsh echo's removal of \ escapes.
+  library_names_spec='${libname}${release}${versuffix}.$(test .$module = .yes &amp;&amp; echo so || echo dylib) ${libname}${release}${major}.$(test .$module = .yes &amp;&amp; echo so || echo dylib) ${libname}.$(test .$module = .yes &amp;&amp; echo so || echo dylib)'
+  soname_spec='${libname}${release}${major}.$(test .$module = .yes &amp;&amp; echo so || echo dylib)'
+  shlibpath_overrides_runpath=yes
+  shlibpath_var=DYLD_LIBRARY_PATH
+  ;;
+
+freebsd1*)
+  dynamic_linker=no
+  ;;
+
+freebsd*)
+  objformat=`test -x /usr/bin/objformat &amp;&amp; /usr/bin/objformat || echo aout`
+  version_type=freebsd-$objformat
+  case $version_type in
+    freebsd-elf*)
+      library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so $libname.so'
+      need_version=no
+      need_lib_prefix=no
+      ;;
+    freebsd-*)
+      library_names_spec='${libname}${release}.so$versuffix $libname.so$versuffix'
+      need_version=yes
+      ;;
+  esac
+  shlibpath_var=LD_LIBRARY_PATH
+  case $host_os in
+  freebsd2*)
+    shlibpath_overrides_runpath=yes
+    ;;
+  *)
+    shlibpath_overrides_runpath=no
+    hardcode_into_libs=yes
+    ;;
+  esac
+  ;;
+
+gnu*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so${major} ${libname}.so'
+  soname_spec='${libname}${release}.so$major'
+  shlibpath_var=LD_LIBRARY_PATH
+  hardcode_into_libs=yes
+  ;;
+
+hpux9* | hpux10* | hpux11*)
+  # Give a soname corresponding to the major version so that dld.sl refuses to
+  # link against other versions.
+  dynamic_linker=&quot;$host_os dld.sl&quot;
+  version_type=sunos
+  need_lib_prefix=no
+  need_version=no
+  shlibpath_var=SHLIB_PATH
+  shlibpath_overrides_runpath=no # +s is required to enable SHLIB_PATH
+  library_names_spec='${libname}${release}.sl$versuffix ${libname}${release}.sl$major $libname.sl'
+  soname_spec='${libname}${release}.sl$major'
+  # HP-UX runs *really* slowly unless shared libraries are mode 555.
+  postinstall_cmds='chmod 555 $lib'
+  ;;
+
+irix5* | irix6* | nonstopux*)
+  case $host_os in
+    nonstopux*) version_type=nonstopux ;;
+    *)          version_type=irix ;;
+  esac
+  need_lib_prefix=no
+  need_version=no
+  soname_spec='${libname}${release}.so$major'
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major ${libname}${release}.so $libname.so'
+  case $host_os in
+  irix5* | nonstopux*)
+    libsuff= shlibsuff=
+    ;;
+  *)
+    case $LD in # libtool.m4 will add one of these switches to LD
+    *-32|*&quot;-32 &quot;) libsuff= shlibsuff= libmagic=32-bit;;
+    *-n32|*&quot;-n32 &quot;) libsuff=32 shlibsuff=N32 libmagic=N32;;
+    *-64|*&quot;-64 &quot;) libsuff=64 shlibsuff=64 libmagic=64-bit;;
+    *) libsuff= shlibsuff= libmagic=never-match;;
+    esac
+    ;;
+  esac
+  shlibpath_var=LD_LIBRARY${shlibsuff}_PATH
+  shlibpath_overrides_runpath=no
+  sys_lib_search_path_spec=&quot;/usr/lib${libsuff} /lib${libsuff} /usr/local/lib${libsuff}&quot;
+  sys_lib_dlsearch_path_spec=&quot;/usr/lib${libsuff} /lib${libsuff}&quot;
+  ;;
+
+# No shared lib support for Linux oldld, aout, or coff.
+linux-gnuoldld* | linux-gnuaout* | linux-gnucoff*)
+  dynamic_linker=no
+  ;;
+
+# This must be Linux ELF.
+linux-gnu*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig -n $libdir'
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=no
+  # This implies no fast_install, which is unacceptable.
+  # Some rework will be needed to allow for fast_install
+  # before this can be enabled.
+  hardcode_into_libs=yes
+
+  case $host_cpu:$lt_cv_cc_64bit_output in
+  powerpc64:yes | s390x:yes | sparc64:yes | x86_64:yes)
+    sys_lib_dlsearch_path_spec=&quot;/lib64 /usr/lib64 /usr/X11R6/lib64&quot;
+    sys_lib_search_path_spec=&quot;/lib64 /usr/lib64 /usr/local/lib64 /usr/X11R6/lib64&quot;
+    ;;
+  esac
+
+  # We used to test for /lib/ld.so.1 and disable shared libraries on
+  # powerpc, because MkLinux only supported shared libraries with the
+  # GNU dynamic linker.  Since this was broken with cross compilers,
+  # most powerpc-linux boxes support dynamic linking these days and
+  # people can always --disable-shared, the test was removed, and we
+  # assume the GNU/Linux dynamic linker is in use.
+  dynamic_linker='GNU/Linux ld.so'
+
+  # Find out which ABI we are using (multilib Linux x86_64 hack).
+  libsuff=
+  case &quot;$host_cpu&quot; in
+  x86_64*)
+    echo '#line 6925 &quot;configure&quot;' &gt; conftest.$ac_ext
+    if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; then
+      case `/usr/bin/file conftest.$ac_objext` in
+      *64-bit*)
+        libsuff=64
+        ;;
+      esac
+    fi
+    rm -rf conftest*
+    ;;
+  *)
+    ;;
+  esac
+  sys_lib_dlsearch_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff}&quot;
+  sys_lib_search_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}&quot;
+  ;;
+
+linux-uclibc*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig -n $libdir'
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=no
+  # This implies no fast_install, which is unacceptable.
+  # Some rework will be needed to allow for fast_install
+  # before this can be enabled.
+  # Note: copied from linux-gnu, and may not be appropriate.
+  hardcode_into_libs=yes
+  # Assume using the uClibc dynamic linker.
+  dynamic_linker=&quot;uClibc ld.so&quot;
+  ;;
+
+netbsd*)
+  version_type=sunos
+  need_lib_prefix=no
+  need_version=no
+  if echo __ELF__ | $CC -E - | grep __ELF__ &gt;/dev/null; then
+    library_names_spec='${libname}${release}.so$versuffix ${libname}.so$versuffix'
+    finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig -m $libdir'
+    dynamic_linker='NetBSD (a.out) ld.so'
+  else
+    library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major ${libname}${release}.so ${libname}.so'
+    soname_spec='${libname}${release}.so$major'
+    dynamic_linker='NetBSD ld.elf_so'
+  fi
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=yes
+  hardcode_into_libs=yes
+  ;;
+
+newsos6)
+  version_type=linux
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=yes
+  ;;
+
+openbsd*)
+  version_type=sunos
+  need_lib_prefix=no
+  need_version=no
+  if test -z &quot;`echo __ELF__ | $CC -E - | grep __ELF__`&quot; || test &quot;$host_os-$host_cpu&quot; = &quot;openbsd2.8-powerpc&quot;; then
+    case &quot;$host_os&quot; in
+    openbsd2.[89] | openbsd2.[89].*)
+      shlibpath_overrides_runpath=no
+      ;;
+    *)
+      shlibpath_overrides_runpath=yes
+      ;;
+    esac
+  else
+    shlibpath_overrides_runpath=yes
+  fi
+  library_names_spec='${libname}${release}.so$versuffix ${libname}.so$versuffix'
+  finish_cmds='PATH=&quot;\$PATH:/sbin&quot; ldconfig -m $libdir'
+  shlibpath_var=LD_LIBRARY_PATH
+  ;;
+
+os2*)
+  libname_spec='$name'
+  need_lib_prefix=no
+  library_names_spec='$libname.dll $libname.a'
+  dynamic_linker='OS/2 ld.exe'
+  shlibpath_var=LIBPATH
+  ;;
+
+osf3* | osf4* | osf5*)
+  version_type=osf
+  need_version=no
+  soname_spec='${libname}${release}.so$major'
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  shlibpath_var=LD_LIBRARY_PATH
+  sys_lib_search_path_spec=&quot;/usr/shlib /usr/ccs/lib /usr/lib/cmplrs/cc /usr/lib /usr/local/lib /var/shlib&quot;
+  sys_lib_dlsearch_path_spec=&quot;$sys_lib_search_path_spec&quot;
+  hardcode_into_libs=yes
+  ;;
+
+sco3.2v5*)
+  version_type=osf
+  soname_spec='${libname}${release}.so$major'
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  shlibpath_var=LD_LIBRARY_PATH
+  ;;
+
+solaris*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=yes
+  hardcode_into_libs=yes
+  # ldd complains unless libraries are executable
+  postinstall_cmds='chmod +x $lib'
+  ;;
+
+sunos4*)
+  version_type=sunos
+  library_names_spec='${libname}${release}.so$versuffix ${libname}.so$versuffix'
+  finish_cmds='PATH=&quot;\$PATH:/usr/etc&quot; ldconfig $libdir'
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=yes
+  if test &quot;$with_gnu_ld&quot; = yes; then
+    need_lib_prefix=no
+  fi
+  need_version=yes
+  ;;
+
+sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+  version_type=linux
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  shlibpath_var=LD_LIBRARY_PATH
+  case $host_vendor in
+    sni)
+      shlibpath_overrides_runpath=no
+      need_lib_prefix=no
+      export_dynamic_flag_spec='${wl}-Blargedynsym'
+      runpath_var=LD_RUN_PATH
+      ;;
+    siemens)
+      need_lib_prefix=no
+      ;;
+    motorola)
+      need_lib_prefix=no
+      need_version=no
+      shlibpath_overrides_runpath=no
+      sys_lib_search_path_spec='/lib /usr/lib /usr/ccs/lib'
+      ;;
+  esac
+  ;;
+
+uts4*)
+  version_type=linux
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  shlibpath_var=LD_LIBRARY_PATH
+  ;;
+
+dgux*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  shlibpath_var=LD_LIBRARY_PATH
+  ;;
+
+sysv4*MP*)
+  if test -d /usr/nec ;then
+    version_type=linux
+    library_names_spec='$libname.so.$versuffix $libname.so.$major $libname.so'
+    soname_spec='$libname.so.$major'
+    shlibpath_var=LD_LIBRARY_PATH
+  fi
+  ;;
+
+*)
+  dynamic_linker=no
+  ;;
+esac
+echo &quot;$as_me:$LINENO: result: $dynamic_linker&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$dynamic_linker&quot; &gt;&amp;6
+test &quot;$dynamic_linker&quot; = no &amp;&amp; can_build_shared=no
+
+# Report the final consequences.
+echo &quot;$as_me:$LINENO: checking if libtool supports shared libraries&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking if libtool supports shared libraries... $ECHO_C&quot; &gt;&amp;6
+echo &quot;$as_me:$LINENO: result: $can_build_shared&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$can_build_shared&quot; &gt;&amp;6
+
+echo &quot;$as_me:$LINENO: checking whether to build shared libraries&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether to build shared libraries... $ECHO_C&quot; &gt;&amp;6
+test &quot;$can_build_shared&quot; = &quot;no&quot; &amp;&amp; enable_shared=no
+
+# On AIX, shared libraries and static libraries use the same namespace, and
+# are all built from PIC.
+case &quot;$host_os&quot; in
+aix3*)
+  test &quot;$enable_shared&quot; = yes &amp;&amp; enable_static=no
+  if test -n &quot;$RANLIB&quot;; then
+    archive_cmds=&quot;$archive_cmds~\$RANLIB \$lib&quot;
+    postinstall_cmds='$RANLIB $lib'
+  fi
+  ;;
+
+aix4*)
+  if test &quot;$host_cpu&quot; != ia64 &amp;&amp; test &quot;$aix_use_runtimelinking&quot; = no ; then
+    test &quot;$enable_shared&quot; = yes &amp;&amp; enable_static=no
+  fi
+  ;;
+esac
+echo &quot;$as_me:$LINENO: result: $enable_shared&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$enable_shared&quot; &gt;&amp;6
+
+echo &quot;$as_me:$LINENO: checking whether to build static libraries&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether to build static libraries... $ECHO_C&quot; &gt;&amp;6
+# Make sure either enable_shared or enable_static is yes.
+test &quot;$enable_shared&quot; = yes || enable_static=yes
+echo &quot;$as_me:$LINENO: result: $enable_static&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$enable_static&quot; &gt;&amp;6
+
+if test &quot;$hardcode_action&quot; = relink; then
+  # Fast installation is not supported
+  enable_fast_install=no
+elif test &quot;$shlibpath_overrides_runpath&quot; = yes ||
+     test &quot;$enable_shared&quot; = no; then
+  # Fast installation is not necessary
+  enable_fast_install=needless
+fi
+
+variables_saved_for_relink=&quot;PATH $shlibpath_var $runpath_var&quot;
+if test &quot;$GCC&quot; = yes; then
+  variables_saved_for_relink=&quot;$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH&quot;
+fi
+
+if test &quot;x$enable_dlopen&quot; != xyes; then
+  enable_dlopen=unknown
+  enable_dlopen_self=unknown
+  enable_dlopen_self_static=unknown
+else
+  lt_cv_dlopen=no
+  lt_cv_dlopen_libs=
+
+  case $host_os in
+  beos*)
+    lt_cv_dlopen=&quot;load_add_on&quot;
+    lt_cv_dlopen_libs=
+    lt_cv_dlopen_self=yes
+    ;;
+
+  cygwin* | mingw* | pw32*)
+    lt_cv_dlopen=&quot;LoadLibrary&quot;
+    lt_cv_dlopen_libs=
+   ;;
+
+  *)
+    echo &quot;$as_me:$LINENO: checking for shl_load&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for shl_load... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_func_shl_load+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+/* Define shl_load to an innocuous variant, in case &lt;limits.h&gt; declares shl_load.
+   For example, HP-UX 11i &lt;limits.h&gt; declares gettimeofday.  */
+#define shl_load innocuous_shl_load
+
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char shl_load (); below.
+    Prefer &lt;limits.h&gt; to &lt;assert.h&gt; if __STDC__ is defined, since
+    &lt;limits.h&gt; exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include &lt;limits.h&gt;
+#else
+# include &lt;assert.h&gt;
+#endif
+
+#undef shl_load
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+{
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char shl_load ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined (__stub_shl_load) || defined (__stub___shl_load)
+choke me
+#else
+char (*f) () = shl_load;
+#endif
+#ifdef __cplusplus
+}
+#endif
+
+int
+main ()
+{
+return f != shl_load;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_func_shl_load=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_func_shl_load=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_func_shl_load&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_func_shl_load&quot; &gt;&amp;6
+if test $ac_cv_func_shl_load = yes; then
+  lt_cv_dlopen=&quot;shl_load&quot;
+else
+  echo &quot;$as_me:$LINENO: checking for shl_load in -ldld&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for shl_load in -ldld... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_lib_dld_shl_load+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-ldld  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char shl_load ();
+int
+main ()
+{
+shl_load ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_dld_shl_load=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_lib_dld_shl_load=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_lib_dld_shl_load&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_lib_dld_shl_load&quot; &gt;&amp;6
+if test $ac_cv_lib_dld_shl_load = yes; then
+  lt_cv_dlopen=&quot;shl_load&quot; lt_cv_dlopen_libs=&quot;-dld&quot;
+else
+  echo &quot;$as_me:$LINENO: checking for dlopen&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for dlopen... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_func_dlopen+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+/* Define dlopen to an innocuous variant, in case &lt;limits.h&gt; declares dlopen.
+   For example, HP-UX 11i &lt;limits.h&gt; declares gettimeofday.  */
+#define dlopen innocuous_dlopen
+
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char dlopen (); below.
+    Prefer &lt;limits.h&gt; to &lt;assert.h&gt; if __STDC__ is defined, since
+    &lt;limits.h&gt; exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include &lt;limits.h&gt;
+#else
+# include &lt;assert.h&gt;
+#endif
+
+#undef dlopen
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+{
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char dlopen ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined (__stub_dlopen) || defined (__stub___dlopen)
+choke me
+#else
+char (*f) () = dlopen;
+#endif
+#ifdef __cplusplus
+}
+#endif
+
+int
+main ()
+{
+return f != dlopen;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_func_dlopen=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_func_dlopen=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_func_dlopen&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_func_dlopen&quot; &gt;&amp;6
+if test $ac_cv_func_dlopen = yes; then
+  lt_cv_dlopen=&quot;dlopen&quot;
+else
+  echo &quot;$as_me:$LINENO: checking for dlopen in -ldl&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for dlopen in -ldl... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_lib_dl_dlopen+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-ldl  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char dlopen ();
+int
+main ()
+{
+dlopen ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_dl_dlopen=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_lib_dl_dlopen=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_lib_dl_dlopen&quot; &gt;&amp;6
+if test $ac_cv_lib_dl_dlopen = yes; then
+  lt_cv_dlopen=&quot;dlopen&quot; lt_cv_dlopen_libs=&quot;-ldl&quot;
+else
+  echo &quot;$as_me:$LINENO: checking for dlopen in -lsvld&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for dlopen in -lsvld... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_lib_svld_dlopen+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-lsvld  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char dlopen ();
+int
+main ()
+{
+dlopen ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_svld_dlopen=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_lib_svld_dlopen=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_lib_svld_dlopen&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_lib_svld_dlopen&quot; &gt;&amp;6
+if test $ac_cv_lib_svld_dlopen = yes; then
+  lt_cv_dlopen=&quot;dlopen&quot; lt_cv_dlopen_libs=&quot;-lsvld&quot;
+else
+  echo &quot;$as_me:$LINENO: checking for dld_link in -ldld&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for dld_link in -ldld... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_lib_dld_dld_link+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-ldld  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char dld_link ();
+int
+main ()
+{
+dld_link ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_dld_dld_link=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_lib_dld_dld_link=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_lib_dld_dld_link&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_lib_dld_dld_link&quot; &gt;&amp;6
+if test $ac_cv_lib_dld_dld_link = yes; then
+  lt_cv_dlopen=&quot;dld_link&quot; lt_cv_dlopen_libs=&quot;-dld&quot;
+fi
+
+
+fi
+
+
+fi
+
+
+fi
+
+
+fi
+
+
+fi
+
+    ;;
+  esac
+
+  if test &quot;x$lt_cv_dlopen&quot; != xno; then
+    enable_dlopen=yes
+  else
+    enable_dlopen=no
+  fi
+
+  case $lt_cv_dlopen in
+  dlopen)
+    save_CPPFLAGS=&quot;$CPPFLAGS&quot;
+        test &quot;x$ac_cv_header_dlfcn_h&quot; = xyes &amp;&amp; CPPFLAGS=&quot;$CPPFLAGS -DHAVE_DLFCN_H&quot;
+
+    save_LDFLAGS=&quot;$LDFLAGS&quot;
+    eval LDFLAGS=\&quot;\$LDFLAGS $export_dynamic_flag_spec\&quot;
+
+    save_LIBS=&quot;$LIBS&quot;
+    LIBS=&quot;$lt_cv_dlopen_libs $LIBS&quot;
+
+    echo &quot;$as_me:$LINENO: checking whether a program can dlopen itself&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether a program can dlopen itself... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_dlopen_self+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  	  if test &quot;$cross_compiling&quot; = yes; then :
+  lt_cv_dlopen_self=cross
+else
+    lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+  lt_status=$lt_dlunknown
+  cat &gt; conftest.$ac_ext &lt;&lt;EOF
+#line 7691 &quot;configure&quot;
+#include &quot;confdefs.h&quot;
+
+#if HAVE_DLFCN_H
+#include &lt;dlfcn.h&gt;
+#endif
+
+#include &lt;stdio.h&gt;
+
+#ifdef RTLD_GLOBAL
+#  define LT_DLGLOBAL		RTLD_GLOBAL
+#else
+#  ifdef DL_GLOBAL
+#    define LT_DLGLOBAL		DL_GLOBAL
+#  else
+#    define LT_DLGLOBAL		0
+#  endif
+#endif
+
+/* We may have to define LT_DLLAZY_OR_NOW in the command line if we
+   find out it does not work in some platform. */
+#ifndef LT_DLLAZY_OR_NOW
+#  ifdef RTLD_LAZY
+#    define LT_DLLAZY_OR_NOW		RTLD_LAZY
+#  else
+#    ifdef DL_LAZY
+#      define LT_DLLAZY_OR_NOW		DL_LAZY
+#    else
+#      ifdef RTLD_NOW
+#        define LT_DLLAZY_OR_NOW	RTLD_NOW
+#      else
+#        ifdef DL_NOW
+#          define LT_DLLAZY_OR_NOW	DL_NOW
+#        else
+#          define LT_DLLAZY_OR_NOW	0
+#        endif
+#      endif
+#    endif
+#  endif
+#endif
+
+#ifdef __cplusplus
+extern &quot;C&quot; void exit (int);
+#endif
+
+void fnord() { int i=42;}
+int main ()
+{
+  void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
+  int status = $lt_dlunknown;
+
+  if (self)
+    {
+      if (dlsym (self,&quot;fnord&quot;))       status = $lt_dlno_uscore;
+      else if (dlsym( self,&quot;_fnord&quot;)) status = $lt_dlneed_uscore;
+      /* dlclose (self); */
+    }
+
+    exit (status);
+}
+EOF
+  if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; test -s conftest${ac_exeext} 2&gt;/dev/null; then
+    (./conftest; exit; ) 2&gt;/dev/null
+    lt_status=$?
+    case x$lt_status in
+      x$lt_dlno_uscore) lt_cv_dlopen_self=yes ;;
+      x$lt_dlneed_uscore) lt_cv_dlopen_self=yes ;;
+      x$lt_unknown|x*) lt_cv_dlopen_self=no ;;
+    esac
+  else :
+    # compilation failed
+    lt_cv_dlopen_self=no
+  fi
+fi
+rm -fr conftest*
+
+
+fi
+echo &quot;$as_me:$LINENO: result: $lt_cv_dlopen_self&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$lt_cv_dlopen_self&quot; &gt;&amp;6
+
+    if test &quot;x$lt_cv_dlopen_self&quot; = xyes; then
+      LDFLAGS=&quot;$LDFLAGS $link_static_flag&quot;
+      echo &quot;$as_me:$LINENO: checking whether a statically linked program can dlopen itself&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether a statically linked program can dlopen itself... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${lt_cv_dlopen_self_static+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  	  if test &quot;$cross_compiling&quot; = yes; then :
+  lt_cv_dlopen_self_static=cross
+else
+    lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+  lt_status=$lt_dlunknown
+  cat &gt; conftest.$ac_ext &lt;&lt;EOF
+#line 7789 &quot;configure&quot;
+#include &quot;confdefs.h&quot;
+
+#if HAVE_DLFCN_H
+#include &lt;dlfcn.h&gt;
+#endif
+
+#include &lt;stdio.h&gt;
+
+#ifdef RTLD_GLOBAL
+#  define LT_DLGLOBAL		RTLD_GLOBAL
+#else
+#  ifdef DL_GLOBAL
+#    define LT_DLGLOBAL		DL_GLOBAL
+#  else
+#    define LT_DLGLOBAL		0
+#  endif
+#endif
+
+/* We may have to define LT_DLLAZY_OR_NOW in the command line if we
+   find out it does not work in some platform. */
+#ifndef LT_DLLAZY_OR_NOW
+#  ifdef RTLD_LAZY
+#    define LT_DLLAZY_OR_NOW		RTLD_LAZY
+#  else
+#    ifdef DL_LAZY
+#      define LT_DLLAZY_OR_NOW		DL_LAZY
+#    else
+#      ifdef RTLD_NOW
+#        define LT_DLLAZY_OR_NOW	RTLD_NOW
+#      else
+#        ifdef DL_NOW
+#          define LT_DLLAZY_OR_NOW	DL_NOW
+#        else
+#          define LT_DLLAZY_OR_NOW	0
+#        endif
+#      endif
+#    endif
+#  endif
+#endif
+
+#ifdef __cplusplus
+extern &quot;C&quot; void exit (int);
+#endif
+
+void fnord() { int i=42;}
+int main ()
+{
+  void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
+  int status = $lt_dlunknown;
+
+  if (self)
+    {
+      if (dlsym (self,&quot;fnord&quot;))       status = $lt_dlno_uscore;
+      else if (dlsym( self,&quot;_fnord&quot;)) status = $lt_dlneed_uscore;
+      /* dlclose (self); */
+    }
+
+    exit (status);
+}
+EOF
+  if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; test -s conftest${ac_exeext} 2&gt;/dev/null; then
+    (./conftest; exit; ) 2&gt;/dev/null
+    lt_status=$?
+    case x$lt_status in
+      x$lt_dlno_uscore) lt_cv_dlopen_self_static=yes ;;
+      x$lt_dlneed_uscore) lt_cv_dlopen_self_static=yes ;;
+      x$lt_unknown|x*) lt_cv_dlopen_self_static=no ;;
+    esac
+  else :
+    # compilation failed
+    lt_cv_dlopen_self_static=no
+  fi
+fi
+rm -fr conftest*
+
+
+fi
+echo &quot;$as_me:$LINENO: result: $lt_cv_dlopen_self_static&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$lt_cv_dlopen_self_static&quot; &gt;&amp;6
+    fi
+
+    CPPFLAGS=&quot;$save_CPPFLAGS&quot;
+    LDFLAGS=&quot;$save_LDFLAGS&quot;
+    LIBS=&quot;$save_LIBS&quot;
+    ;;
+  esac
+
+  case $lt_cv_dlopen_self in
+  yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
+  *) enable_dlopen_self=unknown ;;
+  esac
+
+  case $lt_cv_dlopen_self_static in
+  yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
+  *) enable_dlopen_self_static=unknown ;;
+  esac
+fi
+
+
+if test &quot;$enable_shared&quot; = yes &amp;&amp; test &quot;$GCC&quot; = yes; then
+  case $archive_cmds in
+  *'~'*)
+    # FIXME: we may have to deal with multi-command sequences.
+    ;;
+  '$CC '*)
+    # Test whether the compiler implicitly links with -lc since on some
+    # systems, -lgcc has to come before -lc. If gcc already passes -lc
+    # to ld, don't add -lc before -lgcc.
+    echo &quot;$as_me:$LINENO: checking whether -lc should be explicitly linked in&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking whether -lc should be explicitly linked in... $ECHO_C&quot; &gt;&amp;6
+    if test &quot;${lt_cv_archive_cmds_need_lc+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  $rm conftest*
+    echo 'static int dummy;' &gt; conftest.$ac_ext
+
+    if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; then
+      soname=conftest
+      lib=conftest
+      libobjs=conftest.$ac_objext
+      deplibs=
+      wl=$lt_cv_prog_cc_wl
+      compiler_flags=-v
+      linker_flags=-v
+      verstring=
+      output_objdir=.
+      libname=conftest
+      save_allow_undefined_flag=$allow_undefined_flag
+      allow_undefined_flag=
+      if { (eval echo &quot;$as_me:$LINENO: \&quot;$archive_cmds 2\&gt;\&amp;1 \| grep \&quot; -lc \&quot; \&gt;/dev/null 2\&gt;\&amp;1\&quot;&quot;) &gt;&amp;5
+  (eval $archive_cmds 2\&gt;\&amp;1 \| grep \&quot; -lc \&quot; \&gt;/dev/null 2\&gt;\&amp;1) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }
+      then
+	lt_cv_archive_cmds_need_lc=no
+      else
+	lt_cv_archive_cmds_need_lc=yes
+      fi
+      allow_undefined_flag=$save_allow_undefined_flag
+    else
+      cat conftest.err 1&gt;&amp;5
+    fi
+fi
+
+    echo &quot;$as_me:$LINENO: result: $lt_cv_archive_cmds_need_lc&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$lt_cv_archive_cmds_need_lc&quot; &gt;&amp;6
+    ;;
+  esac
+fi
+need_lc=${lt_cv_archive_cmds_need_lc-yes}
+
+# The second clause should only fire when bootstrapping the
+# libtool distribution, otherwise you forgot to ship ltmain.sh
+# with your package, and you will get complaints that there are
+# no rules to generate ltmain.sh.
+if test -f &quot;$ltmain&quot;; then
+  :
+else
+  # If there is no Makefile yet, we rely on a make rule to execute
+  # `config.status --recheck' to rerun these tests and create the
+  # libtool script then.
+  test -f Makefile &amp;&amp; make &quot;$ltmain&quot;
+fi
+
+if test -f &quot;$ltmain&quot;; then
+  trap &quot;$rm \&quot;${ofile}T\&quot;; exit 1&quot; 1 2 15
+  $rm -f &quot;${ofile}T&quot;
+
+  echo creating $ofile
+
+  # Now quote all the things that may contain metacharacters while being
+  # careful not to overquote the AC_SUBSTed values.  We take copies of the
+  # variables and quote the copies for generation of the libtool script.
+  for var in echo old_CC old_CFLAGS SED \
+    AR AR_FLAGS CC LD LN_S NM SHELL \
+    reload_flag reload_cmds wl \
+    pic_flag link_static_flag no_builtin_flag export_dynamic_flag_spec \
+    thread_safe_flag_spec whole_archive_flag_spec libname_spec \
+    library_names_spec soname_spec \
+    RANLIB old_archive_cmds old_archive_from_new_cmds old_postinstall_cmds \
+    old_postuninstall_cmds archive_cmds archive_expsym_cmds postinstall_cmds \
+    postuninstall_cmds extract_expsyms_cmds old_archive_from_expsyms_cmds \
+    old_striplib striplib file_magic_cmd export_symbols_cmds \
+    deplibs_check_method allow_undefined_flag no_undefined_flag \
+    finish_cmds finish_eval global_symbol_pipe global_symbol_to_cdecl \
+    global_symbol_to_c_name_address \
+    hardcode_libdir_flag_spec hardcode_libdir_separator  \
+    sys_lib_search_path_spec sys_lib_dlsearch_path_spec \
+    compiler_c_o compiler_o_lo need_locks exclude_expsyms include_expsyms; do
+
+    case $var in
+    reload_cmds | old_archive_cmds | old_archive_from_new_cmds | \
+    old_postinstall_cmds | old_postuninstall_cmds | \
+    export_symbols_cmds | archive_cmds | archive_expsym_cmds | \
+    extract_expsyms_cmds | old_archive_from_expsyms_cmds | \
+    postinstall_cmds | postuninstall_cmds | \
+    finish_cmds | sys_lib_search_path_spec | sys_lib_dlsearch_path_spec)
+      # Double-quote double-evaled strings.
+      eval &quot;lt_$var=\\\&quot;\`\$echo \&quot;X\$$var\&quot; | \$Xsed -e \&quot;\$double_quote_subst\&quot; -e \&quot;\$sed_quote_subst\&quot; -e \&quot;\$delay_variable_subst\&quot;\`\\\&quot;&quot;
+      ;;
+    *)
+      eval &quot;lt_$var=\\\&quot;\`\$echo \&quot;X\$$var\&quot; | \$Xsed -e \&quot;\$sed_quote_subst\&quot;\`\\\&quot;&quot;
+      ;;
+    esac
+  done
+
+  cat &lt;&lt;__EOF__ &gt; &quot;${ofile}T&quot;
+#! $SHELL
+
+# `$echo &quot;$ofile&quot; | sed 's%^.*/%%'` - Provide generalized library-building support services.
+# Generated automatically by $PROGRAM (GNU $PACKAGE $VERSION$TIMESTAMP)
+# NOTE: Changes made to this file will be lost: look at ltmain.sh.
+#
+# Copyright (C) 1996-2000 Free Software Foundation, Inc.
+# Originally by Gordon Matzigkeit &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">gord at gnu.ai.mit.edu</A>&gt;, 1996
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful, but
+# WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+# General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+#
+# As a special exception to the GNU General Public License, if you
+# distribute this file as part of a program that contains a
+# configuration script generated by Autoconf, you may include it under
+# the same distribution terms that you use for the rest of that program.
+
+# A sed that does not truncate output.
+SED=$lt_SED
+
+# Sed that helps us avoid accidentally triggering echo(1) options like -n.
+Xsed=&quot;${SED} -e s/^X//&quot;
+
+# The HP-UX ksh and POSIX shell print the target directory to stdout
+# if CDPATH is set.
+if test &quot;X\${CDPATH+set}&quot; = Xset; then CDPATH=:; export CDPATH; fi
+
+# ### BEGIN LIBTOOL CONFIG
+
+# Libtool was configured on host `(hostname || uname -n) 2&gt;/dev/null | sed 1q`:
+
+# Shell to use when invoking shell scripts.
+SHELL=$lt_SHELL
+
+# Whether or not to build shared libraries.
+build_libtool_libs=$enable_shared
+
+# Whether or not to build static libraries.
+build_old_libs=$enable_static
+
+# Whether or not to add -lc for building shared libraries.
+build_libtool_need_lc=$need_lc
+
+# Whether or not to optimize for fast installation.
+fast_install=$enable_fast_install
+
+# The host system.
+host_alias=$host_alias
+host=$host
+
+# An echo program that does not interpret backslashes.
+echo=$lt_echo
+
+# The archiver.
+AR=$lt_AR
+AR_FLAGS=$lt_AR_FLAGS
+
+# The default C compiler.
+CC=$lt_CC
+
+# Is the compiler the GNU C compiler?
+with_gcc=$GCC
+
+# The linker used to build libraries.
+LD=$lt_LD
+
+# Whether we need hard or soft links.
+LN_S=$lt_LN_S
+
+# A BSD-compatible nm program.
+NM=$lt_NM
+
+# A symbol stripping program
+STRIP=$STRIP
+
+# Used to examine libraries when file_magic_cmd begins &quot;file&quot;
+MAGIC_CMD=$MAGIC_CMD
+
+# Used on cygwin: DLL creation program.
+DLLTOOL=&quot;$DLLTOOL&quot;
+
+# Used on cygwin: object dumper.
+OBJDUMP=&quot;$OBJDUMP&quot;
+
+# Used on cygwin: assembler.
+AS=&quot;$AS&quot;
+
+# The name of the directory that contains temporary libtool files.
+objdir=$objdir
+
+# How to create reloadable object files.
+reload_flag=$lt_reload_flag
+reload_cmds=$lt_reload_cmds
+
+# How to pass a linker flag through the compiler.
+wl=$lt_wl
+
+# Object file suffix (normally &quot;o&quot;).
+objext=&quot;$ac_objext&quot;
+
+# Old archive suffix (normally &quot;a&quot;).
+libext=&quot;$libext&quot;
+
+# Executable file suffix (normally &quot;&quot;).
+exeext=&quot;$exeext&quot;
+
+# Additional compiler flags for building library objects.
+pic_flag=$lt_pic_flag
+pic_mode=$pic_mode
+
+# Does compiler simultaneously support -c and -o options?
+compiler_c_o=$lt_compiler_c_o
+
+# Can we write directly to a .lo ?
+compiler_o_lo=$lt_compiler_o_lo
+
+# Must we lock files when doing compilation ?
+need_locks=$lt_need_locks
+
+# Do we need the lib prefix for modules?
+need_lib_prefix=$need_lib_prefix
+
+# Do we need a version for libraries?
+need_version=$need_version
+
+# Whether dlopen is supported.
+dlopen_support=$enable_dlopen
+
+# Whether dlopen of programs is supported.
+dlopen_self=$enable_dlopen_self
+
+# Whether dlopen of statically linked programs is supported.
+dlopen_self_static=$enable_dlopen_self_static
+
+# Compiler flag to prevent dynamic linking.
+link_static_flag=$lt_link_static_flag
+
+# Compiler flag to turn off builtin functions.
+no_builtin_flag=$lt_no_builtin_flag
+
+# Compiler flag to allow reflexive dlopens.
+export_dynamic_flag_spec=$lt_export_dynamic_flag_spec
+
+# Compiler flag to generate shared objects directly from archives.
+whole_archive_flag_spec=$lt_whole_archive_flag_spec
+
+# Compiler flag to generate thread-safe objects.
+thread_safe_flag_spec=$lt_thread_safe_flag_spec
+
+# Library versioning type.
+version_type=$version_type
+
+# Format of library name prefix.
+libname_spec=$lt_libname_spec
+
+# List of archive names.  First name is the real one, the rest are links.
+# The last name is the one that the linker finds with -lNAME.
+library_names_spec=$lt_library_names_spec
+
+# The coded name of the library, if different from the real name.
+soname_spec=$lt_soname_spec
+
+# Commands used to build and install an old-style archive.
+RANLIB=$lt_RANLIB
+old_archive_cmds=$lt_old_archive_cmds
+old_postinstall_cmds=$lt_old_postinstall_cmds
+old_postuninstall_cmds=$lt_old_postuninstall_cmds
+
+# Create an old-style archive from a shared archive.
+old_archive_from_new_cmds=$lt_old_archive_from_new_cmds
+
+# Create a temporary old-style archive to link instead of a shared archive.
+old_archive_from_expsyms_cmds=$lt_old_archive_from_expsyms_cmds
+
+# Commands used to build and install a shared archive.
+archive_cmds=$lt_archive_cmds
+archive_expsym_cmds=$lt_archive_expsym_cmds
+postinstall_cmds=$lt_postinstall_cmds
+postuninstall_cmds=$lt_postuninstall_cmds
+
+# Commands to strip libraries.
+old_striplib=$lt_old_striplib
+striplib=$lt_striplib
+
+# Method to check whether dependent libraries are shared objects.
+deplibs_check_method=$lt_deplibs_check_method
+
+# Command to use when deplibs_check_method == file_magic.
+file_magic_cmd=$lt_file_magic_cmd
+
+# Flag that allows shared libraries with undefined symbols to be built.
+allow_undefined_flag=$lt_allow_undefined_flag
+
+# Flag that forces no undefined symbols.
+no_undefined_flag=$lt_no_undefined_flag
+
+# Commands used to finish a libtool library installation in a directory.
+finish_cmds=$lt_finish_cmds
+
+# Same as above, but a single script fragment to be evaled but not shown.
+finish_eval=$lt_finish_eval
+
+# Take the output of nm and produce a listing of raw symbols and C names.
+global_symbol_pipe=$lt_global_symbol_pipe
+
+# Transform the output of nm in a proper C declaration
+global_symbol_to_cdecl=$lt_global_symbol_to_cdecl
+
+# Transform the output of nm in a C name address pair
+global_symbol_to_c_name_address=$lt_global_symbol_to_c_name_address
+
+# This is the shared library runtime path variable.
+runpath_var=$runpath_var
+
+# This is the shared library path variable.
+shlibpath_var=$shlibpath_var
+
+# Is shlibpath searched before the hard-coded library search path?
+shlibpath_overrides_runpath=$shlibpath_overrides_runpath
+
+# How to hardcode a shared library path into an executable.
+hardcode_action=$hardcode_action
+
+# Whether we should hardcode library paths into libraries.
+hardcode_into_libs=$hardcode_into_libs
+
+# Flag to hardcode \$libdir into a binary during linking.
+# This must work even if \$libdir does not exist.
+hardcode_libdir_flag_spec=$lt_hardcode_libdir_flag_spec
+
+# Whether we need a single -rpath flag with a separated argument.
+hardcode_libdir_separator=$lt_hardcode_libdir_separator
+
+# Set to yes if using DIR/libNAME.so during linking hardcodes DIR into the
+# resulting binary.
+hardcode_direct=$hardcode_direct
+
+# Set to yes if using the -LDIR flag during linking hardcodes DIR into the
+# resulting binary.
+hardcode_minus_L=$hardcode_minus_L
+
+# Set to yes if using SHLIBPATH_VAR=DIR during linking hardcodes DIR into
+# the resulting binary.
+hardcode_shlibpath_var=$hardcode_shlibpath_var
+
+# Variables whose values should be saved in libtool wrapper scripts and
+# restored at relink time.
+variables_saved_for_relink=&quot;$variables_saved_for_relink&quot;
+
+# Whether libtool must link a program against all its dependency libraries.
+link_all_deplibs=$link_all_deplibs
+
+# Compile-time system search path for libraries
+sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
+
+# Run-time system search path for libraries
+sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+
+# Fix the shell variable \$srcfile for the compiler.
+fix_srcfile_path=&quot;$fix_srcfile_path&quot;
+
+# Set to yes if exported symbols are required.
+always_export_symbols=$always_export_symbols
+
+# The commands to list exported symbols.
+export_symbols_cmds=$lt_export_symbols_cmds
+
+# The commands to extract the exported symbol list from a shared archive.
+extract_expsyms_cmds=$lt_extract_expsyms_cmds
+
+# Symbols that should not be listed in the preloaded symbols.
+exclude_expsyms=$lt_exclude_expsyms
+
+# Symbols that must always be exported.
+include_expsyms=$lt_include_expsyms
+
+# ### END LIBTOOL CONFIG
+
+__EOF__
+
+  case $host_os in
+  aix3*)
+    cat &lt;&lt;\EOF &gt;&gt; &quot;${ofile}T&quot;
+
+# AIX sometimes has problems with the GCC collect2 program.  For some
+# reason, if we set the COLLECT_NAMES environment variable, the problems
+# vanish in a puff of smoke.
+if test &quot;X${COLLECT_NAMES+set}&quot; != Xset; then
+  COLLECT_NAMES=
+  export COLLECT_NAMES
+fi
+EOF
+    ;;
+  esac
+
+  case $host_os in
+  cygwin* | mingw* | pw32* | os2*)
+    cat &lt;&lt;'EOF' &gt;&gt; &quot;${ofile}T&quot;
+      # This is a source program that is used to create dlls on Windows
+      # Don't remove nor modify the starting and closing comments
+# /* ltdll.c starts here */
+# #define WIN32_LEAN_AND_MEAN
+# #include &lt;windows.h&gt;
+# #undef WIN32_LEAN_AND_MEAN
+# #include &lt;stdio.h&gt;
+#
+# #ifndef __CYGWIN__
+# #  ifdef __CYGWIN32__
+# #    define __CYGWIN__ __CYGWIN32__
+# #  endif
+# #endif
+#
+# #ifdef __cplusplus
+# extern &quot;C&quot; {
+# #endif
+# BOOL APIENTRY DllMain (HINSTANCE hInst, DWORD reason, LPVOID reserved);
+# #ifdef __cplusplus
+# }
+# #endif
+#
+# #ifdef __CYGWIN__
+# #include &lt;cygwin/cygwin_dll.h&gt;
+# DECLARE_CYGWIN_DLL( DllMain );
+# #endif
+# HINSTANCE __hDllInstance_base;
+#
+# BOOL APIENTRY
+# DllMain (HINSTANCE hInst, DWORD reason, LPVOID reserved)
+# {
+#   __hDllInstance_base = hInst;
+#   return TRUE;
+# }
+# /* ltdll.c ends here */
+	# This is a source program that is used to create import libraries
+	# on Windows for dlls which lack them. Don't remove nor modify the
+	# starting and closing comments
+# /* impgen.c starts here */
+# /*   Copyright (C) 1999-2000 Free Software Foundation, Inc.
+#
+#  This file is part of GNU libtool.
+#
+#  This program is free software; you can redistribute it and/or modify
+#  it under the terms of the GNU General Public License as published by
+#  the Free Software Foundation; either version 2 of the License, or
+#  (at your option) any later version.
+#
+#  This program is distributed in the hope that it will be useful,
+#  but WITHOUT ANY WARRANTY; without even the implied warranty of
+#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+#  GNU General Public License for more details.
+#
+#  You should have received a copy of the GNU General Public License
+#  along with this program; if not, write to the Free Software
+#  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+#  */
+#
+# #include &lt;stdio.h&gt;		/* for printf() */
+# #include &lt;unistd.h&gt;		/* for open(), lseek(), read() */
+# #include &lt;fcntl.h&gt;		/* for O_RDONLY, O_BINARY */
+# #include &lt;string.h&gt;		/* for strdup() */
+#
+# /* O_BINARY isn't required (or even defined sometimes) under Unix */
+# #ifndef O_BINARY
+# #define O_BINARY 0
+# #endif
+#
+# static unsigned int
+# pe_get16 (fd, offset)
+#      int fd;
+#      int offset;
+# {
+#   unsigned char b[2];
+#   lseek (fd, offset, SEEK_SET);
+#   read (fd, b, 2);
+#   return b[0] + (b[1]&lt;&lt;8);
+# }
+#
+# static unsigned int
+# pe_get32 (fd, offset)
+#     int fd;
+#     int offset;
+# {
+#   unsigned char b[4];
+#   lseek (fd, offset, SEEK_SET);
+#   read (fd, b, 4);
+#   return b[0] + (b[1]&lt;&lt;8) + (b[2]&lt;&lt;16) + (b[3]&lt;&lt;24);
+# }
+#
+# static unsigned int
+# pe_as32 (ptr)
+#      void *ptr;
+# {
+#   unsigned char *b = ptr;
+#   return b[0] + (b[1]&lt;&lt;8) + (b[2]&lt;&lt;16) + (b[3]&lt;&lt;24);
+# }
+#
+# int
+# main (argc, argv)
+#     int argc;
+#     char *argv[];
+# {
+#     int dll;
+#     unsigned long pe_header_offset, opthdr_ofs, num_entries, i;
+#     unsigned long export_rva, export_size, nsections, secptr, expptr;
+#     unsigned long name_rvas, nexp;
+#     unsigned char *expdata, *erva;
+#     char *filename, *dll_name;
+#
+#     filename = argv[1];
+#
+#     dll = open(filename, O_RDONLY|O_BINARY);
+#     if (dll &lt; 1)
+# 	return 1;
+#
+#     dll_name = filename;
+#
+#     for (i=0; filename[i]; i++)
+# 	if (filename[i] == '/' || filename[i] == '\\'  || filename[i] == ':')
+# 	    dll_name = filename + i +1;
+#
+#     pe_header_offset = pe_get32 (dll, 0x3c);
+#     opthdr_ofs = pe_header_offset + 4 + 20;
+#     num_entries = pe_get32 (dll, opthdr_ofs + 92);
+#
+#     if (num_entries &lt; 1) /* no exports */
+# 	return 1;
+#
+#     export_rva = pe_get32 (dll, opthdr_ofs + 96);
+#     export_size = pe_get32 (dll, opthdr_ofs + 100);
+#     nsections = pe_get16 (dll, pe_header_offset + 4 +2);
+#     secptr = (pe_header_offset + 4 + 20 +
+# 	      pe_get16 (dll, pe_header_offset + 4 + 16));
+#
+#     expptr = 0;
+#     for (i = 0; i &lt; nsections; i++)
+#     {
+# 	char sname[8];
+# 	unsigned long secptr1 = secptr + 40 * i;
+# 	unsigned long vaddr = pe_get32 (dll, secptr1 + 12);
+# 	unsigned long vsize = pe_get32 (dll, secptr1 + 16);
+# 	unsigned long fptr = pe_get32 (dll, secptr1 + 20);
+# 	lseek(dll, secptr1, SEEK_SET);
+# 	read(dll, sname, 8);
+# 	if (vaddr &lt;= export_rva &amp;&amp; vaddr+vsize &gt; export_rva)
+# 	{
+# 	    expptr = fptr + (export_rva - vaddr);
+# 	    if (export_rva + export_size &gt; vaddr + vsize)
+# 		export_size = vsize - (export_rva - vaddr);
+# 	    break;
+# 	}
+#     }
+#
+#     expdata = (unsigned char*)malloc(export_size);
+#     lseek (dll, expptr, SEEK_SET);
+#     read (dll, expdata, export_size);
+#     erva = expdata - export_rva;
+#
+#     nexp = pe_as32 (expdata+24);
+#     name_rvas = pe_as32 (expdata+32);
+#
+#     printf (&quot;EXPORTS\n&quot;);
+#     for (i = 0; i&lt;nexp; i++)
+#     {
+# 	unsigned long name_rva = pe_as32 (erva+name_rvas+i*4);
+# 	printf (&quot;\t%s @ %ld ;\n&quot;, erva+name_rva, 1+ i);
+#     }
+#
+#     return 0;
+# }
+# /* impgen.c ends here */
+
+EOF
+    ;;
+  esac
+
+  # We use sed instead of cat because bash on DJGPP gets confused if
+  # if finds mixed CR/LF and LF-only lines.  Since sed operates in
+  # text mode, it properly converts lines to CR/LF.  This bash problem
+  # is reportedly fixed, but why not run on old versions too?
+  sed '$q' &quot;$ltmain&quot; &gt;&gt; &quot;${ofile}T&quot; || (rm -f &quot;${ofile}T&quot;; exit 1)
+
+  mv -f &quot;${ofile}T&quot; &quot;$ofile&quot; || \
+    (rm -f &quot;$ofile&quot; &amp;&amp; cp &quot;${ofile}T&quot; &quot;$ofile&quot; &amp;&amp; rm -f &quot;${ofile}T&quot;)
+  chmod +x &quot;$ofile&quot;
+fi
+
+
+
+
+
+# This can be used to rebuild libtool when needed
+LIBTOOL_DEPS=&quot;$ac_aux_dir/ltmain.sh&quot;
+
+# Always use our own libtool.
+LIBTOOL='$(SHELL) $(top_builddir)/libtool'
+
+# Prevent multiple expansion
+
+
+
+echo &quot;$as_me:$LINENO: checking for ANSI C header files&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for ANSI C header files... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_header_stdc+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;stdlib.h&gt;
+#include &lt;stdarg.h&gt;
+#include &lt;string.h&gt;
+#include &lt;float.h&gt;
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_header_stdc=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_header_stdc=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+if test $ac_cv_header_stdc = yes; then
+  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;string.h&gt;
+
+_ACEOF
+if (eval &quot;$ac_cpp conftest.$ac_ext&quot;) 2&gt;&amp;5 |
+  $EGREP &quot;memchr&quot; &gt;/dev/null 2&gt;&amp;1; then
+  :
+else
+  ac_cv_header_stdc=no
+fi
+rm -f conftest*
+
+fi
+
+if test $ac_cv_header_stdc = yes; then
+  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;stdlib.h&gt;
+
+_ACEOF
+if (eval &quot;$ac_cpp conftest.$ac_ext&quot;) 2&gt;&amp;5 |
+  $EGREP &quot;free&quot; &gt;/dev/null 2&gt;&amp;1; then
+  :
+else
+  ac_cv_header_stdc=no
+fi
+rm -f conftest*
+
+fi
+
+if test $ac_cv_header_stdc = yes; then
+  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
+  if test &quot;$cross_compiling&quot; = yes; then
+  :
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+#include &lt;ctype.h&gt;
+#if ((' ' &amp; 0x0FF) == 0x020)
+# define ISLOWER(c) ('a' &lt;= (c) &amp;&amp; (c) &lt;= 'z')
+# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
+#else
+# define ISLOWER(c) \
+		   (('a' &lt;= (c) &amp;&amp; (c) &lt;= 'i') \
+		     || ('j' &lt;= (c) &amp;&amp; (c) &lt;= 'r') \
+		     || ('s' &lt;= (c) &amp;&amp; (c) &lt;= 'z'))
+# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
+#endif
+
+#define XOR(e, f) (((e) &amp;&amp; !(f)) || (!(e) &amp;&amp; (f)))
+int
+main ()
+{
+  int i;
+  for (i = 0; i &lt; 256; i++)
+    if (XOR (islower (i), ISLOWER (i))
+	|| toupper (i) != TOUPPER (i))
+      exit(2);
+  exit (0);
+}
+_ACEOF
+rm -f conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp; { ac_try='./conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  :
+else
+  echo &quot;$as_me: program exited with status $ac_status&quot; &gt;&amp;5
+echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+( exit $ac_status )
+ac_cv_header_stdc=no
+fi
+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+fi
+fi
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_header_stdc&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_header_stdc&quot; &gt;&amp;6
+if test $ac_cv_header_stdc = yes; then
+
+cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
+#define STDC_HEADERS 1
+_ACEOF
+
+fi
+
+echo &quot;$as_me:$LINENO: checking for an ANSI C-conforming const&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for an ANSI C-conforming const... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_c_const+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+/* FIXME: Include the comments suggested by Paul. */
+#ifndef __cplusplus
+  /* Ultrix mips cc rejects this.  */
+  typedef int charset[2];
+  const charset x;
+  /* SunOS 4.1.1 cc rejects this.  */
+  char const *const *ccp;
+  char **p;
+  /* NEC SVR4.0.2 mips cc rejects this.  */
+  struct point {int x, y;};
+  static struct point const zero = {0,0};
+  /* AIX XL C 1.02.0.0 rejects this.
+     It does not let you subtract one const X* pointer from another in
+     an arm of an if-expression whose if-part is not a constant
+     expression */
+  const char *g = &quot;string&quot;;
+  ccp = &amp;g + (g ? g-g : 0);
+  /* HPUX 7.0 cc rejects these. */
+  ++ccp;
+  p = (char**) ccp;
+  ccp = (char const *const *) p;
+  { /* SCO 3.2v4 cc rejects this.  */
+    char *t;
+    char const *s = 0 ? (char *) 0 : (char const *) 0;
+
+    *t++ = 0;
+  }
+  { /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */
+    int x[] = {25, 17};
+    const int *foo = &amp;x[0];
+    ++foo;
+  }
+  { /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */
+    typedef const int *iptr;
+    iptr p = 0;
+    ++p;
+  }
+  { /* AIX XL C 1.02.0.0 rejects this saying
+       &quot;k.c&quot;, line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */
+    struct s { int j; const int *ap[3]; };
+    struct s *b; b-&gt;j = 5;
+  }
+  { /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
+    const int foo = 10;
+  }
+#endif
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+  (eval $ac_compile) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest.$ac_objext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_c_const=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_c_const=no
+fi
+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_c_const&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_c_const&quot; &gt;&amp;6
+if test $ac_cv_c_const = no; then
+
+cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
+#define const
+_ACEOF
+
+fi
+
+
+for ac_func in strdup
+do
+as_ac_var=`echo &quot;ac_cv_func_$ac_func&quot; | $as_tr_sh`
+echo &quot;$as_me:$LINENO: checking for $ac_func&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for $ac_func... $ECHO_C&quot; &gt;&amp;6
+if eval &quot;test \&quot;\${$as_ac_var+set}\&quot; = set&quot;; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case &lt;limits.h&gt; declares $ac_func.
+   For example, HP-UX 11i &lt;limits.h&gt; declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char $ac_func (); below.
+    Prefer &lt;limits.h&gt; to &lt;assert.h&gt; if __STDC__ is defined, since
+    &lt;limits.h&gt; exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include &lt;limits.h&gt;
+#else
+# include &lt;assert.h&gt;
+#endif
+
+#undef $ac_func
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+{
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char $ac_func ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
+choke me
+#else
+char (*f) () = $ac_func;
+#endif
+#ifdef __cplusplus
+}
+#endif
+
+int
+main ()
+{
+return f != $ac_func;
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  eval &quot;$as_ac_var=yes&quot;
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+eval &quot;$as_ac_var=no&quot;
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+echo &quot;$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`&quot; &gt;&amp;5
+echo &quot;${ECHO_T}`eval echo '${'$as_ac_var'}'`&quot; &gt;&amp;6
+if test `eval echo '${'$as_ac_var'}'` = yes; then
+  cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define `echo &quot;HAVE_$ac_func&quot; | $as_tr_cpp` 1
+_ACEOF
+
+fi
+done
+
+echo &quot;$as_me:$LINENO: checking for dlopen in -ldl&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for dlopen in -ldl... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_lib_dl_dlopen+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-ldl  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char dlopen ();
+int
+main ()
+{
+dlopen ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_dl_dlopen=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_lib_dl_dlopen=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_lib_dl_dlopen&quot; &gt;&amp;6
+if test $ac_cv_lib_dl_dlopen = yes; then
+  CXXFLAGS=&quot;$CXXFLAGS -ldl&quot;
+fi
+
+
+echo &quot;$as_me:$LINENO: checking for pow in -lm&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for pow in -lm... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_lib_m_pow+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-lm  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char pow ();
+int
+main ()
+{
+pow ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_m_pow=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_lib_m_pow=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_lib_m_pow&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_lib_m_pow&quot; &gt;&amp;6
+if test $ac_cv_lib_m_pow = yes; then
+  cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define HAVE_LIBM 1
+_ACEOF
+
+  LIBS=&quot;-lm $LIBS&quot;
+
+else
+  { { echo &quot;$as_me:$LINENO: error: libm was not found.&quot; &gt;&amp;5
+echo &quot;$as_me: error: libm was not found.&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+
+
+echo &quot;$as_me:$LINENO: checking for gzopen in -lz&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for gzopen in -lz... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_lib_z_gzopen+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-lz  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char gzopen ();
+int
+main ()
+{
+gzopen ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_z_gzopen=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_lib_z_gzopen=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_lib_z_gzopen&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_lib_z_gzopen&quot; &gt;&amp;6
+if test $ac_cv_lib_z_gzopen = yes; then
+  cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define HAVE_LIBZ 1
+_ACEOF
+
+  LIBS=&quot;-lz $LIBS&quot;
+
+else
+  { { echo &quot;$as_me:$LINENO: error: zlib was not found.&quot; &gt;&amp;5
+echo &quot;$as_me: error: zlib was not found.&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+
+
+echo &quot;$as_me:$LINENO: checking for ilInit in -lIL&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for ilInit in -lIL... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_lib_IL_ilInit+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-lIL  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char ilInit ();
+int
+main ()
+{
+ilInit ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_IL_ilInit=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_lib_IL_ilInit=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_lib_IL_ilInit&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_lib_IL_ilInit&quot; &gt;&amp;6
+if test $ac_cv_lib_IL_ilInit = yes; then
+  cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define HAVE_LIBIL 1
+_ACEOF
+
+  LIBS=&quot;-lIL $LIBS&quot;
+
+else
+  { { echo &quot;$as_me:$LINENO: error:
+****************************************************************
+* You do not have DevIL installed.  This is required to build. *
+* You may find it at <A HREF="http://openil.sourceforge.net/.">http://openil.sourceforge.net/.</A>           *
+****************************************************************&quot; &gt;&amp;5
+echo &quot;$as_me: error:
+****************************************************************
+* You do not have DevIL installed.  This is required to build. *
+* You may find it at <A HREF="http://openil.sourceforge.net/.">http://openil.sourceforge.net/.</A>           *
+****************************************************************&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+
+
+echo &quot;$as_me:$LINENO: checking for iluFlipImage in -lILU&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for iluFlipImage in -lILU... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_lib_ILU_iluFlipImage+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-lILU  $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+/* Override any gcc2 internal prototype to avoid an error.  */
+#ifdef __cplusplus
+extern &quot;C&quot;
+#endif
+/* We use char because int might match the return type of a gcc2
+   builtin and then its argument prototype would still apply.  */
+char iluFlipImage ();
+int
+main ()
+{
+iluFlipImage ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_ILU_iluFlipImage=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_lib_ILU_iluFlipImage=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_lib_ILU_iluFlipImage&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_lib_ILU_iluFlipImage&quot; &gt;&amp;6
+if test $ac_cv_lib_ILU_iluFlipImage = yes; then
+  cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define HAVE_LIBILU 1
+_ACEOF
+
+  LIBS=&quot;-lILU $LIBS&quot;
+
+else
+  { { echo &quot;$as_me:$LINENO: error: libILU was not found.&quot; &gt;&amp;5
+echo &quot;$as_me: error: libILU was not found.&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+
+
+echo &quot;$as_me:$LINENO: checking for main in -lxerces-c&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for main in -lxerces-c... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${ac_cv_lib_xerces_c_main+set}&quot; = set; then
+  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS=&quot;-lxerces-c -lpthread $LIBS&quot;
+cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h &gt;&gt;conftest.$ac_ext
+cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+/* end confdefs.h.  */
+
+
+int
+main ()
+{
+main ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_link\&quot;&quot;) &gt;&amp;5
+  (eval $ac_link) 2&gt;conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 &gt;conftest.err
+  rm -f conftest.er1
+  cat conftest.err &gt;&amp;5
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); } &amp;&amp;
+	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+			 || test ! -s conftest.err'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; } &amp;&amp;
+	 { ac_try='test -s conftest$ac_exeext'
+  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+  (eval $ac_try) 2&gt;&amp;5
+  ac_status=$?
+  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_xerces_c_main=yes
+else
+  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+
+ac_cv_lib_xerces_c_main=no
+fi
+rm -f conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+echo &quot;$as_me:$LINENO: result: $ac_cv_lib_xerces_c_main&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$ac_cv_lib_xerces_c_main&quot; &gt;&amp;6
+if test $ac_cv_lib_xerces_c_main = yes; then
+  cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
+#define HAVE_LIBXERCES_C 1
+_ACEOF
+
+  LIBS=&quot;-lxerces-c $LIBS&quot;
+
+else
+  { { echo &quot;$as_me:$LINENO: error: cannot find xerces library&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot find xerces library&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+fi
+
+
+
+#CFLAGS=&quot;-I/usr/local/include -g -I`pwd`/include -fPIC -Wall `pcre-config --cflags` -DGNU_SOURCE&quot;
+#CXXFLAGS=&quot;$CFLAGS&quot;
+#LIBS=&quot;-L/usr/local/lib -lm -ldl -lIL -lILU `pcre-config --libs` -lxerces-c&quot;
+CFLAGS=&quot;$CFLAGS -I`pwd`/include -Wall `pcre-config --cflags` -DGNU_SOURCE &quot;
+CXXFLAGS=&quot;$CXXFLAGS -I`pwd`/include -Wall `pcre-config --cflags` -DGNU_SOURCE &quot;
+LIBS=&quot;-L/usr/local/lib `pcre-config --libs` -lxerces-c -lIL -lILU&quot;
+
+                                                                      ac_config_files=&quot;$ac_config_files Makefile src/Makefile backends/Makefile backends/src/Makefile frontends/Makefile frontends/text/Makefile frontends/text/src/Makefile&quot;
+
+
+
+
+		    		    		              ac_config_headers=&quot;$ac_config_headers config.h&quot;
+
+cat &gt;confcache &lt;&lt;\_ACEOF
+# This file is a shell script that caches the results of configure
+# tests run on this system so they can be shared between configure
+# scripts and configure runs, see configure's option --config-cache.
+# It is not useful on other systems.  If it contains results you don't
+# want to keep, you may remove or edit it.
+#
+# config.status only pays attention to the cache file if you give it
+# the --recheck option to rerun configure.
+#
+# `ac_cv_env_foo' variables (set or unset) will be overridden when
+# loading this file, other *unset* `ac_cv_foo' will be assigned the
+# following values.
+
+_ACEOF
+
+# The following way of writing the cache mishandles newlines in values,
+# but we know of no workaround that is simple, portable, and efficient.
+# So, don't put newlines in cache variables' values.
+# Ultrix sh set writes to stderr and can't be redirected directly,
+# and sets the high bit in the cache file unless we assign to the vars.
+{
+  (set) 2&gt;&amp;1 |
+    case `(ac_space=' '; set | grep ac_space) 2&gt;&amp;1` in
+    *ac_space=\ *)
+      # `set' does not quote correctly, so add quotes (double-quote
+      # substitution turns \\\\ into \\, and sed turns \\ into \).
+      sed -n \
+	&quot;s/'/'\\\\''/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p&quot;
+      ;;
+    *)
+      # `set' quotes correctly as required by POSIX, so do not add quotes.
+      sed -n \
+	&quot;s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p&quot;
+      ;;
+    esac;
+} |
+  sed '
+     t clear
+     : clear
+     s/^\([^=]*\)=\(.*[{}].*\)$/test &quot;${\1+set}&quot; = set || &amp;/
+     t end
+     /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
+     : end' &gt;&gt;confcache
+if diff $cache_file confcache &gt;/dev/null 2&gt;&amp;1; then :; else
+  if test -w $cache_file; then
+    test &quot;x$cache_file&quot; != &quot;x/dev/null&quot; &amp;&amp; echo &quot;updating cache $cache_file&quot;
+    cat confcache &gt;$cache_file
+  else
+    echo &quot;not updating unwritable cache $cache_file&quot;
+  fi
+fi
+rm -f confcache
+
+test &quot;x$prefix&quot; = xNONE &amp;&amp; prefix=$ac_default_prefix
+# Let make expand exec_prefix.
+test &quot;x$exec_prefix&quot; = xNONE &amp;&amp; exec_prefix='${prefix}'
+
+# VPATH may cause trouble with some makes, so we remove $(srcdir),
+# ${srcdir} and @srcdir@ from VPATH if srcdir is &quot;.&quot;, strip leading and
+# trailing colons and then remove the whole line if VPATH becomes empty
+# (actually we leave an empty line to preserve line numbers).
+if test &quot;x$srcdir&quot; = x.; then
+  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
+s/:*\$(srcdir):*/:/;
+s/:*\${srcdir}:*/:/;
+s/:*@srcdir@:*/:/;
+s/^\([^=]*=[	 ]*\):*/\1/;
+s/:*$//;
+s/^[^=]*=[	 ]*$//;
+}'
+fi
+
+DEFS=-DHAVE_CONFIG_H
+
+ac_libobjs=
+ac_ltlibobjs=
+for ac_i in : $LIBOBJS; do test &quot;x$ac_i&quot; = x: &amp;&amp; continue
+  # 1. Remove the extension, and $U if already installed.
+  ac_i=`echo &quot;$ac_i&quot; |
+	 sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
+  # 2. Add them.
+  ac_libobjs=&quot;$ac_libobjs $ac_i\$U.$ac_objext&quot;
+  ac_ltlibobjs=&quot;$ac_ltlibobjs $ac_i&quot;'$U.lo'
+done
+LIBOBJS=$ac_libobjs
+
+LTLIBOBJS=$ac_ltlibobjs
+
+
+
+: ${CONFIG_STATUS=./config.status}
+ac_clean_files_save=$ac_clean_files
+ac_clean_files=&quot;$ac_clean_files $CONFIG_STATUS&quot;
+{ echo &quot;$as_me:$LINENO: creating $CONFIG_STATUS&quot; &gt;&amp;5
+echo &quot;$as_me: creating $CONFIG_STATUS&quot; &gt;&amp;6;}
+cat &gt;$CONFIG_STATUS &lt;&lt;_ACEOF
+#! $SHELL
+# Generated by $as_me.
+# Run this file to recreate the current configuration.
+# Compiler output produced by configure, useful for debugging
+# configure, is in config.log if it exists.
+
+debug=false
+ac_cs_recheck=false
+ac_cs_silent=false
+SHELL=\${CONFIG_SHELL-$SHELL}
+_ACEOF
+
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+## --------------------- ##
+## M4sh Initialization.  ##
+## --------------------- ##
+
+# Be Bourne compatible
+if test -n &quot;${ZSH_VERSION+set}&quot; &amp;&amp; (emulate sh) &gt;/dev/null 2&gt;&amp;1; then
+  emulate sh
+  NULLCMD=:
+  # Zsh 3.x and 4.x performs word splitting on ${1+&quot;$@&quot;}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+&quot;$@&quot;}'='&quot;$@&quot;'
+elif test -n &quot;${BASH_VERSION+set}&quot; &amp;&amp; (set -o posix) &gt;/dev/null 2&gt;&amp;1; then
+  set -o posix
+fi
+DUALCASE=1; export DUALCASE # for MKS sh
+
+# Support unset when possible.
+if ( (MAIL=60; unset MAIL) || exit) &gt;/dev/null 2&gt;&amp;1; then
+  as_unset=unset
+else
+  as_unset=false
+fi
+
+
+# Work around bugs in pre-3.0 UWIN ksh.
+$as_unset ENV MAIL MAILPATH
+PS1='$ '
+PS2='&gt; '
+PS4='+ '
+
+# NLS nuisances.
+for as_var in \
+  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
+  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
+  LC_TELEPHONE LC_TIME
+do
+  if (set +x; test -z &quot;`(eval $as_var=C; export $as_var) 2&gt;&amp;1`&quot;); then
+    eval $as_var=C; export $as_var
+  else
+    $as_unset $as_var
+  fi
+done
+
+# Required to use basename.
+if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+if (basename /) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; test &quot;X`basename / 2&gt;&amp;1`&quot; = &quot;X/&quot;; then
+  as_basename=basename
+else
+  as_basename=false
+fi
+
+
+# Name of the executable.
+as_me=`$as_basename &quot;$0&quot; ||
+$as_expr X/&quot;$0&quot; : '.*/\([^/][^/]*\)/*$' \| \
+	 X&quot;$0&quot; : 'X\(//\)$' \| \
+	 X&quot;$0&quot; : 'X\(/\)$' \| \
+	 .     : '\(.\)' 2&gt;/dev/null ||
+echo X/&quot;$0&quot; |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
+  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\/\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+
+
+# PATH needs CR, and LINENO needs CR and PATH.
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+# The user is always right.
+if test &quot;${PATH_SEPARATOR+set}&quot; != set; then
+  echo &quot;#! /bin/sh&quot; &gt;conf$$.sh
+  echo  &quot;exit 0&quot;   &gt;&gt;conf$$.sh
+  chmod +x conf$$.sh
+  if (PATH=&quot;/nonexistent;.&quot;; conf$$.sh) &gt;/dev/null 2&gt;&amp;1; then
+    PATH_SEPARATOR=';'
+  else
+    PATH_SEPARATOR=:
+  fi
+  rm -f conf$$.sh
+fi
+
+
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
+  test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
+  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot;  || {
+  # Find who we are.  Look in the path if we contain no path at all
+  # relative or not.
+  case $0 in
+    *[\\/]* ) as_myself=$0 ;;
+    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  test -r &quot;$as_dir/$0&quot; &amp;&amp; as_myself=$as_dir/$0 &amp;&amp; break
+done
+
+       ;;
+  esac
+  # We did not find ourselves, most probably we were run as `sh COMMAND'
+  # in which case we are not to be found in the path.
+  if test &quot;x$as_myself&quot; = x; then
+    as_myself=$0
+  fi
+  if test ! -f &quot;$as_myself&quot;; then
+    { { echo &quot;$as_me:$LINENO: error: cannot find myself; rerun with an absolute path&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot find myself; rerun with an absolute path&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+  fi
+  case $CONFIG_SHELL in
+  '')
+    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
+do
+  IFS=$as_save_IFS
+  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
+  for as_base in sh bash ksh sh5; do
+	 case $as_dir in
+	 /*)
+	   if (&quot;$as_dir/$as_base&quot; -c '
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
+  test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
+  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot; ') 2&gt;/dev/null; then
+	     $as_unset BASH_ENV || test &quot;${BASH_ENV+set}&quot; != set || { BASH_ENV=; export BASH_ENV; }
+	     $as_unset ENV || test &quot;${ENV+set}&quot; != set || { ENV=; export ENV; }
+	     CONFIG_SHELL=$as_dir/$as_base
+	     export CONFIG_SHELL
+	     exec &quot;$CONFIG_SHELL&quot; &quot;$0&quot; ${1+&quot;$@&quot;}
+	   fi;;
+	 esac
+       done
+done
+;;
+  esac
+
+  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
+  # uniformly replaced by the line number.  The first 'sed' inserts a
+  # line-number line before each line; the second 'sed' does the real
+  # work.  The second script uses 'N' to pair each line-number line
+  # with the numbered line, and appends trailing '-' during
+  # substitution so that $LINENO is not a special case at line end.
+  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
+  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
+  sed '=' &lt;$as_myself |
+    sed '
+      N
+      s,$,-,
+      : loop
+      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
+      t loop
+      s,-$,,
+      s,^['$as_cr_digits']*\n,,
+    ' &gt;$as_me.lineno &amp;&amp;
+  chmod +x $as_me.lineno ||
+    { { echo &quot;$as_me:$LINENO: error: cannot create $as_me.lineno; rerun with a POSIX shell&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+
+  # Don't try to exec as it changes $[0], causing all sort of problems
+  # (the dirname of $[0] is not the place where we might find the
+  # original and so on.  Autoconf is especially sensible to this).
+  . ./$as_me.lineno
+  # Exit status is that of the last command.
+  exit
+}
+
+
+case `echo &quot;testing\c&quot;; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
+  *c*,-n*) ECHO_N= ECHO_C='
+' ECHO_T='	' ;;
+  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
+  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
+esac
+
+if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+rm -f conf$$ conf$$.exe conf$$.file
+echo &gt;conf$$.file
+if ln -s conf$$.file conf$$ 2&gt;/dev/null; then
+  # We could just check for DJGPP; but this test a) works b) is more generic
+  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
+  if test -f conf$$.exe; then
+    # Don't use ln at all; we don't have any links
+    as_ln_s='cp -p'
+  else
+    as_ln_s='ln -s'
+  fi
+elif ln conf$$.file conf$$ 2&gt;/dev/null; then
+  as_ln_s=ln
+else
+  as_ln_s='cp -p'
+fi
+rm -f conf$$ conf$$.exe conf$$.file
+
+if mkdir -p . 2&gt;/dev/null; then
+  as_mkdir_p=:
+else
+  test -d ./-p &amp;&amp; rmdir ./-p
+  as_mkdir_p=false
+fi
+
+as_executable_p=&quot;test -f&quot;
+
+# Sed expression to map a string onto a valid CPP name.
+as_tr_cpp=&quot;eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'&quot;
+
+# Sed expression to map a string onto a valid variable name.
+as_tr_sh=&quot;eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'&quot;
+
+
+# IFS
+# We need space, tab and new line, in precisely that order.
+as_nl='
+'
+IFS=&quot; 	$as_nl&quot;
+
+# CDPATH.
+$as_unset CDPATH
+
+exec 6&gt;&amp;1
+
+# Open the log real soon, to keep \$[0] and so on meaningful, and to
+# report actual input values of CONFIG_FILES etc. instead of their
+# values after options handling.  Logging --version etc. is OK.
+exec 5&gt;&gt;config.log
+{
+  echo
+  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' &lt;&lt;_ASBOX
+## Running $as_me. ##
+_ASBOX
+} &gt;&amp;5
+cat &gt;&amp;5 &lt;&lt;_CSEOF
+
+This file was extended by picdb $as_me 0.0.1, which was
+generated by GNU Autoconf 2.59.  Invocation command line was
+
+  CONFIG_FILES    = $CONFIG_FILES
+  CONFIG_HEADERS  = $CONFIG_HEADERS
+  CONFIG_LINKS    = $CONFIG_LINKS
+  CONFIG_COMMANDS = $CONFIG_COMMANDS
+  $ $0 $@
+
+_CSEOF
+echo &quot;on `(hostname || uname -n) 2&gt;/dev/null | sed 1q`&quot; &gt;&amp;5
+echo &gt;&amp;5
+_ACEOF
+
+# Files that config.status was made for.
+if test -n &quot;$ac_config_files&quot;; then
+  echo &quot;config_files=\&quot;$ac_config_files\&quot;&quot; &gt;&gt;$CONFIG_STATUS
+fi
+
+if test -n &quot;$ac_config_headers&quot;; then
+  echo &quot;config_headers=\&quot;$ac_config_headers\&quot;&quot; &gt;&gt;$CONFIG_STATUS
+fi
+
+if test -n &quot;$ac_config_links&quot;; then
+  echo &quot;config_links=\&quot;$ac_config_links\&quot;&quot; &gt;&gt;$CONFIG_STATUS
+fi
+
+if test -n &quot;$ac_config_commands&quot;; then
+  echo &quot;config_commands=\&quot;$ac_config_commands\&quot;&quot; &gt;&gt;$CONFIG_STATUS
+fi
+
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+
+ac_cs_usage=&quot;\
+\`$as_me' instantiates files from templates according to the
+current configuration.
+
+Usage: $0 [OPTIONS] [FILE]...
+
+  -h, --help       print this help, then exit
+  -V, --version    print version number, then exit
+  -q, --quiet      do not print progress messages
+  -d, --debug      don't remove temporary files
+      --recheck    update $as_me by reconfiguring in the same conditions
+  --file=FILE[:TEMPLATE]
+		   instantiate the configuration file FILE
+  --header=FILE[:TEMPLATE]
+		   instantiate the configuration header FILE
+
+Configuration files:
+$config_files
+
+Configuration headers:
+$config_headers
+
+Configuration commands:
+$config_commands
+
+Report bugs to &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">bug-autoconf at gnu.org</A>&gt;.&quot;
+_ACEOF
+
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
+ac_cs_version=&quot;\\
+picdb config.status 0.0.1
+configured by $0, generated by GNU Autoconf 2.59,
+  with options \\&quot;`echo &quot;$ac_configure_args&quot; | sed 's/[\\&quot;&quot;\`\$]/\\\\&amp;/g'`\\&quot;
+
+Copyright (C) 2003 Free Software Foundation, Inc.
+This config.status script is free software; the Free Software Foundation
+gives unlimited permission to copy, distribute and modify it.&quot;
+srcdir=$srcdir
+INSTALL=&quot;$INSTALL&quot;
+_ACEOF
+
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+# If no file are specified by the user, then we need to provide default
+# value.  By we need to know if files were specified by the user.
+ac_need_defaults=:
+while test $# != 0
+do
+  case $1 in
+  --*=*)
+    ac_option=`expr &quot;x$1&quot; : 'x\([^=]*\)='`
+    ac_optarg=`expr &quot;x$1&quot; : 'x[^=]*=\(.*\)'`
+    ac_shift=:
+    ;;
+  -*)
+    ac_option=$1
+    ac_optarg=$2
+    ac_shift=shift
+    ;;
+  *) # This is not an option, so the user has probably given explicit
+     # arguments.
+     ac_option=$1
+     ac_need_defaults=false;;
+  esac
+
+  case $ac_option in
+  # Handling of the options.
+_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
+    ac_cs_recheck=: ;;
+  --version | --vers* | -V )
+    echo &quot;$ac_cs_version&quot;; exit 0 ;;
+  --he | --h)
+    # Conflict between --help and --header
+    { { echo &quot;$as_me:$LINENO: error: ambiguous option: $1
+Try \`$0 --help' for more information.&quot; &gt;&amp;5
+echo &quot;$as_me: error: ambiguous option: $1
+Try \`$0 --help' for more information.&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; };;
+  --help | --hel | -h )
+    echo &quot;$ac_cs_usage&quot;; exit 0 ;;
+  --debug | --d* | -d )
+    debug=: ;;
+  --file | --fil | --fi | --f )
+    $ac_shift
+    CONFIG_FILES=&quot;$CONFIG_FILES $ac_optarg&quot;
+    ac_need_defaults=false;;
+  --header | --heade | --head | --hea )
+    $ac_shift
+    CONFIG_HEADERS=&quot;$CONFIG_HEADERS $ac_optarg&quot;
+    ac_need_defaults=false;;
+  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+  | -silent | --silent | --silen | --sile | --sil | --si | --s)
+    ac_cs_silent=: ;;
+
+  # This is an error.
+  -*) { { echo &quot;$as_me:$LINENO: error: unrecognized option: $1
+Try \`$0 --help' for more information.&quot; &gt;&amp;5
+echo &quot;$as_me: error: unrecognized option: $1
+Try \`$0 --help' for more information.&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; } ;;
+
+  *) ac_config_targets=&quot;$ac_config_targets $1&quot; ;;
+
+  esac
+  shift
+done
+
+ac_configure_extra_args=
+
+if $ac_cs_silent; then
+  exec 6&gt;/dev/null
+  ac_configure_extra_args=&quot;$ac_configure_extra_args --silent&quot;
+fi
+
+_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
+if \$ac_cs_recheck; then
+  echo &quot;running $SHELL $0 &quot; $ac_configure_args \$ac_configure_extra_args &quot; --no-create --no-recursion&quot; &gt;&amp;6
+  exec $SHELL $0 $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
+fi
+
+_ACEOF
+
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
+#
+# INIT-COMMANDS section.
+#
+
+AMDEP_TRUE=&quot;$AMDEP_TRUE&quot;
+ac_aux_dir=&quot;$ac_aux_dir&quot;
+
+_ACEOF
+
+
+
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+for ac_config_target in $ac_config_targets
+do
+  case &quot;$ac_config_target&quot; in
+  # Handling of arguments.
+  &quot;Makefile&quot; ) CONFIG_FILES=&quot;$CONFIG_FILES Makefile&quot; ;;
+  &quot;src/Makefile&quot; ) CONFIG_FILES=&quot;$CONFIG_FILES src/Makefile&quot; ;;
+  &quot;backends/Makefile&quot; ) CONFIG_FILES=&quot;$CONFIG_FILES backends/Makefile&quot; ;;
+  &quot;backends/src/Makefile&quot; ) CONFIG_FILES=&quot;$CONFIG_FILES backends/src/Makefile&quot; ;;
+  &quot;frontends/Makefile&quot; ) CONFIG_FILES=&quot;$CONFIG_FILES frontends/Makefile&quot; ;;
+  &quot;frontends/text/Makefile&quot; ) CONFIG_FILES=&quot;$CONFIG_FILES frontends/text/Makefile&quot; ;;
+  &quot;frontends/text/src/Makefile&quot; ) CONFIG_FILES=&quot;$CONFIG_FILES frontends/text/src/Makefile&quot; ;;
+  &quot;default-1&quot; ) CONFIG_COMMANDS=&quot;$CONFIG_COMMANDS default-1&quot; ;;
+  &quot;config.h&quot; ) CONFIG_HEADERS=&quot;$CONFIG_HEADERS config.h&quot; ;;
+  *) { { echo &quot;$as_me:$LINENO: error: invalid argument: $ac_config_target&quot; &gt;&amp;5
+echo &quot;$as_me: error: invalid argument: $ac_config_target&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; };;
+  esac
+done
+
+# If the user did not use the arguments to specify the items to instantiate,
+# then the envvar interface is used.  Set only those that are not.
+# We use the long form for the default assignment because of an extremely
+# bizarre bug on SunOS 4.1.3.
+if $ac_need_defaults; then
+  test &quot;${CONFIG_FILES+set}&quot; = set || CONFIG_FILES=$config_files
+  test &quot;${CONFIG_HEADERS+set}&quot; = set || CONFIG_HEADERS=$config_headers
+  test &quot;${CONFIG_COMMANDS+set}&quot; = set || CONFIG_COMMANDS=$config_commands
+fi
+
+# Have a temporary directory for convenience.  Make it in the build tree
+# simply because there is no reason to put it here, and in addition,
+# creating and moving files from /tmp can sometimes cause problems.
+# Create a temporary directory, and hook for its removal unless debugging.
+$debug ||
+{
+  trap 'exit_status=$?; rm -rf $tmp &amp;&amp; exit $exit_status' 0
+  trap '{ (exit 1); exit 1; }' 1 2 13 15
+}
+
+# Create a (secure) tmp directory for tmp files.
+
+{
+  tmp=`(umask 077 &amp;&amp; mktemp -d -q &quot;./confstatXXXXXX&quot;) 2&gt;/dev/null` &amp;&amp;
+  test -n &quot;$tmp&quot; &amp;&amp; test -d &quot;$tmp&quot;
+}  ||
+{
+  tmp=./confstat$$-$RANDOM
+  (umask 077 &amp;&amp; mkdir $tmp)
+} ||
+{
+   echo &quot;$me: cannot create a temporary directory in .&quot; &gt;&amp;2
+   { (exit 1); exit 1; }
+}
+
+_ACEOF
+
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
+
+#
+# CONFIG_FILES section.
+#
+
+# No need to generate the scripts if there are no CONFIG_FILES.
+# This happens for instance when ./config.status config.h
+if test -n &quot;\$CONFIG_FILES&quot;; then
+  # Protect against being on the right side of a sed subst in config.status.
+  sed 's/,@/@@/; s/@,/@@/; s/,;t t\$/@;t t/; /@;t t\$/s/[\\\\&amp;,]/\\\\&amp;/g;
+   s/@@/,@/; s/@@/@,/; s/@;t t\$/,;t t/' &gt;\$tmp/subs.sed &lt;&lt;\\CEOF
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at SHELL</A>@,$SHELL,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at PATH_SEPARATOR</A>@,$PATH_SEPARATOR,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at PACKAGE_NAME</A>@,$PACKAGE_NAME,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at PACKAGE_TARNAME</A>@,$PACKAGE_TARNAME,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at PACKAGE_VERSION</A>@,$PACKAGE_VERSION,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at PACKAGE_STRING</A>@,$PACKAGE_STRING,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at PACKAGE_BUGREPORT</A>@,$PACKAGE_BUGREPORT,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at exec_prefix</A>@,$exec_prefix,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at prefix</A>@,$prefix,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at program_transform_name</A>@,$program_transform_name,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at bindir</A>@,$bindir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at sbindir</A>@,$sbindir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at libexecdir</A>@,$libexecdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at datadir</A>@,$datadir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at sysconfdir</A>@,$sysconfdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at sharedstatedir</A>@,$sharedstatedir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at localstatedir</A>@,$localstatedir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at libdir</A>@,$libdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at includedir</A>@,$includedir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at oldincludedir</A>@,$oldincludedir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at infodir</A>@,$infodir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at mandir</A>@,$mandir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at build_alias</A>@,$build_alias,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at host_alias</A>@,$host_alias,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at target_alias</A>@,$target_alias,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at DEFS</A>@,$DEFS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at ECHO_C</A>@,$ECHO_C,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at ECHO_N</A>@,$ECHO_N,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at ECHO_T</A>@,$ECHO_T,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at LIBS</A>@,$LIBS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at INSTALL_PROGRAM</A>@,$INSTALL_PROGRAM,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at INSTALL_SCRIPT</A>@,$INSTALL_SCRIPT,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at INSTALL_DATA</A>@,$INSTALL_DATA,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at PACKAGE</A>@,$PACKAGE,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at VERSION</A>@,$VERSION,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at EXEEXT</A>@,$EXEEXT,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at OBJEXT</A>@,$OBJEXT,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at ACLOCAL</A>@,$ACLOCAL,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at AUTOCONF</A>@,$AUTOCONF,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at AUTOMAKE</A>@,$AUTOMAKE,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at AUTOHEADER</A>@,$AUTOHEADER,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at MAKEINFO</A>@,$MAKEINFO,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at AMTAR</A>@,$AMTAR,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at install_sh</A>@,$install_sh,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at INSTALL_STRIP_PROGRAM</A>@,$INSTALL_STRIP_PROGRAM,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at AWK</A>@,$AWK,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at SET_MAKE</A>@,$SET_MAKE,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at AMDEP_TRUE</A>@,$AMDEP_TRUE,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at AMDEP_FALSE</A>@,$AMDEP_FALSE,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at AMDEPBACKSLASH</A>@,$AMDEPBACKSLASH,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at DEPDIR</A>@,$DEPDIR,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at CC</A>@,$CC,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at CFLAGS</A>@,$CFLAGS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at LDFLAGS</A>@,$LDFLAGS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at CPPFLAGS</A>@,$CPPFLAGS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at ac_ct_CC</A>@,$ac_ct_CC,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at am__include</A>@,$am__include,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at am__quote</A>@,$am__quote,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at CCDEPMODE</A>@,$CCDEPMODE,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at CXX</A>@,$CXX,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at CXXFLAGS</A>@,$CXXFLAGS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at ac_ct_CXX</A>@,$ac_ct_CXX,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at CXXDEPMODE</A>@,$CXXDEPMODE,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at build</A>@,$build,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at build_cpu</A>@,$build_cpu,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at build_vendor</A>@,$build_vendor,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at build_os</A>@,$build_os,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at host</A>@,$host,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at host_cpu</A>@,$host_cpu,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at host_vendor</A>@,$host_vendor,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at host_os</A>@,$host_os,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at LN_S</A>@,$LN_S,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at ECHO</A>@,$ECHO,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at RANLIB</A>@,$RANLIB,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at ac_ct_RANLIB</A>@,$ac_ct_RANLIB,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at STRIP</A>@,$STRIP,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at ac_ct_STRIP</A>@,$ac_ct_STRIP,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at CPP</A>@,$CPP,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at EGREP</A>@,$EGREP,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at LIBTOOL</A>@,$LIBTOOL,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at LIBOBJS</A>@,$LIBOBJS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at LTLIBOBJS</A>@,$LTLIBOBJS,;t t
+CEOF
+
+_ACEOF
+
+  cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+  # Split the substitutions into bite-sized pieces for seds with
+  # small command number limits, like on Digital OSF/1 and HP-UX.
+  ac_max_sed_lines=48
+  ac_sed_frag=1 # Number of current file.
+  ac_beg=1 # First line for current file.
+  ac_end=$ac_max_sed_lines # Line after last line for current file.
+  ac_more_lines=:
+  ac_sed_cmds=
+  while $ac_more_lines; do
+    if test $ac_beg -gt 1; then
+      sed &quot;1,${ac_beg}d; ${ac_end}q&quot; $tmp/subs.sed &gt;$tmp/subs.frag
+    else
+      sed &quot;${ac_end}q&quot; $tmp/subs.sed &gt;$tmp/subs.frag
+    fi
+    if test ! -s $tmp/subs.frag; then
+      ac_more_lines=false
+    else
+      # The purpose of the label and of the branching condition is to
+      # speed up the sed processing (if there are no `@' at all, there
+      # is no need to browse any of the substitutions).
+      # These are the two extra sed commands mentioned above.
+      (echo ':t
+  /@[a-zA-Z_][a-zA-Z_0-9]*@/!b' &amp;&amp; cat $tmp/subs.frag) &gt;$tmp/subs-$ac_sed_frag.sed
+      if test -z &quot;$ac_sed_cmds&quot;; then
+	ac_sed_cmds=&quot;sed -f $tmp/subs-$ac_sed_frag.sed&quot;
+      else
+	ac_sed_cmds=&quot;$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed&quot;
+      fi
+      ac_sed_frag=`expr $ac_sed_frag + 1`
+      ac_beg=$ac_end
+      ac_end=`expr $ac_end + $ac_max_sed_lines`
+    fi
+  done
+  if test -z &quot;$ac_sed_cmds&quot;; then
+    ac_sed_cmds=cat
+  fi
+fi # test -n &quot;$CONFIG_FILES&quot;
+
+_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+for ac_file in : $CONFIG_FILES; do test &quot;x$ac_file&quot; = x: &amp;&amp; continue
+  # Support &quot;outfile[:infile[:infile...]]&quot;, defaulting infile=&quot;outfile.in&quot;.
+  case $ac_file in
+  - | *:- | *:-:* ) # input from stdin
+	cat &gt;$tmp/stdin
+	ac_file_in=`echo &quot;$ac_file&quot; | sed 's,[^:]*:,,'`
+	ac_file=`echo &quot;$ac_file&quot; | sed 's,:.*,,'` ;;
+  *:* ) ac_file_in=`echo &quot;$ac_file&quot; | sed 's,[^:]*:,,'`
+	ac_file=`echo &quot;$ac_file&quot; | sed 's,:.*,,'` ;;
+  * )   ac_file_in=$ac_file.in ;;
+  esac
+
+  # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
+  ac_dir=`(dirname &quot;$ac_file&quot;) 2&gt;/dev/null ||
+$as_expr X&quot;$ac_file&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X&quot;$ac_file&quot; : 'X\(//\)[^/]' \| \
+	 X&quot;$ac_file&quot; : 'X\(//\)$' \| \
+	 X&quot;$ac_file&quot; : 'X\(/\)' \| \
+	 .     : '\(.\)' 2&gt;/dev/null ||
+echo X&quot;$ac_file&quot; |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+  { if $as_mkdir_p; then
+    mkdir -p &quot;$ac_dir&quot;
+  else
+    as_dir=&quot;$ac_dir&quot;
+    as_dirs=
+    while test ! -d &quot;$as_dir&quot;; do
+      as_dirs=&quot;$as_dir $as_dirs&quot;
+      as_dir=`(dirname &quot;$as_dir&quot;) 2&gt;/dev/null ||
+$as_expr X&quot;$as_dir&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X&quot;$as_dir&quot; : 'X\(//\)[^/]' \| \
+	 X&quot;$as_dir&quot; : 'X\(//\)$' \| \
+	 X&quot;$as_dir&quot; : 'X\(/\)' \| \
+	 .     : '\(.\)' 2&gt;/dev/null ||
+echo X&quot;$as_dir&quot; |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+    done
+    test ! -n &quot;$as_dirs&quot; || mkdir $as_dirs
+  fi || { { echo &quot;$as_me:$LINENO: error: cannot create directory \&quot;$ac_dir\&quot;&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot create directory \&quot;$ac_dir\&quot;&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }; }
+
+  ac_builddir=.
+
+if test &quot;$ac_dir&quot; != .; then
+  ac_dir_suffix=/`echo &quot;$ac_dir&quot; | sed 's,^\.[\\/],,'`
+  # A &quot;../&quot; for each directory in $ac_dir_suffix.
+  ac_top_builddir=`echo &quot;$ac_dir_suffix&quot; | sed 's,/[^\\/]*,../,g'`
+else
+  ac_dir_suffix= ac_top_builddir=
+fi
+
+case $srcdir in
+  .)  # No --srcdir option.  We are building in place.
+    ac_srcdir=.
+    if test -z &quot;$ac_top_builddir&quot;; then
+       ac_top_srcdir=.
+    else
+       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
+    fi ;;
+  [\\/]* | ?:[\\/]* )  # Absolute path.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir ;;
+  *) # Relative path.
+    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_builddir$srcdir ;;
+esac
+
+# Do not use `cd foo &amp;&amp; pwd` to compute absolute paths, because
+# the directories may not exist.
+case `pwd` in
+.) ac_abs_builddir=&quot;$ac_dir&quot;;;
+*)
+  case &quot;$ac_dir&quot; in
+  .) ac_abs_builddir=`pwd`;;
+  [\\/]* | ?:[\\/]* ) ac_abs_builddir=&quot;$ac_dir&quot;;;
+  *) ac_abs_builddir=`pwd`/&quot;$ac_dir&quot;;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_builddir=${ac_top_builddir}.;;
+*)
+  case ${ac_top_builddir}. in
+  .) ac_abs_top_builddir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
+  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_srcdir=$ac_srcdir;;
+*)
+  case $ac_srcdir in
+  .) ac_abs_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
+  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_srcdir=$ac_top_srcdir;;
+*)
+  case $ac_top_srcdir in
+  .) ac_abs_top_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
+  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
+  esac;;
+esac
+
+
+  case $INSTALL in
+  [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
+  *) ac_INSTALL=$ac_top_builddir$INSTALL ;;
+  esac
+
+  if test x&quot;$ac_file&quot; != x-; then
+    { echo &quot;$as_me:$LINENO: creating $ac_file&quot; &gt;&amp;5
+echo &quot;$as_me: creating $ac_file&quot; &gt;&amp;6;}
+    rm -f &quot;$ac_file&quot;
+  fi
+  # Let's still pretend it is `configure' which instantiates (i.e., don't
+  # use $as_me), people would be surprised to read:
+  #    /* config.h.  Generated by config.status.  */
+  if test x&quot;$ac_file&quot; = x-; then
+    configure_input=
+  else
+    configure_input=&quot;$ac_file.  &quot;
+  fi
+  configure_input=$configure_input&quot;Generated from `echo $ac_file_in |
+				     sed 's,.*/,,'` by configure.&quot;
+
+  # First look for the input files in the build tree, otherwise in the
+  # src tree.
+  ac_file_inputs=`IFS=:
+    for f in $ac_file_in; do
+      case $f in
+      -) echo $tmp/stdin ;;
+      [\\/$]*)
+	 # Absolute (can't be DOS-style, as IFS=:)
+	 test -f &quot;$f&quot; || { { echo &quot;$as_me:$LINENO: error: cannot find input file: $f&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot find input file: $f&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+	 echo &quot;$f&quot;;;
+      *) # Relative
+	 if test -f &quot;$f&quot;; then
+	   # Build tree
+	   echo &quot;$f&quot;
+	 elif test -f &quot;$srcdir/$f&quot;; then
+	   # Source tree
+	   echo &quot;$srcdir/$f&quot;
+	 else
+	   # /dev/null tree
+	   { { echo &quot;$as_me:$LINENO: error: cannot find input file: $f&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot find input file: $f&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+	 fi;;
+      esac
+    done` || { (exit 1); exit 1; }
+_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
+  sed &quot;$ac_vpsub
+$extrasub
+_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+:t
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at configure_input</A>@,$configure_input,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at srcdir</A>@,$ac_srcdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at abs_srcdir</A>@,$ac_abs_srcdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at top_srcdir</A>@,$ac_top_srcdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at abs_top_srcdir</A>@,$ac_abs_top_srcdir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at builddir</A>@,$ac_builddir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at abs_builddir</A>@,$ac_abs_builddir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at top_builddir</A>@,$ac_top_builddir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at abs_top_builddir</A>@,$ac_abs_top_builddir,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+s, at INSTALL</A>@,$ac_INSTALL,;t t
+&quot; $ac_file_inputs | (eval &quot;$ac_sed_cmds&quot;) &gt;$tmp/out
+  rm -f $tmp/stdin
+  if test x&quot;$ac_file&quot; != x-; then
+    mv $tmp/out $ac_file
+  else
+    cat $tmp/out
+    rm -f $tmp/out
+  fi
+
+done
+_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+
+#
+# CONFIG_HEADER section.
+#
+
+# These sed commands are passed to sed as &quot;A NAME B NAME C VALUE D&quot;, where
+# NAME is the cpp macro being defined and VALUE is the value it is being given.
+#
+# ac_d sets the value in &quot;#define NAME VALUE&quot; lines.
+ac_dA='s,^\([	 ]*\)#\([	 ]*define[	 ][	 ]*\)'
+ac_dB='[	 ].*$,\1#\2'
+ac_dC=' '
+ac_dD=',;t'
+# ac_u turns &quot;#undef NAME&quot; without trailing blanks into &quot;#define NAME VALUE&quot;.
+ac_uA='s,^\([	 ]*\)#\([	 ]*\)undef\([	 ][	 ]*\)'
+ac_uB='$,\1#\2define\3'
+ac_uC=' '
+ac_uD=',;t'
+
+for ac_file in : $CONFIG_HEADERS; do test &quot;x$ac_file&quot; = x: &amp;&amp; continue
+  # Support &quot;outfile[:infile[:infile...]]&quot;, defaulting infile=&quot;outfile.in&quot;.
+  case $ac_file in
+  - | *:- | *:-:* ) # input from stdin
+	cat &gt;$tmp/stdin
+	ac_file_in=`echo &quot;$ac_file&quot; | sed 's,[^:]*:,,'`
+	ac_file=`echo &quot;$ac_file&quot; | sed 's,:.*,,'` ;;
+  *:* ) ac_file_in=`echo &quot;$ac_file&quot; | sed 's,[^:]*:,,'`
+	ac_file=`echo &quot;$ac_file&quot; | sed 's,:.*,,'` ;;
+  * )   ac_file_in=$ac_file.in ;;
+  esac
+
+  test x&quot;$ac_file&quot; != x- &amp;&amp; { echo &quot;$as_me:$LINENO: creating $ac_file&quot; &gt;&amp;5
+echo &quot;$as_me: creating $ac_file&quot; &gt;&amp;6;}
+
+  # First look for the input files in the build tree, otherwise in the
+  # src tree.
+  ac_file_inputs=`IFS=:
+    for f in $ac_file_in; do
+      case $f in
+      -) echo $tmp/stdin ;;
+      [\\/$]*)
+	 # Absolute (can't be DOS-style, as IFS=:)
+	 test -f &quot;$f&quot; || { { echo &quot;$as_me:$LINENO: error: cannot find input file: $f&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot find input file: $f&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+	 # Do quote $f, to prevent DOS paths from being IFS'd.
+	 echo &quot;$f&quot;;;
+      *) # Relative
+	 if test -f &quot;$f&quot;; then
+	   # Build tree
+	   echo &quot;$f&quot;
+	 elif test -f &quot;$srcdir/$f&quot;; then
+	   # Source tree
+	   echo &quot;$srcdir/$f&quot;
+	 else
+	   # /dev/null tree
+	   { { echo &quot;$as_me:$LINENO: error: cannot find input file: $f&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot find input file: $f&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }
+	 fi;;
+      esac
+    done` || { (exit 1); exit 1; }
+  # Remove the trailing spaces.
+  sed 's/[	 ]*$//' $ac_file_inputs &gt;$tmp/in
+
+_ACEOF
+
+# Transform confdefs.h into two sed scripts, `conftest.defines' and
+# `conftest.undefs', that substitutes the proper values into
+# config.h.in to produce config.h.  The first handles `#define'
+# templates, and the second `#undef' templates.
+# And first: Protect against being on the right side of a sed subst in
+# config.status.  Protect against being in an unquoted here document
+# in config.status.
+rm -f conftest.defines conftest.undefs
+# Using a here document instead of a string reduces the quoting nightmare.
+# Putting comments in sed scripts is not portable.
+#
+# `end' is used to avoid that the second main sed command (meant for
+# 0-ary CPP macros) applies to n-ary macro definitions.
+# See the Autoconf documentation for `clear'.
+cat &gt;confdef2sed.sed &lt;&lt;\_ACEOF
+s/[\\&amp;,]/\\&amp;/g
+s,[\\$`],\\&amp;,g
+t clear
+: clear
+s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 (][^	 (]*\)\(([^)]*)\)[	 ]*\(.*\)$,${ac_dA}\1${ac_dB}\1\2${ac_dC}\3${ac_dD},gp
+t end
+s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 ][^	 ]*\)[	 ]*\(.*\)$,${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD},gp
+: end
+_ACEOF
+# If some macros were called several times there might be several times
+# the same #defines, which is useless.  Nevertheless, we may not want to
+# sort them, since we want the *last* AC-DEFINE to be honored.
+uniq confdefs.h | sed -n -f confdef2sed.sed &gt;conftest.defines
+sed 's/ac_d/ac_u/g' conftest.defines &gt;conftest.undefs
+rm -f confdef2sed.sed
+
+# This sed command replaces #undef with comments.  This is necessary, for
+# example, in the case of _POSIX_SOURCE, which is predefined and required
+# on some systems where configure will not decide to define it.
+cat &gt;&gt;conftest.undefs &lt;&lt;\_ACEOF
+s,^[	 ]*#[	 ]*undef[	 ][	 ]*[a-zA-Z_][a-zA-Z_0-9]*,/* &amp; */,
+_ACEOF
+
+# Break up conftest.defines because some shells have a limit on the size
+# of here documents, and old seds have small limits too (100 cmds).
+echo '  # Handle all the #define templates only if necessary.' &gt;&gt;$CONFIG_STATUS
+echo '  if grep &quot;^[	 ]*#[	 ]*define&quot; $tmp/in &gt;/dev/null; then' &gt;&gt;$CONFIG_STATUS
+echo '  # If there are no defines, we may have an empty if/fi' &gt;&gt;$CONFIG_STATUS
+echo '  :' &gt;&gt;$CONFIG_STATUS
+rm -f conftest.tail
+while grep . conftest.defines &gt;/dev/null
+do
+  # Write a limited-size here document to $tmp/defines.sed.
+  echo '  cat &gt;$tmp/defines.sed &lt;&lt;CEOF' &gt;&gt;$CONFIG_STATUS
+  # Speed up: don't consider the non `#define' lines.
+  echo '/^[	 ]*#[	 ]*define/!b' &gt;&gt;$CONFIG_STATUS
+  # Work around the forget-to-reset-the-flag bug.
+  echo 't clr' &gt;&gt;$CONFIG_STATUS
+  echo ': clr' &gt;&gt;$CONFIG_STATUS
+  sed ${ac_max_here_lines}q conftest.defines &gt;&gt;$CONFIG_STATUS
+  echo 'CEOF
+  sed -f $tmp/defines.sed $tmp/in &gt;$tmp/out
+  rm -f $tmp/in
+  mv $tmp/out $tmp/in
+' &gt;&gt;$CONFIG_STATUS
+  sed 1,${ac_max_here_lines}d conftest.defines &gt;conftest.tail
+  rm -f conftest.defines
+  mv conftest.tail conftest.defines
+done
+rm -f conftest.defines
+echo '  fi # grep' &gt;&gt;$CONFIG_STATUS
+echo &gt;&gt;$CONFIG_STATUS
+
+# Break up conftest.undefs because some shells have a limit on the size
+# of here documents, and old seds have small limits too (100 cmds).
+echo '  # Handle all the #undef templates' &gt;&gt;$CONFIG_STATUS
+rm -f conftest.tail
+while grep . conftest.undefs &gt;/dev/null
+do
+  # Write a limited-size here document to $tmp/undefs.sed.
+  echo '  cat &gt;$tmp/undefs.sed &lt;&lt;CEOF' &gt;&gt;$CONFIG_STATUS
+  # Speed up: don't consider the non `#undef'
+  echo '/^[	 ]*#[	 ]*undef/!b' &gt;&gt;$CONFIG_STATUS
+  # Work around the forget-to-reset-the-flag bug.
+  echo 't clr' &gt;&gt;$CONFIG_STATUS
+  echo ': clr' &gt;&gt;$CONFIG_STATUS
+  sed ${ac_max_here_lines}q conftest.undefs &gt;&gt;$CONFIG_STATUS
+  echo 'CEOF
+  sed -f $tmp/undefs.sed $tmp/in &gt;$tmp/out
+  rm -f $tmp/in
+  mv $tmp/out $tmp/in
+' &gt;&gt;$CONFIG_STATUS
+  sed 1,${ac_max_here_lines}d conftest.undefs &gt;conftest.tail
+  rm -f conftest.undefs
+  mv conftest.tail conftest.undefs
+done
+rm -f conftest.undefs
+
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+  # Let's still pretend it is `configure' which instantiates (i.e., don't
+  # use $as_me), people would be surprised to read:
+  #    /* config.h.  Generated by config.status.  */
+  if test x&quot;$ac_file&quot; = x-; then
+    echo &quot;/* Generated by configure.  */&quot; &gt;$tmp/config.h
+  else
+    echo &quot;/* $ac_file.  Generated by configure.  */&quot; &gt;$tmp/config.h
+  fi
+  cat $tmp/in &gt;&gt;$tmp/config.h
+  rm -f $tmp/in
+  if test x&quot;$ac_file&quot; != x-; then
+    if diff $ac_file $tmp/config.h &gt;/dev/null 2&gt;&amp;1; then
+      { echo &quot;$as_me:$LINENO: $ac_file is unchanged&quot; &gt;&amp;5
+echo &quot;$as_me: $ac_file is unchanged&quot; &gt;&amp;6;}
+    else
+      ac_dir=`(dirname &quot;$ac_file&quot;) 2&gt;/dev/null ||
+$as_expr X&quot;$ac_file&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X&quot;$ac_file&quot; : 'X\(//\)[^/]' \| \
+	 X&quot;$ac_file&quot; : 'X\(//\)$' \| \
+	 X&quot;$ac_file&quot; : 'X\(/\)' \| \
+	 .     : '\(.\)' 2&gt;/dev/null ||
+echo X&quot;$ac_file&quot; |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+      { if $as_mkdir_p; then
+    mkdir -p &quot;$ac_dir&quot;
+  else
+    as_dir=&quot;$ac_dir&quot;
+    as_dirs=
+    while test ! -d &quot;$as_dir&quot;; do
+      as_dirs=&quot;$as_dir $as_dirs&quot;
+      as_dir=`(dirname &quot;$as_dir&quot;) 2&gt;/dev/null ||
+$as_expr X&quot;$as_dir&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X&quot;$as_dir&quot; : 'X\(//\)[^/]' \| \
+	 X&quot;$as_dir&quot; : 'X\(//\)$' \| \
+	 X&quot;$as_dir&quot; : 'X\(/\)' \| \
+	 .     : '\(.\)' 2&gt;/dev/null ||
+echo X&quot;$as_dir&quot; |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+    done
+    test ! -n &quot;$as_dirs&quot; || mkdir $as_dirs
+  fi || { { echo &quot;$as_me:$LINENO: error: cannot create directory \&quot;$ac_dir\&quot;&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot create directory \&quot;$ac_dir\&quot;&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }; }
+
+      rm -f $ac_file
+      mv $tmp/config.h $ac_file
+    fi
+  else
+    cat $tmp/config.h
+    rm -f $tmp/config.h
+  fi
+  # Run the commands associated with the file.
+  case $ac_file in
+    config.h ) # update the timestamp
+echo timestamp &gt;&quot;./stamp-h1&quot;
+ ;;
+  esac
+done
+_ACEOF
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+
+#
+# CONFIG_COMMANDS section.
+#
+for ac_file in : $CONFIG_COMMANDS; do test &quot;x$ac_file&quot; = x: &amp;&amp; continue
+  ac_dest=`echo &quot;$ac_file&quot; | sed 's,:.*,,'`
+  ac_source=`echo &quot;$ac_file&quot; | sed 's,[^:]*:,,'`
+  ac_dir=`(dirname &quot;$ac_dest&quot;) 2&gt;/dev/null ||
+$as_expr X&quot;$ac_dest&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X&quot;$ac_dest&quot; : 'X\(//\)[^/]' \| \
+	 X&quot;$ac_dest&quot; : 'X\(//\)$' \| \
+	 X&quot;$ac_dest&quot; : 'X\(/\)' \| \
+	 .     : '\(.\)' 2&gt;/dev/null ||
+echo X&quot;$ac_dest&quot; |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+  { if $as_mkdir_p; then
+    mkdir -p &quot;$ac_dir&quot;
+  else
+    as_dir=&quot;$ac_dir&quot;
+    as_dirs=
+    while test ! -d &quot;$as_dir&quot;; do
+      as_dirs=&quot;$as_dir $as_dirs&quot;
+      as_dir=`(dirname &quot;$as_dir&quot;) 2&gt;/dev/null ||
+$as_expr X&quot;$as_dir&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X&quot;$as_dir&quot; : 'X\(//\)[^/]' \| \
+	 X&quot;$as_dir&quot; : 'X\(//\)$' \| \
+	 X&quot;$as_dir&quot; : 'X\(/\)' \| \
+	 .     : '\(.\)' 2&gt;/dev/null ||
+echo X&quot;$as_dir&quot; |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+  	  /^X\(\/\/\)$/{ s//\1/; q; }
+  	  /^X\(\/\).*/{ s//\1/; q; }
+  	  s/.*/./; q'`
+    done
+    test ! -n &quot;$as_dirs&quot; || mkdir $as_dirs
+  fi || { { echo &quot;$as_me:$LINENO: error: cannot create directory \&quot;$ac_dir\&quot;&quot; &gt;&amp;5
+echo &quot;$as_me: error: cannot create directory \&quot;$ac_dir\&quot;&quot; &gt;&amp;2;}
+   { (exit 1); exit 1; }; }; }
+
+  ac_builddir=.
+
+if test &quot;$ac_dir&quot; != .; then
+  ac_dir_suffix=/`echo &quot;$ac_dir&quot; | sed 's,^\.[\\/],,'`
+  # A &quot;../&quot; for each directory in $ac_dir_suffix.
+  ac_top_builddir=`echo &quot;$ac_dir_suffix&quot; | sed 's,/[^\\/]*,../,g'`
+else
+  ac_dir_suffix= ac_top_builddir=
+fi
+
+case $srcdir in
+  .)  # No --srcdir option.  We are building in place.
+    ac_srcdir=.
+    if test -z &quot;$ac_top_builddir&quot;; then
+       ac_top_srcdir=.
+    else
+       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
+    fi ;;
+  [\\/]* | ?:[\\/]* )  # Absolute path.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir ;;
+  *) # Relative path.
+    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_builddir$srcdir ;;
+esac
+
+# Do not use `cd foo &amp;&amp; pwd` to compute absolute paths, because
+# the directories may not exist.
+case `pwd` in
+.) ac_abs_builddir=&quot;$ac_dir&quot;;;
+*)
+  case &quot;$ac_dir&quot; in
+  .) ac_abs_builddir=`pwd`;;
+  [\\/]* | ?:[\\/]* ) ac_abs_builddir=&quot;$ac_dir&quot;;;
+  *) ac_abs_builddir=`pwd`/&quot;$ac_dir&quot;;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_builddir=${ac_top_builddir}.;;
+*)
+  case ${ac_top_builddir}. in
+  .) ac_abs_top_builddir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
+  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_srcdir=$ac_srcdir;;
+*)
+  case $ac_srcdir in
+  .) ac_abs_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
+  *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
+  esac;;
+esac
+case $ac_abs_builddir in
+.) ac_abs_top_srcdir=$ac_top_srcdir;;
+*)
+  case $ac_top_srcdir in
+  .) ac_abs_top_srcdir=$ac_abs_builddir;;
+  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
+  *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
+  esac;;
+esac
+
+
+  { echo &quot;$as_me:$LINENO: executing $ac_dest commands&quot; &gt;&amp;5
+echo &quot;$as_me: executing $ac_dest commands&quot; &gt;&amp;6;}
+  case $ac_dest in
+    default-1 )
+test x&quot;$AMDEP_TRUE&quot; != x&quot;&quot; ||
+for mf in $CONFIG_FILES; do
+  case &quot;$mf&quot; in
+  Makefile|GNUmakefile) dirpart=.;;
+  */Makefile|*/GNUmakefile) dirpart=`echo &quot;$mf&quot; | sed -e 's|/[^/]*$||'`;;
+  *) continue;;
+  esac
+  grep '^DEP_FILES *= *[^ #]' &lt; &quot;$mf&quot; &gt; /dev/null || continue
+  # Extract the definition of DEP_FILES from the Makefile without
+  # running `make'.
+  DEPDIR=`sed -n -e '/^DEPDIR = / s///p' &lt; &quot;$mf&quot;`
+  test -z &quot;$DEPDIR&quot; &amp;&amp; continue
+  # When using ansi2knr, U may be empty or an underscore; expand it
+  U=`sed -n -e '/^U = / s///p' &lt; &quot;$mf&quot;`
+  test -d &quot;$dirpart/$DEPDIR&quot; || mkdir &quot;$dirpart/$DEPDIR&quot;
+  # We invoke sed twice because it is the simplest approach to
+  # changing $(DEPDIR) to its actual value in the expansion.
+  for file in `sed -n -e '
+    /^DEP_FILES = .*\\\\$/ {
+      s/^DEP_FILES = //
+      :loop
+	s/\\\\$//
+	p
+	n
+	/\\\\$/ b loop
+      p
+    }
+    /^DEP_FILES = / s/^DEP_FILES = //p' &lt; &quot;$mf&quot; | \
+       sed -e 's/\$(DEPDIR)/'&quot;$DEPDIR&quot;'/g' -e 's/\$U/'&quot;$U&quot;'/g'`; do
+    # Make sure the directory exists.
+    test -f &quot;$dirpart/$file&quot; &amp;&amp; continue
+    fdir=`echo &quot;$file&quot; | sed -e 's|/[^/]*$||'`
+    $ac_aux_dir/mkinstalldirs &quot;$dirpart/$fdir&quot; &gt; /dev/null 2&gt;&amp;1
+    # echo &quot;creating $dirpart/$file&quot;
+    echo '# dummy' &gt; &quot;$dirpart/$file&quot;
+  done
+done
+ ;;
+  esac
+done
+_ACEOF
+
+cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+
+{ (exit 0); exit 0; }
+_ACEOF
+chmod +x $CONFIG_STATUS
+ac_clean_files=$ac_clean_files_save
+
+
+# configure is writing to config.log, and then calls config.status.
+# config.status does its own redirection, appending to config.log.
+# Unfortunately, on DOS this fails, as config.log is still kept open
+# by configure, so config.status won't be able to write to it; its
+# output is simply discarded.  So we exec the FD to /dev/null,
+# effectively closing config.log, so it can be properly (re)opened and
+# appended to by config.status.  When coming back to configure, we
+# need to make the FD available again.
+if test &quot;$no_create&quot; != yes; then
+  ac_cs_success=:
+  ac_config_status_args=
+  test &quot;$silent&quot; = yes &amp;&amp;
+    ac_config_status_args=&quot;$ac_config_status_args --quiet&quot;
+  exec 5&gt;/dev/null
+  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
+  exec 5&gt;&gt;config.log
+  # Use ||, not &amp;&amp;, to avoid exiting from the if with $? = 1, which
+  # would make configure fail if this is the last instruction.
+  $ac_cs_success || { (exit 1); exit 1; }
+fi
+


Property changes on: trunk/configure
___________________________________________________________________
Name: svn:executable
   + 

Added: trunk/configure.ac
===================================================================
--- trunk/configure.ac	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/configure.ac	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,40 @@
+dnl initialise autoconf and automake
+AC_INIT(picdb, 0.0.1, <A HREF="http://l33th4x0r.dyndns.org/">http://l33th4x0r.dyndns.org/</A>)
+AC_PREREQ(2.57)
+AC_CONFIG_SRCDIR(include/picdb.hpp)
+AM_INIT_AUTOMAKE(picdb, 0.0.1)
+AC_PREFIX_DEFAULT(${HOME})
+
+dnl check for programs
+AC_PROG_CC
+AC_PROG_CXX
+AC_PROG_INSTALL
+AC_LIBTOOL_DLOPEN
+AC_PROG_LIBTOOL
+
+dnl check for headers/libraries
+AC_HEADER_STDC
+AC_C_CONST
+AC_CHECK_FUNCS(strdup)
+AC_CHECK_LIB(dl, dlopen,CXXFLAGS=&quot;$CXXFLAGS -ldl&quot;)
+AC_CHECK_LIB(m, pow,, AC_MSG_ERROR([libm was not found.]))
+AC_CHECK_LIB(z, gzopen,, AC_MSG_ERROR([zlib was not found.]))
+AC_CHECK_LIB(IL, ilInit,,AC_MSG_ERROR([
+****************************************************************
+* You do not have DevIL installed.  This is required to build. *
+* You may find it at <A HREF="http://openil.sourceforge.net/.">http://openil.sourceforge.net/.</A>           *
+****************************************************************]))
+AC_CHECK_LIB(ILU, iluFlipImage,, AC_MSG_ERROR([libILU was not found.]))
+AC_CHECK_LIB([xerces-c], [main],, AC_MSG_ERROR([cannot find xerces library]), -lpthread)
+
+
+#CFLAGS=&quot;-I/usr/local/include -g -I`pwd`/include -fPIC -Wall `pcre-config --cflags` -DGNU_SOURCE&quot;
+#CXXFLAGS=&quot;$CFLAGS&quot;
+#LIBS=&quot;-L/usr/local/lib -lm -ldl -lIL -lILU `pcre-config --libs` -lxerces-c&quot;
+CFLAGS=&quot;$CFLAGS -I`pwd`/include -Wall `pcre-config --cflags` -DGNU_SOURCE &quot;
+CXXFLAGS=&quot;$CXXFLAGS -I`pwd`/include -Wall `pcre-config --cflags` -DGNU_SOURCE &quot;
+LIBS=&quot;-L/usr/local/lib `pcre-config --libs` -lxerces-c -lIL -lILU&quot;
+
+AC_CONFIG_FILES([Makefile src/Makefile backends/Makefile backends/src/Makefile frontends/Makefile frontends/text/Makefile frontends/text/src/Makefile])
+AM_CONFIG_HEADER([config.h])
+AC_OUTPUT

Added: trunk/depcomp
===================================================================
--- trunk/depcomp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/depcomp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+link /usr/share/automake-1.5/depcomp
\ No newline at end of file


Property changes on: trunk/depcomp
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/edit
===================================================================
--- trunk/edit	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/edit	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+nohup emacs src/*.cc include/*.hpp main.cc backends/*/*.{cc,hpp}&amp;


Property changes on: trunk/edit
___________________________________________________________________
Name: svn:executable
   + 

Added: trunk/frontends/Makefile.am
===================================================================
--- trunk/frontends/Makefile.am	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/frontends/Makefile.am	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+SUBDIRS = text

Added: trunk/frontends/Makefile.in
===================================================================
--- trunk/frontends/Makefile.in	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/frontends/Makefile.in	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,327 @@
+# Makefile.in generated automatically by automake 1.5 from Makefile.am.
+
+# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
+# Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at SET_MAKE</A>@
+
+SHELL = @SHELL@
+
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
+VPATH = @srcdir@
+prefix = @prefix@
+exec_prefix = @exec_prefix@
+
+bindir = @bindir@
+sbindir = @sbindir@
+libexecdir = @libexecdir@
+datadir = @datadir@
+sysconfdir = @sysconfdir@
+sharedstatedir = @sharedstatedir@
+localstatedir = @localstatedir@
+libdir = @libdir@
+infodir = @infodir@
+mandir = @mandir@
+includedir = @includedir@
+oldincludedir = /usr/include
+pkgdatadir = $(datadir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ..
+
+ACLOCAL = @ACLOCAL@
+AUTOCONF = @AUTOCONF@
+AUTOMAKE = @AUTOMAKE@
+AUTOHEADER = @AUTOHEADER@
+
+INSTALL = @INSTALL@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = @program_transform_name@
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+host_alias = @host_alias@
+host_triplet = @host@
+AMTAR = @AMTAR@
+AS = @AS@
+AWK = @AWK@
+CC = @CC@
+CXX = @CXX@
+DEPDIR = @DEPDIR@
+DLLTOOL = @DLLTOOL@
+ECHO = @ECHO@
+EXEEXT = @EXEEXT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+LIBTOOL = @LIBTOOL@
+LN_S = @LN_S@
+OBJDUMP = @OBJDUMP@
+OBJEXT = @OBJEXT@
+PACKAGE = @PACKAGE@
+RANLIB = @RANLIB@
+STRIP = @STRIP@
+VERSION = @VERSION@
+am__include = @am__include@
+am__quote = @am__quote@
+install_sh = @install_sh@
+
+SUBDIRS = text
+subdir = frontends
+mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+CONFIG_HEADER = $(top_builddir)/config.h
+CONFIG_CLEAN_FILES =
+DIST_SOURCES =
+
+RECURSIVE_TARGETS = info-recursive dvi-recursive install-info-recursive \
+	uninstall-info-recursive all-recursive install-data-recursive \
+	install-exec-recursive installdirs-recursive install-recursive \
+	uninstall-recursive check-recursive installcheck-recursive
+DIST_COMMON = Makefile.am Makefile.in
+DIST_SUBDIRS = $(SUBDIRS)
+all: all-recursive
+
+.SUFFIXES:
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+$(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.ac $(ACLOCAL_M4)
+	cd $(top_srcdir) &amp;&amp; \
+	  $(AUTOMAKE) --gnu  frontends/Makefile
+Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
+	cd $(top_builddir) &amp;&amp; \
+	  CONFIG_HEADERS= CONFIG_LINKS= \
+	  CONFIG_FILES=$(subdir)/$@ $(SHELL) ./config.status
+uninstall-info-am:
+
+# This directory's subdirectories are mostly independent; you can cd
+# into them and run `make' without going through this Makefile.
+# To change the values of `make' variables: instead of editing Makefiles,
+# (1) if the variable is set in `config.status', edit `config.status'
+#     (which will cause the Makefiles to be regenerated when you run `make');
+# (2) otherwise, pass the desired values on the `make' command line.
+$(RECURSIVE_TARGETS):
+	@set fnord $(MAKEFLAGS); amf=$$2; \
+	dot_seen=no; \
+	target=`echo $@ | sed s/-recursive//`; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  echo &quot;Making $$target in $$subdir&quot;; \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then \
+	    dot_seen=yes; \
+	    local_target=&quot;$$target-am&quot;; \
+	  else \
+	    local_target=&quot;$$target&quot;; \
+	  fi; \
+	  (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case &quot;$$amf&quot; in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done; \
+	if test &quot;$$dot_seen&quot; = &quot;no&quot;; then \
+	  $(MAKE) $(AM_MAKEFLAGS) &quot;$$target-am&quot; || exit 1; \
+	fi; test -z &quot;$$fail&quot;
+
+mostlyclean-recursive clean-recursive distclean-recursive \
+maintainer-clean-recursive:
+	@set fnord $(MAKEFLAGS); amf=$$2; \
+	dot_seen=no; \
+	case &quot;$@&quot; in \
+	  distclean-* | maintainer-clean-*) list='$(DIST_SUBDIRS)' ;; \
+	  *) list='$(SUBDIRS)' ;; \
+	esac; \
+	rev=''; for subdir in $$list; do \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then :; else \
+	    rev=&quot;$$subdir $$rev&quot;; \
+	  fi; \
+	done; \
+	rev=&quot;$$rev .&quot;; \
+	target=`echo $@ | sed s/-recursive//`; \
+	for subdir in $$rev; do \
+	  echo &quot;Making $$target in $$subdir&quot;; \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then \
+	    local_target=&quot;$$target-am&quot;; \
+	  else \
+	    local_target=&quot;$$target&quot;; \
+	  fi; \
+	  (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case &quot;$$amf&quot; in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done &amp;&amp; test -z &quot;$$fail&quot;
+tags-recursive:
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  test &quot;$$subdir&quot; = . || (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) tags); \
+	done
+
+tags: TAGS
+
+ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	mkid -fID $$unique $(LISP)
+
+TAGS: tags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  if test &quot;$$subdir&quot; = .; then :; else \
+	    test -f $$subdir/TAGS &amp;&amp; tags=&quot;$$tags -i $$here/$$subdir/TAGS&quot;; \
+	  fi; \
+	done; \
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z &quot;$(ETAGS_ARGS)$$unique$(LISP)$$tags&quot; \
+	  || etags $(ETAGS_ARGS) $$tags  $$unique $(LISP)
+
+GTAGS:
+	here=`CDPATH=: &amp;&amp; cd $(top_builddir) &amp;&amp; pwd` \
+	  &amp;&amp; cd $(top_srcdir) \
+	  &amp;&amp; gtags -i $(GTAGS_ARGS) $$here
+
+distclean-tags:
+	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH
+
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+
+top_distdir = ..
+distdir = $(top_distdir)/$(PACKAGE)-$(VERSION)
+
+distdir: $(DISTFILES)
+	@for file in $(DISTFILES); do \
+	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo &quot;$$file&quot; | sed -e 's,/[^/]*$$,,'`; \
+	  if test &quot;$$dir&quot; != &quot;$$file&quot; &amp;&amp; test &quot;$$dir&quot; != &quot;.&quot;; then \
+	    $(mkinstalldirs) &quot;$(distdir)/$$dir&quot;; \
+	  fi; \
+	  if test -d $$d/$$file; then \
+	    cp -pR $$d/$$file $(distdir) \
+	    || exit 1; \
+	  else \
+	    test -f $(distdir)/$$file \
+	    || cp -p $$d/$$file $(distdir)/$$file \
+	    || exit 1; \
+	  fi; \
+	done
+	for subdir in $(SUBDIRS); do \
+	  if test &quot;$$subdir&quot; = .; then :; else \
+	    test -d $(distdir)/$$subdir \
+	    || mkdir $(distdir)/$$subdir \
+	    || exit 1; \
+	    (cd $$subdir &amp;&amp; \
+	      $(MAKE) $(AM_MAKEFLAGS) \
+	        top_distdir=&quot;$(top_distdir)&quot; \
+	        distdir=../$(distdir)/$$subdir \
+	        distdir) \
+	      || exit 1; \
+	  fi; \
+	done
+check-am: all-am
+check: check-recursive
+all-am: Makefile
+installdirs: installdirs-recursive
+installdirs-am:
+
+install: install-recursive
+install-exec: install-exec-recursive
+install-data: install-data-recursive
+uninstall: uninstall-recursive
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-recursive
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM=&quot;$(INSTALL_STRIP_PROGRAM)&quot; \
+	  `test -z '$(STRIP)' || \
+	    echo &quot;INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'&quot;` install
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-rm -f Makefile $(CONFIG_CLEAN_FILES) stamp-h stamp-h[0-9]*
+
+maintainer-clean-generic:
+	@echo &quot;This command is intended for maintainers to use&quot;
+	@echo &quot;it deletes files that may require special tools to rebuild.&quot;
+clean: clean-recursive
+
+clean-am: clean-generic clean-libtool mostlyclean-am
+
+distclean: distclean-recursive
+
+distclean-am: clean-am distclean-generic distclean-libtool \
+	distclean-tags
+
+dvi: dvi-recursive
+
+dvi-am:
+
+info: info-recursive
+
+info-am:
+
+install-data-am:
+
+install-exec-am:
+
+install-info: install-info-recursive
+
+install-man:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-recursive
+
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-recursive
+
+mostlyclean-am: mostlyclean-generic mostlyclean-libtool
+
+uninstall-am: uninstall-info-am
+
+uninstall-info: uninstall-info-recursive
+
+.PHONY: $(RECURSIVE_TARGETS) GTAGS all all-am check check-am clean \
+	clean-generic clean-libtool clean-recursive distclean \
+	distclean-generic distclean-libtool distclean-recursive \
+	distclean-tags distdir dvi dvi-am dvi-recursive info info-am \
+	info-recursive install install-am install-data install-data-am \
+	install-data-recursive install-exec install-exec-am \
+	install-exec-recursive install-info install-info-am \
+	install-info-recursive install-man install-recursive \
+	install-strip installcheck installcheck-am installdirs \
+	installdirs-am installdirs-recursive maintainer-clean \
+	maintainer-clean-generic maintainer-clean-recursive mostlyclean \
+	mostlyclean-generic mostlyclean-libtool mostlyclean-recursive \
+	tags tags-recursive uninstall uninstall-am uninstall-info-am \
+	uninstall-info-recursive uninstall-recursive
+
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:

Added: trunk/frontends/text/Makefile.am
===================================================================
--- trunk/frontends/text/Makefile.am	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/frontends/text/Makefile.am	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+SUBDIRS = src

Added: trunk/frontends/text/Makefile.in
===================================================================
--- trunk/frontends/text/Makefile.in	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/frontends/text/Makefile.in	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,327 @@
+# Makefile.in generated automatically by automake 1.5 from Makefile.am.
+
+# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
+# Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at SET_MAKE</A>@
+
+SHELL = @SHELL@
+
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
+VPATH = @srcdir@
+prefix = @prefix@
+exec_prefix = @exec_prefix@
+
+bindir = @bindir@
+sbindir = @sbindir@
+libexecdir = @libexecdir@
+datadir = @datadir@
+sysconfdir = @sysconfdir@
+sharedstatedir = @sharedstatedir@
+localstatedir = @localstatedir@
+libdir = @libdir@
+infodir = @infodir@
+mandir = @mandir@
+includedir = @includedir@
+oldincludedir = /usr/include
+pkgdatadir = $(datadir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ../..
+
+ACLOCAL = @ACLOCAL@
+AUTOCONF = @AUTOCONF@
+AUTOMAKE = @AUTOMAKE@
+AUTOHEADER = @AUTOHEADER@
+
+INSTALL = @INSTALL@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = @program_transform_name@
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+host_alias = @host_alias@
+host_triplet = @host@
+AMTAR = @AMTAR@
+AS = @AS@
+AWK = @AWK@
+CC = @CC@
+CXX = @CXX@
+DEPDIR = @DEPDIR@
+DLLTOOL = @DLLTOOL@
+ECHO = @ECHO@
+EXEEXT = @EXEEXT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+LIBTOOL = @LIBTOOL@
+LN_S = @LN_S@
+OBJDUMP = @OBJDUMP@
+OBJEXT = @OBJEXT@
+PACKAGE = @PACKAGE@
+RANLIB = @RANLIB@
+STRIP = @STRIP@
+VERSION = @VERSION@
+am__include = @am__include@
+am__quote = @am__quote@
+install_sh = @install_sh@
+
+SUBDIRS = src
+subdir = frontends/text
+mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+CONFIG_HEADER = $(top_builddir)/config.h
+CONFIG_CLEAN_FILES =
+DIST_SOURCES =
+
+RECURSIVE_TARGETS = info-recursive dvi-recursive install-info-recursive \
+	uninstall-info-recursive all-recursive install-data-recursive \
+	install-exec-recursive installdirs-recursive install-recursive \
+	uninstall-recursive check-recursive installcheck-recursive
+DIST_COMMON = Makefile.am Makefile.in
+DIST_SUBDIRS = $(SUBDIRS)
+all: all-recursive
+
+.SUFFIXES:
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+$(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.ac $(ACLOCAL_M4)
+	cd $(top_srcdir) &amp;&amp; \
+	  $(AUTOMAKE) --gnu  frontends/text/Makefile
+Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
+	cd $(top_builddir) &amp;&amp; \
+	  CONFIG_HEADERS= CONFIG_LINKS= \
+	  CONFIG_FILES=$(subdir)/$@ $(SHELL) ./config.status
+uninstall-info-am:
+
+# This directory's subdirectories are mostly independent; you can cd
+# into them and run `make' without going through this Makefile.
+# To change the values of `make' variables: instead of editing Makefiles,
+# (1) if the variable is set in `config.status', edit `config.status'
+#     (which will cause the Makefiles to be regenerated when you run `make');
+# (2) otherwise, pass the desired values on the `make' command line.
+$(RECURSIVE_TARGETS):
+	@set fnord $(MAKEFLAGS); amf=$$2; \
+	dot_seen=no; \
+	target=`echo $@ | sed s/-recursive//`; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  echo &quot;Making $$target in $$subdir&quot;; \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then \
+	    dot_seen=yes; \
+	    local_target=&quot;$$target-am&quot;; \
+	  else \
+	    local_target=&quot;$$target&quot;; \
+	  fi; \
+	  (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case &quot;$$amf&quot; in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done; \
+	if test &quot;$$dot_seen&quot; = &quot;no&quot;; then \
+	  $(MAKE) $(AM_MAKEFLAGS) &quot;$$target-am&quot; || exit 1; \
+	fi; test -z &quot;$$fail&quot;
+
+mostlyclean-recursive clean-recursive distclean-recursive \
+maintainer-clean-recursive:
+	@set fnord $(MAKEFLAGS); amf=$$2; \
+	dot_seen=no; \
+	case &quot;$@&quot; in \
+	  distclean-* | maintainer-clean-*) list='$(DIST_SUBDIRS)' ;; \
+	  *) list='$(SUBDIRS)' ;; \
+	esac; \
+	rev=''; for subdir in $$list; do \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then :; else \
+	    rev=&quot;$$subdir $$rev&quot;; \
+	  fi; \
+	done; \
+	rev=&quot;$$rev .&quot;; \
+	target=`echo $@ | sed s/-recursive//`; \
+	for subdir in $$rev; do \
+	  echo &quot;Making $$target in $$subdir&quot;; \
+	  if test &quot;$$subdir&quot; = &quot;.&quot;; then \
+	    local_target=&quot;$$target-am&quot;; \
+	  else \
+	    local_target=&quot;$$target&quot;; \
+	  fi; \
+	  (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
+	   || case &quot;$$amf&quot; in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
+	done &amp;&amp; test -z &quot;$$fail&quot;
+tags-recursive:
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  test &quot;$$subdir&quot; = . || (cd $$subdir &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) tags); \
+	done
+
+tags: TAGS
+
+ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	mkid -fID $$unique $(LISP)
+
+TAGS: tags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SUBDIRS)'; for subdir in $$list; do \
+	  if test &quot;$$subdir&quot; = .; then :; else \
+	    test -f $$subdir/TAGS &amp;&amp; tags=&quot;$$tags -i $$here/$$subdir/TAGS&quot;; \
+	  fi; \
+	done; \
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z &quot;$(ETAGS_ARGS)$$unique$(LISP)$$tags&quot; \
+	  || etags $(ETAGS_ARGS) $$tags  $$unique $(LISP)
+
+GTAGS:
+	here=`CDPATH=: &amp;&amp; cd $(top_builddir) &amp;&amp; pwd` \
+	  &amp;&amp; cd $(top_srcdir) \
+	  &amp;&amp; gtags -i $(GTAGS_ARGS) $$here
+
+distclean-tags:
+	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH
+
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+
+top_distdir = ../..
+distdir = $(top_distdir)/$(PACKAGE)-$(VERSION)
+
+distdir: $(DISTFILES)
+	@for file in $(DISTFILES); do \
+	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo &quot;$$file&quot; | sed -e 's,/[^/]*$$,,'`; \
+	  if test &quot;$$dir&quot; != &quot;$$file&quot; &amp;&amp; test &quot;$$dir&quot; != &quot;.&quot;; then \
+	    $(mkinstalldirs) &quot;$(distdir)/$$dir&quot;; \
+	  fi; \
+	  if test -d $$d/$$file; then \
+	    cp -pR $$d/$$file $(distdir) \
+	    || exit 1; \
+	  else \
+	    test -f $(distdir)/$$file \
+	    || cp -p $$d/$$file $(distdir)/$$file \
+	    || exit 1; \
+	  fi; \
+	done
+	for subdir in $(SUBDIRS); do \
+	  if test &quot;$$subdir&quot; = .; then :; else \
+	    test -d $(distdir)/$$subdir \
+	    || mkdir $(distdir)/$$subdir \
+	    || exit 1; \
+	    (cd $$subdir &amp;&amp; \
+	      $(MAKE) $(AM_MAKEFLAGS) \
+	        top_distdir=&quot;$(top_distdir)&quot; \
+	        distdir=../$(distdir)/$$subdir \
+	        distdir) \
+	      || exit 1; \
+	  fi; \
+	done
+check-am: all-am
+check: check-recursive
+all-am: Makefile
+installdirs: installdirs-recursive
+installdirs-am:
+
+install: install-recursive
+install-exec: install-exec-recursive
+install-data: install-data-recursive
+uninstall: uninstall-recursive
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-recursive
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM=&quot;$(INSTALL_STRIP_PROGRAM)&quot; \
+	  `test -z '$(STRIP)' || \
+	    echo &quot;INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'&quot;` install
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-rm -f Makefile $(CONFIG_CLEAN_FILES) stamp-h stamp-h[0-9]*
+
+maintainer-clean-generic:
+	@echo &quot;This command is intended for maintainers to use&quot;
+	@echo &quot;it deletes files that may require special tools to rebuild.&quot;
+clean: clean-recursive
+
+clean-am: clean-generic clean-libtool mostlyclean-am
+
+distclean: distclean-recursive
+
+distclean-am: clean-am distclean-generic distclean-libtool \
+	distclean-tags
+
+dvi: dvi-recursive
+
+dvi-am:
+
+info: info-recursive
+
+info-am:
+
+install-data-am:
+
+install-exec-am:
+
+install-info: install-info-recursive
+
+install-man:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-recursive
+
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-recursive
+
+mostlyclean-am: mostlyclean-generic mostlyclean-libtool
+
+uninstall-am: uninstall-info-am
+
+uninstall-info: uninstall-info-recursive
+
+.PHONY: $(RECURSIVE_TARGETS) GTAGS all all-am check check-am clean \
+	clean-generic clean-libtool clean-recursive distclean \
+	distclean-generic distclean-libtool distclean-recursive \
+	distclean-tags distdir dvi dvi-am dvi-recursive info info-am \
+	info-recursive install install-am install-data install-data-am \
+	install-data-recursive install-exec install-exec-am \
+	install-exec-recursive install-info install-info-am \
+	install-info-recursive install-man install-recursive \
+	install-strip installcheck installcheck-am installdirs \
+	installdirs-am installdirs-recursive maintainer-clean \
+	maintainer-clean-generic maintainer-clean-recursive mostlyclean \
+	mostlyclean-generic mostlyclean-libtool mostlyclean-recursive \
+	tags tags-recursive uninstall uninstall-am uninstall-info-am \
+	uninstall-info-recursive uninstall-recursive
+
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:

Added: trunk/frontends/text/src/Makefile.am
===================================================================
--- trunk/frontends/text/src/Makefile.am	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/frontends/text/src/Makefile.am	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,4 @@
+bin_PROGRAMS = picdb_text
+picdb_text_SOURCES = main.cc
+#picdb_test_LDADD = -Lsrc/.libs -Lbackends/src/.libs -lpicdb
+picdb_text_LDADD = -L`pwd`/../../../src/ -lpicdb

Added: trunk/frontends/text/src/Makefile.in
===================================================================
--- trunk/frontends/text/src/Makefile.in	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/frontends/text/src/Makefile.in	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,332 @@
+# Makefile.in generated automatically by automake 1.5 from Makefile.am.
+
+# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
+# Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at SET_MAKE</A>@
+
+SHELL = @SHELL@
+
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
+VPATH = @srcdir@
+prefix = @prefix@
+exec_prefix = @exec_prefix@
+
+bindir = @bindir@
+sbindir = @sbindir@
+libexecdir = @libexecdir@
+datadir = @datadir@
+sysconfdir = @sysconfdir@
+sharedstatedir = @sharedstatedir@
+localstatedir = @localstatedir@
+libdir = @libdir@
+infodir = @infodir@
+mandir = @mandir@
+includedir = @includedir@
+oldincludedir = /usr/include
+pkgdatadir = $(datadir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ../../..
+
+ACLOCAL = @ACLOCAL@
+AUTOCONF = @AUTOCONF@
+AUTOMAKE = @AUTOMAKE@
+AUTOHEADER = @AUTOHEADER@
+
+INSTALL = @INSTALL@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = @program_transform_name@
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+host_alias = @host_alias@
+host_triplet = @host@
+AMTAR = @AMTAR@
+AS = @AS@
+AWK = @AWK@
+CC = @CC@
+CXX = @CXX@
+DEPDIR = @DEPDIR@
+DLLTOOL = @DLLTOOL@
+ECHO = @ECHO@
+EXEEXT = @EXEEXT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+LIBTOOL = @LIBTOOL@
+LN_S = @LN_S@
+OBJDUMP = @OBJDUMP@
+OBJEXT = @OBJEXT@
+PACKAGE = @PACKAGE@
+RANLIB = @RANLIB@
+STRIP = @STRIP@
+VERSION = @VERSION@
+am__include = @am__include@
+am__quote = @am__quote@
+install_sh = @install_sh@
+
+bin_PROGRAMS = picdb_text
+picdb_text_SOURCES = main.cc
+#picdb_test_LDADD = -Lsrc/.libs -Lbackends/src/.libs -lpicdb
+picdb_text_LDADD = -L`pwd`/../../../src/ -lpicdb
+subdir = frontends/text/src
+mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+CONFIG_HEADER = $(top_builddir)/config.h
+CONFIG_CLEAN_FILES =
+bin_PROGRAMS = picdb_text$(EXEEXT)
+PROGRAMS = $(bin_PROGRAMS)
+
+am_picdb_text_OBJECTS = main.$(OBJEXT)
+picdb_text_OBJECTS = $(am_picdb_text_OBJECTS)
+picdb_text_DEPENDENCIES =
+picdb_text_LDFLAGS =
+
+DEFS = @DEFS@
+DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir)
+CPPFLAGS = @CPPFLAGS@
+LDFLAGS = @LDFLAGS@
+LIBS = @LIBS@
+depcomp = $(SHELL) $(top_srcdir)/depcomp
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@DEP_FILES = $(DEPDIR)/main.Po
+CXXCOMPILE = $(CXX) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
+	$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)
+LTCXXCOMPILE = $(LIBTOOL) --mode=compile $(CXX) $(DEFS) \
+	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
+	$(AM_CXXFLAGS) $(CXXFLAGS)
+CXXLD = $(CXX)
+CXXLINK = $(LIBTOOL) --mode=link $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) \
+	$(AM_LDFLAGS) $(LDFLAGS) -o $@
+CXXFLAGS = @CXXFLAGS@
+DIST_SOURCES = $(picdb_text_SOURCES)
+DIST_COMMON = Makefile.am Makefile.in
+SOURCES = $(picdb_text_SOURCES)
+
+all: all-am
+
+.SUFFIXES:
+.SUFFIXES: .cc .lo .o .obj
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+$(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.ac $(ACLOCAL_M4)
+	cd $(top_srcdir) &amp;&amp; \
+	  $(AUTOMAKE) --gnu  frontends/text/src/Makefile
+Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
+	cd $(top_builddir) &amp;&amp; \
+	  CONFIG_HEADERS= CONFIG_LINKS= \
+	  CONFIG_FILES=$(subdir)/$@ $(SHELL) ./config.status
+install-binPROGRAMS: $(bin_PROGRAMS)
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(bindir)
+	@list='$(bin_PROGRAMS)'; for p in $$list; do \
+	  p1=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
+	  if test -f $$p \
+	     || test -f $$p1 \
+	  ; then \
+	    f=`echo $$p1|sed '$(transform);s/$$/$(EXEEXT)/'`; \
+	   echo &quot; $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/$$f&quot;; \
+	   $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/$$f; \
+	  else :; fi; \
+	done
+
+uninstall-binPROGRAMS:
+	@$(NORMAL_UNINSTALL)
+	@list='$(bin_PROGRAMS)'; for p in $$list; do \
+	  f=`echo $$p|sed 's/$(EXEEXT)$$//;$(transform);s/$$/$(EXEEXT)/'`; \
+	  echo &quot; rm -f $(DESTDIR)$(bindir)/$$f&quot;; \
+	  rm -f $(DESTDIR)$(bindir)/$$f; \
+	done
+
+clean-binPROGRAMS:
+	-test -z &quot;$(bin_PROGRAMS)&quot; || rm -f $(bin_PROGRAMS)
+picdb_text$(EXEEXT): $(picdb_text_OBJECTS) $(picdb_text_DEPENDENCIES) 
+	@rm -f picdb_text$(EXEEXT)
+	$(CXXLINK) $(picdb_text_LDFLAGS) $(picdb_text_OBJECTS) $(picdb_text_LDADD) $(LIBS)
+
+mostlyclean-compile:
+	-rm -f *.$(OBJEXT) core *.core
+
+distclean-compile:
+	-rm -f *.tab.c
+
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">main.Po at am__quote</A>@
+
+distclean-depend:
+	-rm -rf $(DEPDIR)
+
+.cc.o:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=no @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(CXXCOMPILE) -c -o $@ `test -f $&lt; || echo '$(srcdir)/'`$&lt;
+
+.cc.obj:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=no @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(CXXCOMPILE) -c -o $@ `cygpath -w $&lt;`
+
+.cc.lo:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=yes @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Plo' tmpdepfile='$(DEPDIR)/$*.TPlo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(LTCXXCOMPILE) -c -o $@ `test -f $&lt; || echo '$(srcdir)/'`$&lt;
+CXXDEPMODE = @CXXDEPMODE@
+uninstall-info-am:
+
+tags: TAGS
+
+ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	mkid -fID $$unique $(LISP)
+
+TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z &quot;$(ETAGS_ARGS)$$unique$(LISP)$$tags&quot; \
+	  || etags $(ETAGS_ARGS) $$tags  $$unique $(LISP)
+
+GTAGS:
+	here=`CDPATH=: &amp;&amp; cd $(top_builddir) &amp;&amp; pwd` \
+	  &amp;&amp; cd $(top_srcdir) \
+	  &amp;&amp; gtags -i $(GTAGS_ARGS) $$here
+
+distclean-tags:
+	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH
+
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+
+top_distdir = ../../..
+distdir = $(top_distdir)/$(PACKAGE)-$(VERSION)
+
+distdir: $(DISTFILES)
+	@for file in $(DISTFILES); do \
+	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo &quot;$$file&quot; | sed -e 's,/[^/]*$$,,'`; \
+	  if test &quot;$$dir&quot; != &quot;$$file&quot; &amp;&amp; test &quot;$$dir&quot; != &quot;.&quot;; then \
+	    $(mkinstalldirs) &quot;$(distdir)/$$dir&quot;; \
+	  fi; \
+	  if test -d $$d/$$file; then \
+	    cp -pR $$d/$$file $(distdir) \
+	    || exit 1; \
+	  else \
+	    test -f $(distdir)/$$file \
+	    || cp -p $$d/$$file $(distdir)/$$file \
+	    || exit 1; \
+	  fi; \
+	done
+check-am: all-am
+check: check-am
+all-am: Makefile $(PROGRAMS)
+
+installdirs:
+	$(mkinstalldirs) $(DESTDIR)$(bindir)
+
+install: install-am
+install-exec: install-exec-am
+install-data: install-data-am
+uninstall: uninstall-am
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-am
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM=&quot;$(INSTALL_STRIP_PROGRAM)&quot; \
+	  `test -z '$(STRIP)' || \
+	    echo &quot;INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'&quot;` install
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-rm -f Makefile $(CONFIG_CLEAN_FILES) stamp-h stamp-h[0-9]*
+
+maintainer-clean-generic:
+	@echo &quot;This command is intended for maintainers to use&quot;
+	@echo &quot;it deletes files that may require special tools to rebuild.&quot;
+clean: clean-am
+
+clean-am: clean-binPROGRAMS clean-generic clean-libtool mostlyclean-am
+
+distclean: distclean-am
+
+distclean-am: clean-am distclean-compile distclean-depend \
+	distclean-generic distclean-libtool distclean-tags
+
+dvi: dvi-am
+
+dvi-am:
+
+info: info-am
+
+info-am:
+
+install-data-am:
+
+install-exec-am: install-binPROGRAMS
+
+install-info: install-info-am
+
+install-man:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-am
+
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-am
+
+mostlyclean-am: mostlyclean-compile mostlyclean-generic \
+	mostlyclean-libtool
+
+uninstall-am: uninstall-binPROGRAMS uninstall-info-am
+
+.PHONY: GTAGS all all-am check check-am clean clean-binPROGRAMS \
+	clean-generic clean-libtool distclean distclean-compile \
+	distclean-depend distclean-generic distclean-libtool \
+	distclean-tags distdir dvi dvi-am info info-am install \
+	install-am install-binPROGRAMS install-data install-data-am \
+	install-exec install-exec-am install-info install-info-am \
+	install-man install-strip installcheck installcheck-am \
+	installdirs maintainer-clean maintainer-clean-generic \
+	mostlyclean mostlyclean-compile mostlyclean-generic \
+	mostlyclean-libtool tags uninstall uninstall-am \
+	uninstall-binPROGRAMS uninstall-info-am
+
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:

Added: trunk/frontends/text/src/main.cc
===================================================================
--- trunk/frontends/text/src/main.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/frontends/text/src/main.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,6 @@
+#include &lt;stdio.h&gt;
+
+int main (int argc, char **argv)
+{
+  return 0;
+}

Added: trunk/gpl_hdr.txt
===================================================================
--- trunk/gpl_hdr.txt	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/gpl_hdr.txt	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,15 @@
+
+  This program is free software; you can redistribute it and/or modify
+  it under the terms of the GNU General Public License as published by
+  the Free Software Foundation; either version 2 of the License, or
+  (at your option) any later version.
+
+  This program is distributed in the hope that it will be useful,
+  but WITHOUT ANY WARRANTY; without even the implied warranty of
+  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+  GNU Library General Public License for more details.
+
+  You should have received a copy of the GNU General Public License
+  along with this program; if not, write to the Free Software
+  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+

Added: trunk/include/backend.hpp
===================================================================
--- trunk/include/backend.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/backend.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,53 @@
+/******************************************************************
+*                backend.hpp 
+*   Thu Dec 30 16:50:32 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_BACKEND_HPP
+#define PICDB_BACKEND_HPP
+#include &quot;filelist.hpp&quot;
+#include &quot;media.hpp&quot;
+#include &quot;filedata.hpp&quot;
+namespace Picdb
+{
+  class Backend;
+  Backend *LoadBackend (char *libname, char *sig, int argc, char* argv[]);
+  void UnloadBackend (char *libname, char *sig, Backend *be, int argc, char *argv[]);
+}
+class Picdb::Backend
+{
+public:
+  Backend ();
+  virtual FileList *GetFileList ();
+  virtual FileData *GetFileData (char *fmd5);
+  virtual Media *GetMedia (char *fmd5);
+  virtual Media *GetThumbnail (char *fmd5);
+  virtual bool AddFile (char *fmd5, FileData *fdta, Media *med, Media *thumb=NULL);
+  virtual bool ChangeFileData (char *fmd5, FileData *fdta);
+  virtual bool ChangeDataKey  (char *fmd5, char *key, char *val);
+  virtual bool ChangeFileMedia (char *fmd5, Media *med);
+  virtual bool ChangeFileThumbnail (char *fmd5, Media *thumb);
+  virtual ~Backend (); 
+};
+#endif

Added: trunk/include/backends
===================================================================
--- trunk/include/backends	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/backends	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+link /home/segfault/projects/c/picdb/backends/include
\ No newline at end of file


Property changes on: trunk/include/backends
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/include/config.hpp
===================================================================
--- trunk/include/config.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/config.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,127 @@
+/******************************************************************
+*                config.hpp 
+*   Sun Nov 21 20:40:54 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_CONFIG_HPP
+#define PICDB_CONFIG_HPP
+//#include &lt;picdb.hpp&gt;
+#include &quot;xml.hpp&quot;
+//#include &quot;filelist.hpp&quot;
+#include &quot;exception.hpp&quot;
+#include &quot;warning.hpp&quot;
+#include &quot;logger.hpp&quot;
+#include &quot;memorymanager.hpp&quot;
+#include &quot;picdb.hpp&quot;
+#include &lt;hash_map.h&gt;
+
+namespace Picdb
+{
+  class Config;
+  namespace XML
+  {
+    namespace Config
+    {
+      class StrX;
+      class CfgSaxHandler;
+    }
+  }
+  extern Picdb::Config *ConfigFile;
+}
+class Picdb::XML::Config::StrX
+{
+public :
+    // -----------------------------------------------------------------------
+    //  Constructors and Destructor
+    // -----------------------------------------------------------------------
+    StrX(const XMLCh* const toTranscode)
+    {
+        // Call the private transcoding method
+        fLocalForm = XMLString::transcode(toTranscode);
+    }
+
+    ~StrX()
+    {
+        XMLString::release(&amp;fLocalForm);
+    }
+
+    // -----------------------------------------------------------------------
+    //  Getter methods
+    // -----------------------------------------------------------------------
+    const char* localForm() const
+    {
+        return fLocalForm;
+    }
+
+private :
+    // -----------------------------------------------------------------------
+    //  Private data members
+    //
+    //  fLocalForm
+    //      This is the local code page form of the string.
+    // -----------------------------------------------------------------------
+    char*   fLocalForm;
+};
+
+class Picdb::XML::Config::CfgSaxHandler: public DefaultHandler
+{
+public:
+  CfgSaxHandler (Picdb::Config *c){cfg=c;}
+  virtual void 	endElement (const XMLCh *const uri, const XMLCh *const localname, const XMLCh *const qname);
+  virtual void 	startElement (const XMLCh *const uri, const XMLCh *const localname, const XMLCh *const qname, const Attributes &amp;attrs);
+  virtual void 	error (const SAXParseException &amp;exc);
+  virtual void 	fatalError (const SAXParseException &amp;exc);
+  virtual void 	warning (const SAXParseException &amp;exc);
+protected:
+  void AddOption (Picdb::XML::Config::StrX *v, char *suffix=NULL);
+  void AddOption (char *v, char *suffix=NULL);
+  void AddConfig (Picdb::XML::Config::StrX *cfgfilename);
+  Picdb::Config *cfg;
+  std::list&lt;char *&gt; mElemPath;
+};
+
+class Picdb::Config
+{
+  friend class Picdb::XML::Config::CfgSaxHandler;
+public:
+  typedef std::list&lt;const char*&gt; list_t ;
+  Config (const char *cfgfilename);
+  virtual ~Config (); 
+  char *operator[](const char*);
+  const list_t &amp;Keys();
+protected:
+  struct eqstr
+  {
+    bool operator()(const char* s1, const char* s2) const
+    {
+      return strcmp(s1, s2) == 0;
+    }
+  };
+  int success;
+  Picdb::XML::XML xml_instance;
+  hash_map&lt;const char*, char *, hash&lt;const char*&gt;, eqstr&gt; mData;
+  //std::list &lt;const char*&gt; mKeys;
+  list_t mKeys;
+};
+#endif

Added: trunk/include/db.hpp
===================================================================
--- trunk/include/db.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/db.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,43 @@
+/******************************************************************
+*                db.hpp 
+*   Fri Jan 14 00:18:09 2005
+*   Copyright 2005 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_DB_HPP
+#define PICDB_DB_HPP
+#include &quot;backend.hpp&quot;
+#include &lt;pcre.h&gt;
+
+namespace Picdb
+{
+  class DB;
+}
+class Picdb::DB
+{
+public:
+  DB (Backend *b);
+  
+  virtual ~DB (); 
+};
+#endif

Added: trunk/include/exception.hpp
===================================================================
--- trunk/include/exception.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/exception.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,82 @@
+/******************************************************************
+*                exception.hpp 
+*   Sun Nov 21 17:04:17 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_EXCEPTION_HPP
+#define PICDB_EXCEPTION_HPP
+#include &quot;logger.hpp&quot;
+#include &quot;picdb.hpp&quot;
+namespace Picdb
+{
+  class Exception;
+  class ErrorType;
+  class LogLevel;
+  namespace Errors
+  {
+    extern ErrorType Error;
+    extern ErrorType NotImplementedError;
+    extern ErrorType FileNotFoundError;
+    extern ErrorType ParseError;
+    extern ErrorType VersionError;
+    extern ErrorType RegexpError;
+    extern ErrorType XmlError;
+  }
+}
+
+class Picdb::ErrorType
+{
+public:
+  ErrorType(char *exc_type=&quot;Error&quot;){name=strdup(exc_type);}
+  ~ErrorType(){free(name);}
+  const char *GetErrorType (){return name;}
+  int operator ==(ErrorType &amp;e){return strcmp (name, e.name)==0;}
+  int operator !=(ErrorType &amp;e){return strcmp (name, e.name)!=0;}
+  ErrorType &amp;operator =(ErrorType &amp;e){free(name); name=strdup(e.name); return *this;}
+protected:
+  char *name;
+};
+
+class Picdb::Exception
+{
+public:
+  Exception (Picdb::ErrorType &amp;e, Picdb::LogLevel &amp;lvl, char *f, unsigned long l, char *s, char *fmt, ...);
+  LogLevel &amp;GetLevel(){return level;}
+  char *GetFile (){return file;}
+  unsigned long GetLine(){return line;}
+  char *GetSubsystem(){return subsystem;}
+  char *GetMessage(){return msg;}
+  ErrorType &amp;GetError(){return exc_type;}
+  virtual ~Exception ();
+protected:
+  void Log (Picdb::LogLevel &amp;lvl, char *f, unsigned long l, char *s, char *m);
+  LogLevel level;
+  unsigned long line;
+  char *subsystem;
+  char *msg;
+  char *file;
+  ErrorType exc_type;
+};
+#define PicdbError(etype, lvl, subsys, fmt, ...) throw new ::Picdb::Exception(etype, lvl, __FILE__, __LINE__, subsys, fmt, ## __VA_ARGS__)
+#endif

Added: trunk/include/filedata.hpp
===================================================================
--- trunk/include/filedata.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/filedata.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,58 @@
+/******************************************************************
+*                filedata.hpp 
+*   Thu Dec 30 16:52:01 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_FILEDATA_HPP
+#define PICDB_FILEDATA_HPP
+#include &quot;memorymanager.hpp&quot;
+#include &quot;picdb.hpp&quot;
+#include &lt;list&gt;
+#include &lt;hash_map.h&gt;
+namespace Picdb
+{
+  class FileData;
+}
+class Picdb::FileData
+{
+public:
+  FileData (const char *lines);
+  void ParseLine (const char *line);
+  char *&amp;operator[](const char *idx);
+  char *Repr();
+  virtual ~FileData (); 
+protected:
+  struct eqstr
+  {
+    bool operator()(const char* s1, const char* s2) const
+    {
+      return strcmp(s1, s2) == 0;
+    }
+  };
+  size_t blocksize;
+  size_t size_used;
+  hash_map&lt;const char*, char *, hash&lt;const char*&gt;, eqstr&gt; mData;
+  //std::list&lt;char*&gt; mKeys;
+};
+#endif

Added: trunk/include/filelist.hpp
===================================================================
--- trunk/include/filelist.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/filelist.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,62 @@
+/******************************************************************
+*                filelist.hpp 
+*   Sun Dec 19 13:21:22 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_FILELIST_HPP
+#define PICDB_FILELIST_HPP
+#include &quot;memorymanager.hpp&quot;
+#include &lt;list&gt;
+namespace Picdb
+{
+  class FileList;
+}
+
+class Picdb::FileList
+{
+public:
+  FileList ();
+  FileList (FileList &amp;);
+  FileList &amp;operator -- ();
+  FileList &amp;operator ++ ();
+  FileList &amp;operator -- (int);
+  FileList &amp;operator ++ (int);
+  FileList &amp;operator =(FileList &amp;);
+  int IsEnd ();
+  int IsBegin ();
+  void ResetBegin ();
+  void ResetEnd();
+  char *operator *();
+  //pushes back a *duplicate* of the given string !
+  void PushBack(const char *); 
+  unsigned long int Size();
+  void Dump();
+  void Clear();
+  void Sort();
+  virtual ~FileList (); 
+protected: 
+  std::list&lt;char*&gt;::iterator i;
+  std::list&lt;char*&gt; l;
+};
+#endif

Added: trunk/include/logger.hpp
===================================================================
--- trunk/include/logger.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/logger.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,106 @@
+/******************************************************************
+*                logger.hpp 
+*   Sun Nov 21 12:43:41 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_LOGGER_HPP
+#define PICDB_LOGGER_HPP
+#include &lt;stdlib.h&gt;
+#include &lt;string.h&gt;
+#include &lt;list&gt;
+#include &lt;time.h&gt;
+#include &lt;stdarg.h&gt;
+#include &quot;picdb.hpp&quot;
+
+namespace Picdb
+{
+  class Logger;
+  class LogStream;
+  class LogLevel;
+  class TerminalLogStream;
+  extern LogLevel Log_Debug;
+  extern LogLevel Log_Info;
+  extern LogLevel Log_Warning;
+  extern LogLevel Log_Error;
+  extern LogLevel Log_Critical;
+  extern Logger Log;
+}
+
+class Picdb::LogLevel
+{
+public:
+  LogLevel (int lvl=0, char *lname=NULL, int clr=0);
+  ~LogLevel ();
+  int operator ==(LogLevel&amp;);
+  LogLevel &amp;operator =(LogLevel&amp;);
+  int operator &lt;(LogLevel&amp;);
+  int operator &gt;(LogLevel&amp;);
+  int operator &gt;=(LogLevel&amp;);
+  int operator &lt;=(LogLevel&amp;);
+  char *GetName(){return name;}
+  int GetLevel(){return level;}
+  int GetColor(){return color;}
+protected:
+  int level;
+  int color;
+  char *name;
+};
+
+class Picdb::LogStream //Default implementation just writest to stdout
+{
+public:
+  LogStream();
+  virtual ~LogStream();
+  virtual void Write (Picdb::LogLevel &amp;lvl, char *subsystem, char *txt);
+  virtual void Write (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsystem, char *txt);
+private:
+};
+
+class Picdb::TerminalLogStream : public Picdb::LogStream //behaves exactly like the default implementation, but colorises the output
+{
+public:
+  virtual void Write (Picdb::LogLevel &amp;lvl, char *subsystem, char *txt);
+  virtual void Write (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsystem, char *txt);
+};
+
+class Picdb::Logger
+{
+public:
+  Logger ();
+  ~Logger (); 
+  void Log (Picdb::LogLevel &amp;lvl, char *subsystem, char *fmt,...);
+  void Log (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsytem, char *fmt, ...);
+  void LogSimple (Picdb::LogLevel &amp;lvl, char *subsytem, char *msg);
+  void LogSimple (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsytem, char *msg);
+  void SetMask (Picdb::LogLevel &amp;lvl) {mask=lvl;}
+  LogLevel &amp;GetMask (){return mask;}
+  void AddStream (Picdb::LogStream *s);
+  //void AddStream (Picdb::LogStream &amp;s);
+protected:
+  Picdb::LogLevel mask;
+  std::list&lt;LogStream*&gt; streams;
+};
+
+#define LogMessage(lvl, subsys, format, ...) ::Picdb::Log.Log (lvl, __FILE__, __LINE__, subsys, format, ## __VA_ARGS__)
+#endif

Added: trunk/include/media.hpp
===================================================================
--- trunk/include/media.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/media.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,53 @@
+/******************************************************************
+*                media.hpp 
+*   Tue Jan  4 00:47:42 2005
+*   Copyright 2005 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_MEDIA_HPP
+#define PICDB_MEDIA_HPP
+#include &quot;picdb.hpp&quot;
+#include &quot;os.hpp&quot;
+
+namespace Picdb
+{
+  class Media;
+}
+class Picdb::Media
+{
+public:
+  Media (char *filename, char *mtype);
+  Media (void *data, size_t lenght, char *mtype);
+  void Reset();
+  size_t Seek(size_t); //returns current position from beginning of file
+  size_t Tell();
+  size_t Read (size_t);
+  size_t Read ();
+  bool Eof (); 
+  void Thumbnail();    //creates a thumbnail or preview version of the file, if possible (only images)
+  char *GetMtype();
+  virtual ~Media (); 
+protected:
+  char *MType;
+};
+#endif

Added: trunk/include/memorymanager.hpp
===================================================================
--- trunk/include/memorymanager.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/memorymanager.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,108 @@
+/******************************************************************
+*                memorymanager.hpp 
+*   Thu Dec  2 15:15:32 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_MEMORYMANAGER_HPP
+#define PICDB_MEMORYMANAGER_HPP
+#include &quot;picdb.hpp&quot;
+#include &quot;exception.hpp&quot;
+#include &quot;warning.hpp&quot;
+#include &lt;stdarg.h&gt;
+#include &lt;stdlib.h&gt;
+//#include &lt;hash_map&gt;
+#include &lt;map.h&gt;
+#include &lt;list&gt;
+namespace Picdb
+{
+  class MemoryManager;
+  extern MemoryManager *MManager;
+}
+
+/**
+ *This class should emulate the most important 'str*' and 'mem*' - functions, plus malloc, realloc, free and some printf-like functions.
+ *In contrary to the default functions, the functions provided here should never cause a segmentation fault/buffer overflow/whatever, at lest, if they get
+ *a pointer allocated with MemoryManager::alloc(). Instead, they should take the needed measures to cause the requested operation to complete successfully
+ *(e.g. allocate more memory for a string operation etc.). Additionally, the destructor checks for unfree'd memory and logs warnings containing information on
+ *where the memory was allocated and how much memory was leaked.
+ */
+class Picdb::MemoryManager
+{
+public:
+  MemoryManager ();
+  //!==malloc(s);
+  void *alloc (size_t s, void *fcntaddr=NULL, const char *file=NULL, const int line=0, const char *func=NULL);
+  //!==free(p)
+  void free (void *p, void *fcntaddr=NULL, const char *file=NULL, const int line=0, const char *func=NULL);
+  //!==realloc (p,ns)
+  void *realloc (void *p, size_t ns);
+  //!Returns the Size of an allocated block at *block
+  size_t BlockSize (const void *block, int exact_ptr=1);
+
+  //!==strlen(s+start)
+  size_t strlen(const char *s, int start=0);
+  //!==strdup(s+start)
+  char *strdup (const char *s, int start=0);
+  //!==strcat(dest,src)
+  char *strcat (char *dest, const char *src);
+  //!==strncat(dest,src,n);
+  char *strncat (char *dest, const char *src, size_t n);
+  //!==strcpy(dest,src)
+  char *strcpy (char *dest, const char *src);
+  //!==strncpy(dest,src)
+  char *strncpy (char *dest, const char *src, size_t n);
+  int strcmp (const char *s1, const char *s1);
+  int strncmp (const char *s1, const char *s2, size_t n);
+  int strcasecmp (const char*, const char *);
+  int strncasecmp (const char *, const char *, size_t);
+  char *index (const char *, char);
+  char *rindex (const char*, char);
+  char *strpbrk (const char*, const char*);
+  char *strstr (const char*, const char*);
+
+  int memcmp (const void *, const void *, size_t);
+  void memset (void *, char, size_t);
+  void *memcpy (void *dest, const void *src, size_t n);
+  
+  int sprintf (char *, char *, ...);
+  int asprintf (char **, char *, ...);
+  int vsprintf (char *, char *, va_list);
+  int vasprintf (char **, char *, va_list);
+  virtual ~MemoryManager (); 
+protected:
+  typedef struct
+  {
+    void *address;
+    size_t size;
+    char *file;
+    int line;
+    char *fctn;
+    void *alloc_from;
+    int freed;
+  } ptrinfo_t;
+  map &lt;void*, ptrinfo_t*&gt; mMemory;
+};
+#define PicdbAlloc(s) ::Picdb::MManager-&gt;alloc ( s , NULL, __FILE__, __LINE__,  __PRETTY_FUNCTION__)
+#define PicdbFree(p) ::Picdb::MManager-&gt;free ( p , NULL, __FILE__, __LINE__, __PRETTY_FUNCTION__)
+#endif

Added: trunk/include/os.hpp
===================================================================
--- trunk/include/os.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/os.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,52 @@
+/******************************************************************
+*                os.hpp 
+*   Tue Dec  7 15:48:11 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_OS_HPP
+#define PICDB_OS_HPP
+#include &quot;picdb.hpp&quot;
+namespace Picdb
+{
+  class OS; //should be a singleton or even only define static functions.
+}
+class Picdb::OS 
+{
+public:
+  OS ();
+  virtual void *OpenLibrary (const char *libname)=0;
+  virtual void CloseLibrary (void *libhdl)=0;
+  virtual void *GetLibrarySymbol (void *libhdl, const char *symname)=0;
+  virtual void *Fopen (const char *filename, const char *perm)=0;
+  virtual size_t Fread (void *handle, size_t numbytes, void *buffer)=0;  //if numbytes==0 and the buffer was allocated using MManager, the complete file is read
+  virtual size_t Fwrite (void *handle, size_t numbytes, void *buffer)=0; //if numbytes==0 and the buffer was allocated using MManager, the complete buffer is written
+  virtual void Fclose (void *handle)=0;
+  virtual void *Diropen (const char *dirname)=0;
+  virtual int ReadDirEntry (void *handle, char *entryname, int *ftype)=0; //ftype=0 for directorries and ftype=1 for files, 2 for unknown.
+  virtual void Dirclose (void *handle)=0;
+  virtual ~OS (); 
+  //protected:
+  static OS* Instance;
+};
+#endif

Added: trunk/include/picdb.hpp
===================================================================
--- trunk/include/picdb.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/picdb.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,88 @@
+/******************************************************************
+*                picdb.hpp 
+*   Sun Nov 21 12:43:41 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+#ifndef PICDB_PICDB_HPP
+#define PICDB_PICDB_HPP
+#include &lt;xercesc/parsers/SAXParser.hpp&gt;
+#include &lt;xercesc/parsers/XercesDOMParser.hpp&gt;
+#include &lt;xercesc/sax/HandlerBase.hpp&gt;
+#include &lt;xercesc/util/XMLString.hpp&gt;
+#include &lt;xercesc/dom/DOM.hpp&gt;
+#include &lt;xercesc/util/PlatformUtils.hpp&gt;
+#include &lt;xercesc/sax2/SAX2XMLReader.hpp&gt;
+#include &lt;xercesc/sax2/XMLReaderFactory.hpp&gt;
+#include &lt;xercesc/sax2/DefaultHandler.hpp&gt;
+
+#include &lt;string.h&gt;
+#if defined(XERCES_NEW_IOSTREAMS)
+#include &lt;iostream&gt;
+#else
+#include &lt;iostream.h&gt;
+#endif
+#include &lt;stdlib.h&gt;
+#include &lt;stdio.h&gt;
+XERCES_CPP_NAMESPACE_USE
+
+/*#include &quot;logger.hpp&quot;
+#include &quot;exception.hpp&quot;
+#include &quot;warning.hpp&quot;
+#include &quot;xml.hpp&quot;
+#include &quot;filedata.hpp&quot;
+#include &quot;backend.hpp&quot;
+#include &quot;config.hpp&quot;
+#include &quot;filelist.hpp&quot;
+#include &quot;image.hpp&quot;
+//#include &quot;db.hpp&quot;
+#include &quot;xmllogstream.hpp&quot;
+#include &quot;sqlbackend.hpp&quot;*/
+//#include &quot;memorymanager.hpp&quot;
+namespace Picdb
+{
+  namespace XML
+  {
+  }
+  namespace Errors
+  {
+  }
+  int Init();
+  void Shutdown();
+  class MemoryManager; //Should not be used in Logger, Exception, Warning and LogStream derived classes.
+  class Logger;
+  class LogStream;
+  class LogLevel;
+  class Exception;
+  class ErrorType;
+  class Warning;
+  class FileData;
+  class Filelist;
+  class Backend;
+  class Config;
+  class Image;
+  class DB;
+  class XmlLogStream;
+  class XhtmlLogStream;
+  class SqlBackend;
+}
+#endif

Added: trunk/include/sqlbackend.hpp
===================================================================
--- trunk/include/sqlbackend.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/sqlbackend.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,49 @@
+/******************************************************************
+*                sqlbackend.hpp 
+*   Sat Dec  4 14:53:57 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_SQLBACKEND_HPP
+#define PICDB_SQLBACKEND_HPP
+#include &quot;picdb.hpp&quot;
+#include &quot;backend.hpp&quot;
+#include &lt;list&gt;
+namespace Picdb
+{
+  class SqlBackend;
+}
+class Picdb::SqlBackend
+{
+  //public:
+protected:
+  typedef std::list&lt;char*&gt; list_t;
+  /*SqlBackend ();
+    virtual ~SqlBackend ()=0;*/
+  virtual int Connect()=0;
+  virtual int Exec()=0;
+  virtual int Close()=0;
+  virtual int RowsLeft()=0;
+  virtual int GetNextRow(list_t *rownames, list_t *rowvalues)=0;
+};
+#endif

Added: trunk/include/unixos.hpp
===================================================================
--- trunk/include/unixos.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/unixos.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,57 @@
+/******************************************************************
+*                unixos.hpp 
+*   Thu Dec 30 13:32:29 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_UNIXOS_HPP
+#define PICDB_UNIXOS_HPP
+#include &quot;os.hpp&quot;
+#include &quot;memorymanager.hpp&quot;
+#include &lt;dlfcn.h&gt;
+#include &lt;stdio.h&gt;
+#include &lt;stdlib.h&gt;
+#include &lt;dirent.h&gt;
+#include &lt;sys/types.h&gt;
+
+namespace Picdb
+{
+  class UnixOS;
+}
+class Picdb::UnixOS: public Picdb::OS
+{
+public:
+  //UnixOS ();
+  //virtual ~UnixOS (); 
+  virtual void *OpenLibrary (const char *libname);
+  virtual void CloseLibrary (void *libhdl);
+  virtual void *GetLibrarySymbol (void *libhdl, const char *symname);
+  virtual void *Fopen (const char *filename, const char *perm);
+  virtual size_t Fread (void *handle, size_t numbytes, void *buffer);  //if numbytes==0 and the buffer was allocated using MManager, the complete file is read
+  virtual size_t Fwrite (void *handle, size_t numbytes, void *buffer); //if numbytes==0 and the buffer was allocated using MManager, the complete buffer is written
+  virtual void Fclose (void *handle);
+  virtual void *Diropen (const char *dirname);
+  virtual int ReadDirEntry (void *handle, char *entryname, int *ftype); //ftype=0 for directorries and ftype=1 for files, 2 for unknown.
+  virtual void Dirclose (void *handle);
+};
+#endif

Added: trunk/include/warning.hpp
===================================================================
--- trunk/include/warning.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/warning.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,43 @@
+/******************************************************************
+*                warning.hpp 
+*   Tue Nov 23 20:13:21 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_WARNING_HPP
+#define PICDB_WARNING_HPP
+#include &quot;exception.hpp&quot;
+#include &quot;picdb.hpp&quot;
+namespace Picdb
+{
+  class Warning;
+  class ErrorType;
+}
+class Picdb::Warning
+{
+public:
+  Warning (Picdb::ErrorType &amp;e, char *f, unsigned long l, char *s, char *fmt, ...);
+  virtual ~Warning ();  
+};
+#define PicdbWarning(etype, subsys, fmt, ...) new ::Picdb::Warning(etype, __FILE__, __LINE__, subsys, fmt, ## __VA_ARGS__)
+#endif

Added: trunk/include/xml.hpp
===================================================================
--- trunk/include/xml.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/xml.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,47 @@
+/******************************************************************
+*                xml.hpp 
+*   Wed Dec  1 16:47:18 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_XML_HPP
+#define PICDB_XML_HPP
+#include &quot;picdb.hpp&quot;
+#include &quot;logger.hpp&quot;
+#include &quot;exception.hpp&quot;
+namespace Picdb
+{
+  namespace XML
+  {
+    class XML;
+  }
+}
+class Picdb::XML::XML
+{
+public:
+  XML ();
+  virtual ~XML (); 
+protected:
+  static int smCount;
+};
+#endif

Added: trunk/include/xmllogstream.hpp
===================================================================
--- trunk/include/xmllogstream.hpp	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/include/xmllogstream.hpp	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,67 @@
+/******************************************************************
+*                xmllogstream.hpp 
+*   Wed Dec  1 14:44:11 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#ifndef PICDB_XMLLOGSTREAM_HPP
+#define PICDB_XMLLOGSTREAM_HPP
+#include &lt;map.h&gt;
+#include &quot;logger.hpp&quot;
+#include &quot;picdb.hpp&quot;
+#include &lt;stdio.h&gt;
+#include &lt;time.h&gt;
+namespace Picdb
+{
+  class XmlLogStream;
+  class XhtmlLogStream;
+}
+class Picdb::XmlLogStream: public Picdb::LogStream
+{
+public:
+  XmlLogStream (FILE *fp);
+  XmlLogStream (char *filename);
+  virtual void Write (Picdb::LogLevel &amp;lvl, char *subsystem, char *txt);
+  virtual void Write (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsystem, char *txt);
+  virtual ~XmlLogStream (); 
+protected:
+  XmlLogStream(){}
+  virtual void StartDocument();
+  char *GetDate();
+  char *GetTime();
+  FILE *stream;
+};
+class Picdb::XhtmlLogStream: public Picdb::XmlLogStream
+{
+public:
+  XhtmlLogStream (FILE *fp);
+  XhtmlLogStream (char *filename);
+  virtual void Write (Picdb::LogLevel &amp;lvl, char *subsystem, char *txt);
+  virtual void Write (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsystem, char *txt);
+  virtual  ~XhtmlLogStream();
+protected:
+  virtual void StartDocument();
+  virtual void InitColorNames();
+  static std::map &lt;const int, char *&gt; mColorNames;
+};
+#endif

Added: trunk/install-sh
===================================================================
--- trunk/install-sh	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/install-sh	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+link /usr/share/automake-1.5/install-sh
\ No newline at end of file


Property changes on: trunk/install-sh
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/ltmain.sh
===================================================================
--- trunk/ltmain.sh	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/ltmain.sh	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+link /usr/share/libtool/ltmain.sh
\ No newline at end of file


Property changes on: trunk/ltmain.sh
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/main.bmp
===================================================================
(Binary files differ)


Property changes on: trunk/main.bmp
___________________________________________________________________
Name: svn:executable
   + 
Name: svn:mime-type
   + application/octet-stream

Added: trunk/main.cc
===================================================================
--- trunk/main.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/main.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,167 @@
+#include &lt;stdio.h&gt;
+#include &lt;logger.hpp&gt;
+#include &lt;warning.hpp&gt;
+#include &lt;xmllogstream.hpp&gt;
+#include &lt;list&gt;
+#include &lt;memorymanager.hpp&gt;
+#include &lt;config.hpp&gt;
+#include &lt;filelist.hpp&gt;
+#include &lt;os.hpp&gt;
+#include &lt;filedata.hpp&gt;
+#include &lt;backend.hpp&gt;
+
+
+using namespace Picdb;
+//(void*)(Picdb::Backend *GetBackend(char* name,...)) a;
+/*typedef Backend*
+  (*Factory_t)
+  (
+   char*,
+   ...
+   )
+;*/
+/*Factory_t be;
+  Destructor_t kbe;*/
+
+void LogTest()
+{
+  LogMessage (Log_Debug, &quot;main&quot;, &quot;test&quot;);
+  LogMessage (Log_Info, &quot;main&quot;, &quot;test&quot;);
+  LogMessage (Log_Warning, &quot;main&quot;, &quot;test&quot;);
+  LogMessage (Log_Error, &quot;main&quot;, &quot;test&quot;);
+  LogMessage (Log_Critical, &quot;main&quot;, &quot;test&quot;);
+} 
+
+
+//int mm_main (int agrc, char **argv)
+//{
+// void *p;
+//  char *str, *xstr;
+//  Log.AddStream (new TerminalLogStream);
+//  Picdb::MemoryManager *mm;
+//  Picdb::MManager = new Picdb::MemoryManager;
+//  mm=Picdb::MManager;
+  //mm-&gt;alloc (1024);
+  //mm-&gt;alloc (2048);
+  //mm-&gt;free (mm-&gt;alloc(4096));
+  //p=mm-&gt;alloc(8192);
+  //mm-&gt;free(p);
+  //mm-&gt;free(p);
+  //PicdbAlloc(1024);
+  //PicdbAlloc(2048);
+  //PicdbFree(PicdbAlloc(4096));
+  //p=PicdbAlloc (8192);
+  //printf (&quot;%i, %i\n&quot;, mm-&gt;BlockSize(p), mm-&gt;BlockSize((char*)p+1));
+  //p=mm-&gt;realloc (p, 0x400*64);
+  //mm-&gt;realloc (malloc(1024), 0x400*1024);
+  //printf (&quot;%i, %i\n&quot;, mm-&gt;BlockSize(p,0), mm-&gt;BlockSize((char*)p+1,0));
+  //PicdbFree(p);
+  //printf (&quot;%i, %i\n&quot;, mm-&gt;BlockSize(p,0), mm-&gt;BlockSize((char*)p+1,0));
+  //PicdbFree(p);
+  //str=(char*)PicdbAlloc(2);
+  /*str=(char*)mm-&gt;strdup (&quot;hello, world&quot;, 5);
+  printf (&quot;%s\n%i\n&quot;, str, mm-&gt;BlockSize(str));
+
+  xstr=(char*)mm-&gt;strdup(str);
+  printf (&quot;%s\n%i\n&quot;, xstr , mm-&gt;BlockSize(xstr));
+
+  xstr=(char*)realloc (xstr, 1024);
+  printf (&quot;%s\n%i\n&quot;, xstr, mm-&gt;BlockSize(xstr));
+
+  str =mm-&gt;strcat (str, mm-&gt;strdup (&quot;01234567890123467980123456789&quot;));
+  printf (&quot;%s\n%i\n&quot;, str, mm-&gt;BlockSize(str)); */
+
+  //str=mm-&gt;strdup (&quot;HELL&quot;);
+  //str=mm-&gt;strncat (str, &quot;,World&quot;, 1);
+  //xstr=mm-&gt;strdup (&quot;HeLlo&quot;);
+  //printf (&quot;%s == %s ?\n&quot;, str, xstr);
+  // printf (&quot;%i\n&quot;, mm-&gt;strncasecmp (str, xstr, 5));
+//  str=mm-&gt;strdup(&quot;Hell&quot;);
+  //xstr=mm-&gt;strdup (&quot;Hell&quot;);
+//  xstr=(char*)mm-&gt;alloc(512);
+  //xstr=(char*)mm-&gt;memcpy (xstr, str, 512);
+//  xstr=mm-&gt;strncpy (xstr, str, 3);
+  //printf (&quot;%i\n&quot;, mm-&gt;rindex (str,'l')-str);
+  //printf (&quot;%s\n&quot;, mm-&gt;rindex (str,'l'));
+//  printf (&quot;%s==%s\n%i\n&quot;, str,xstr,mm-&gt;memcmp (str, xstr,5));
+//  delete (Picdb::MManager);
+//}
+
+int config_main (int argc, char **argv)
+{
+  Log.AddStream (new TerminalLogStream);
+  Init();
+  Config *cfg =new Config(&quot;config.xml&quot;);
+  Picdb::Config::list_t keys;
+  Picdb::Config::list_t::iterator iter;
+  keys=cfg-&gt;Keys();
+  for (iter=keys.begin();iter!=keys.end();iter++ )
+    {
+      printf (&quot;%s\n    &quot;, *iter);
+      printf (&quot;%s\n&quot;, (*cfg)[*iter]);
+    }
+  delete cfg;
+  Shutdown();
+}
+
+int filedata_main (int argc, char **argv)
+{
+  Log.AddStream (new TerminalLogStream);
+  Init();
+  //FILE *fp=fopen (&quot;00004f3f929ab968ecf293bc6c16eaef&quot;,&quot;r&quot;);
+  FILE *fp=fopen (&quot;14355dbddcdaf68a134a5cd745b11161&quot;, &quot;r&quot;);
+  char *Buffer=(char*)malloc (10240);
+  memset (Buffer,0,10240);
+  fread (Buffer, 1,10240, fp);
+  fclose(fp);
+  //printf (&quot;%s&quot;, Buffer);
+  FileData *fd=new FileData (Buffer);
+  printf (&quot;%s\n&quot;, (*fd)[&quot;comment&quot;]);
+  delete fd;
+  Shutdown();
+}
+
+int main (int argc, char **argv)
+{
+  Log.AddStream (new TerminalLogStream);
+  Init();
+  char *v[]={&quot;/home/segfault/Documents/Pictures&quot;};
+  Backend *be = LoadBackend (&quot;libpicdbbefile.so&quot;, &quot;File:1s&quot;, 1, v/*&quot;/home/segfault/Documents/Pictures&quot;*/);
+  FileList *fl = be-&gt;GetFileList();
+  fl-&gt;Dump();
+  delete fl;
+  delete be;
+  Shutdown();
+}
+
+int lib_main (int argc, char **argv)
+{
+  Picdb::OS *os;
+  Log.AddStream (new TerminalLogStream);
+  Init();
+  printf (&quot;OS: %p\n&quot;, OS::Instance);
+  os=OS::Instance;
+  void *lhdl = os-&gt;OpenLibrary (&quot;libm.so.6&quot;);
+  float (*c) (float) = (float (*)(float))os-&gt;GetLibrarySymbol (lhdl, &quot;cosf&quot;);
+  printf (&quot;%f\n&quot;, c(0.0f));
+  os-&gt;CloseLibrary (lhdl);
+  Shutdown();
+}
+
+int filelist_main (int argc, char **argv)
+{
+  Log.AddStream (new TerminalLogStream);
+  Init();
+  FileList *l=new FileList;
+  l-&gt;PushBack (&quot;h&quot;);
+  l-&gt;PushBack (&quot;e&quot;);
+  l-&gt;PushBack (&quot;l&quot;);
+  l-&gt;PushBack (&quot;o&quot;);
+  l-&gt;Dump();
+  FileList *j=new FileList;
+  (*j)=(*l);
+  j-&gt;Dump();
+  delete j;
+  delete l;
+  Shutdown();
+}

Added: trunk/memorymanager.cc
===================================================================
--- trunk/memorymanager.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/memorymanager.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,589 @@
+/******************************************************************
+*                memorymanager.cc 
+*   Thu Dec  2 15:15:31 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/memorymanager.hpp&quot;
+
+Picdb::MemoryManager *Picdb::MManager;
+
+Picdb::MemoryManager::MemoryManager ()
+{
+  LogMessage (Log_Info, &quot;MemoryManager&quot;, &quot;Initialising&quot;);
+}
+
+Picdb::MemoryManager::~MemoryManager ()
+{
+  std::map &lt;void *, ptrinfo_t *&gt;::iterator iter;
+  size_t LeakSize=0;
+  LogMessage (Log_Info, &quot;MemoryManager&quot;, &quot;Shutting down.&quot;);
+  for (iter=mMemory.begin();iter!=mMemory.end();iter++)
+    {
+      if ((*iter).second==NULL)
+	continue;
+      if (!(*iter).second-&gt;freed)
+	{
+	  PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Memory leak from %p (%s:%i)(%s): %i bytes at %p not freed&quot;, (*iter).second-&gt;alloc_from, (*iter).second-&gt;file, (*iter).second-&gt;line, (*iter).second-&gt;fctn, (*iter).second-&gt;size, (*iter).second-&gt;address);
+	  LeakSize += (*iter).second-&gt;size;
+	  ::free ((*iter).first);
+	}
+      ::free ((*iter).second-&gt;file);
+      ::free ((*iter).second-&gt;fctn);
+      ::free ((*iter).second);
+    }
+  if (LeakSize)
+    {
+      int mb=LeakSize/(1024*1024);
+      LeakSize=LeakSize%(1024*1024);
+      int kb=LeakSize/1024;
+      LeakSize=LeakSize%1024;
+      PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Total leak-size: %iMB %iKB %iB&quot;, mb, kb, LeakSize);
+    }
+}
+
+/**
+ *@param s how many bytes to allocate
+ *@param fcntaddr the address of the calling function (for debugging purposes)
+ *@param file the file where 'free' was called (...)
+ *@param line the line where 'free' was called (...)
+ *@param func the function where 'free' was called (...)
+ *@return NULL on error, address of the allocated block otherwise
+ */
+void *Picdb::MemoryManager::alloc (size_t s, void *fcntaddr, const char *file,const  int line, const char *func)
+{
+  void *block=::malloc(s);
+  ptrinfo_t *info = new ptrinfo_t;
+  info-&gt;address=block;
+  info-&gt;size=s;
+  if (!fcntaddr)
+    fcntaddr = __builtin_return_address (0);
+  if (file)
+    info-&gt;file=::strdup(file);
+  else
+    info-&gt;file=::strdup(&quot;(unknown)&quot;);
+  info-&gt;line=line;
+  if (func)
+    info-&gt;fctn=::strdup(func);
+  else
+    info-&gt;fctn=::strdup(&quot;(unknown)&quot;);
+  info-&gt;alloc_from=fcntaddr;
+  info-&gt;freed=0;
+  mMemory[block]=info;
+  ::memset (block, 0, s);
+  return block;
+}
+
+/**
+ *@param block the block to be free'd
+ *@param fcntaddr the address of the calling function (for debugging purposes)
+ *@param file the file where 'free' was called (...)
+ *@param line the line where 'free' was called (...)
+ *@param func the function where 'free' was called (...)
+ */
+void Picdb::MemoryManager::free (void *block, void *fcntaddr, const char *file, const int line, const char *func)
+{
+  ptrinfo_t *info = mMemory[block];
+  fcntaddr = __builtin_return_address (0);
+  if (!info)
+    {
+      PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Trying to free unallocated block %p. Caller is %p. (%s:%i:%s)&quot;, block, fcntaddr, file, line, func);
+      return;
+    }
+  if (info-&gt;freed)
+    {
+      PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Trying to free block %p which was already free'd. Caller is %p (%s:%i:%s)&quot;, block, fcntaddr, file, line, func);
+      return;
+    }
+  ::free (block);
+  info-&gt;freed=1;
+}
+
+/**
+ *@param str the string to retrieve the length from
+ *@param start where to begin counting (0 to use the complete string)
+ *@return 0 on error, the length of the (remaining) string otherwise
+ */
+size_t Picdb::MemoryManager::strlen (const char *str, int start)
+{
+  const char *p;
+  if (!str)
+    return 0;
+  if (!mMemory[(void*)str])
+    return ::strlen (str+start); //we don't have any information about the given memory address, so we can as well use the original functions
+  ptrinfo_t *info = mMemory[(void*)str];
+  for (p=str+start; (unsigned int)(p-str)&lt;=info-&gt;size &amp;&amp; *p; p++)
+    {}
+  //if (p-str&gt;info-&gt;size)
+  //  return 0;
+  return (size_t)(p-str-start);
+}
+
+/**
+ *@param str the string to duplicate
+ *@param start first char to duplicate (0 to duplicate the complete string)
+ *@return NULL on error, a pointer to the new string otherwise
+ */
+char * Picdb::MemoryManager::strdup (const char *str, int start)
+{
+  char *dest;
+  ptrinfo_t *info, *dinfo;
+  if (!str)  //we got NULL pointer. this would cause a crash in the next block, so we return now.
+    return NULL;
+  info = mMemory[(void*)str];
+  if (!info) //the source pointer doesn't belong to us. just try to duplicate it using the default strcpy but register the copy for us.
+    {
+      dest=::strdup (str+start);
+      dinfo=new ptrinfo_t;
+      dinfo-&gt;address=dest;
+      dinfo-&gt;size = ::strlen(dest)+1;
+      dinfo-&gt;file=::strdup(&quot;(unknown)&quot;);
+      dinfo-&gt;line=0;
+      dinfo-&gt;fctn=::strdup(&quot;(unknown)&quot;);
+      dinfo-&gt;alloc_from=__builtin_return_address (0);
+      dinfo-&gt;freed=0;
+      mMemory[(void*)dest] = dinfo;
+      return dest;
+    }
+  //We've got one of our own blocks and can do full error checking... :)
+  if (info-&gt;freed)
+    {
+      PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Trying to get a duplicate of an already free'd string...&quot;);
+      return NULL;
+    }
+  size_t memsize = info-&gt;size - start;
+  if (info-&gt;size-start &lt;=0)
+    {
+      PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Invalid index given. Block size is %li, index is %li&quot;, info-&gt;size, start);
+      return NULL;
+    }
+  dest = (char*)alloc (memsize+1);
+  ::memcpy (dest, str, memsize);
+  dinfo=new ptrinfo_t;
+  dinfo-&gt;address=dest;
+  dinfo-&gt;size=memsize+1;
+  dinfo-&gt;file=::strdup(&quot;(unknown)&quot;);
+  dinfo-&gt;line=0;
+  dinfo-&gt;fctn=::strdup(&quot;(unknown)&quot;);
+  dinfo-&gt;alloc_from=__builtin_return_address (0);
+  dinfo-&gt;freed=0;
+  mMemory[(void*)dest]=dinfo;
+  return dest;
+}
+
+/**
+ *@param p the address of the block to retrieve the size from
+ *@param exact_ptr if nonzero, the pointer must match an allocated block exactly, if zero, the pointer can be any address in an allocated block
+ *@return 0 on error, the size of the block if the pointer matches exactly, the remaining size of the block, counted from the given pointer
+ */
+size_t Picdb::MemoryManager::BlockSize (void *p, int exact_ptr)
+{
+  ptrinfo_t *info=mMemory[p];
+  if (exact_ptr)
+    {
+      if (!info)
+	return 0;
+      if (info-&gt;freed)
+	{
+	  PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Trying to check blocksize of already free'd block %p.&quot;, p);
+	  return 0;
+	}
+      return info-&gt;size;
+    }
+  else
+    {
+      if (info &amp;&amp; !info-&gt;freed)
+	return info-&gt;size;
+      //LogMessage (Log_Debug, &quot;MemoryManager&quot;, &quot;Fuzzy checking for ptr %p.&quot;, p);
+      std::map &lt;void*, ptrinfo_t*&gt;::iterator iter;
+      for (iter=mMemory.begin();iter!=mMemory.end();iter++)
+	{
+	  if (!(*iter).second)
+	    continue;
+	  //if ((*iter).second-&gt;freed)
+	  //  continue;
+	  info = (*iter).second;
+	  void *start=info-&gt;address;
+	  void *end=((char*)info-&gt;address)+info-&gt;size;
+	  //LogMessage (Log_Debug, &quot;MemoryManager&quot;, &quot;checking ptr %p (%i)...&quot;, info-&gt;address, info-&gt;size);
+	  if (p&gt;=start &amp;&amp; p&lt;end &amp;&amp; !info-&gt;freed)
+	    return (info-&gt;size - ((char*)p-(char*)start));
+	  else if (info-&gt;freed)
+	    PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Trying to check blocksize of already free'd block %p ?&quot;, info-&gt;address);
+	}
+    }
+  return 0;
+}
+
+/**
+ *@param p pointer of block to reallocate
+ *@param ns new size of the block
+ *@return NULL on error, pointer to the new block otherwise
+ *\bug doesn't always change the 'size' field for the newly allocated block. 
+ */
+void *Picdb::MemoryManager::realloc (void *p, size_t ns)
+{
+  void *np;
+  if (!p)
+    return NULL;
+  if (!mMemory[(void*)p])
+    {
+      np= ::realloc (p, ns);
+      ptrinfo_t *info = new ptrinfo_t;
+      info-&gt;size=ns;
+      info-&gt;file=strdup(&quot;(unknown)&quot;);
+      info-&gt;fctn=strdup(&quot;(unknown)&quot;);
+      info-&gt;line=0;
+      info-&gt;alloc_from=NULL;
+      info-&gt;freed=0;
+      mMemory[np]=info;
+      return np;
+    }
+  ptrinfo_t *info=mMemory[(void*)p];
+  if (info-&gt;size &gt;= ns || ns&lt;1)
+    return p;
+  np=::realloc (p,ns);
+  if (np!=p)
+    {
+      info-&gt;freed=1;
+      ptrinfo_t *oi=info;
+      info = new ptrinfo_t;
+      info-&gt;size=ns;
+      info-&gt;file = ::strdup (oi-&gt;file);
+      info-&gt;line = oi-&gt;line;
+      info-&gt;fctn = ::strdup (oi-&gt;fctn);
+      info-&gt;alloc_from = oi-&gt;alloc_from;
+      info-&gt;freed=0;
+      info-&gt;address=np;
+      mMemory[np]=info;
+      //PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;reallocated block %p(%i)-&gt;%p(%i)&quot;, p,oi-&gt;size, np, ns);
+    }
+  else
+    {
+      mMemory[np]-&gt;size=ns;
+    }
+  return np;  
+}
+
+/**
+ *@param dest the string to which 'src' should be appended
+ *@param src the string to append to 'dest'
+ *@return NULL on error, 'dest' otherwise
+ */
+char *Picdb::MemoryManager::strcat (char *dest, const char *src)
+{
+  unsigned long int index=0;
+  unsigned long int dindex=0;
+  ptrinfo_t *sinfo, *dinfo;
+  sinfo = mMemory[(void*)src];
+  dinfo = mMemory[(void*)dest];
+  if (!dinfo &amp;&amp; !sinfo) //neither source address nor destination address can be checked. no need to try any tricks here, just let ::strcat do it's job...
+    {
+      ::strcat (dest, src);
+      return dest;
+    }
+  dindex = strlen(dest);
+  while (src[index])
+    {
+      if (dinfo &amp;&amp; index+dindex &gt; dinfo-&gt;size)
+	{
+	  dest = (char*)realloc (dest, dinfo-&gt;size+256);
+	}
+      if (sinfo &amp;&amp; index &gt; sinfo-&gt;size)
+	{
+	 dest[index]=0;
+	 break;
+	}
+      dest[index+dindex]=src[index];
+      index++;
+    }
+  return dest;
+}
+
+/**
+ *@param dest the string to which 'src' should be appended
+ *@param src the string to append to 'dest'
+ *@param n copy at most this many character
+ *@return NULL on error, 'dest' otherwise.
+ */
+char *Picdb::MemoryManager::strncat (char *dest, const char *src, size_t n)
+{
+  unsigned long int index=0;
+  unsigned long int dindex=0;
+  ptrinfo_t *sinfo, *dinfo;
+  if (!n)
+    return dest; //we do not seem to want to copy anything... 
+  sinfo = mMemory[(void*)src];
+  dinfo = mMemory[(void*)dest];
+  if (!dinfo &amp;&amp; !sinfo) //neither source address nor destination address can be checked. no need to try any tricks here, just let ::strcat do it's job...
+    {
+      ::strncat (dest, src, n);
+      return dest;
+    }
+  dindex = strlen(dest);
+  while (src[index] &amp;&amp; index&lt;=n)
+    {
+      if (dinfo &amp;&amp; index+dindex &gt; dinfo-&gt;size)
+	{
+	  dest = (char*)realloc (dest, dinfo-&gt;size+256);
+	}
+      if (sinfo &amp;&amp; index &gt; sinfo-&gt;size)
+	{
+	 dest[index+dindex]=0;
+	 break;
+	}
+      dest[index+dindex]=src[index];
+      index++;
+    }
+  dest[index+dindex]=0;
+  return dest;
+}
+
+/**
+ *@param s1
+ *@param s2
+ *@return &lt;0 if s1&lt;s2, 0 if s1==s2, &gt;0 if s1&gt;s2
+ */
+int Picdb::MemoryManager::strcmp (const char *s1, const char *s2)
+{
+  unsigned long int index=0;
+  ptrinfo_t *info1, *info2;
+  if (!s1 &amp;&amp; s2) //NULL is less than everything else
+    return -1;
+  if (!s2 &amp;&amp; s1) //everything is greater than NULL
+    return 1;
+  if (!s2 &amp;&amp; !s1) //NULL is equal to NULL.
+    return 0;
+  info1=mMemory[(void*)s1];
+  info2=mMemory[(void*)s2];
+  if (!info1 &amp;&amp; !info2)
+    return ::strcmp (s1,s2);
+  while (1)
+    {
+      //printf (&quot;index %i\n&quot;, index);
+      int s1_end = (s1[index]==0);
+      if (info1)
+	s1_end |= (index&gt;=info1-&gt;size);
+      int s2_end = (s2[index]==0);
+      if (info2)
+	s2_end |= (index&gt;=info2-&gt;size);
+      if (s1_end &amp;&amp; s2_end)
+	{
+	  //printf (&quot;eqv, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 0; //both strings are equal
+	}
+      else if (s1_end &amp;&amp; !s2_end) //s1 is less than s2 
+	{
+	  //printf (&quot;lt, index=%i, s1s:%i, s2s:%i, *s1:%02x, *s2:%02x\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return -1;
+	}
+      else if (!s1_end &amp;&amp; s2_end) //s2 is less than s1
+	{
+	  //printf (&quot;gt, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 1;
+	}
+      if (s1[index] &lt; s2[index])
+	return -1;
+      else if (s1[index] &gt; s2[index])
+	return 1;
+      index++;
+    }
+}
+
+/**
+ *@param s1
+ *@param s2
+ *@param n compare at most this many bytes.
+ *@return &lt;0 if s1&lt;s2, 0 if s1==s2, &gt;0 if s1&gt;s2
+ */
+int Picdb::MemoryManager::strncmp (const char *s1, const char *s2, size_t n)
+{
+  unsigned long int index=0;
+  ptrinfo_t *info1, *info2;
+  if (!s1 &amp;&amp; s2) //NULL is less than everything else
+    return -1;
+  if (!s2 &amp;&amp; s1) //everything is greater than NULL
+    return 1;
+  if (!s2 &amp;&amp; !s1) //NULL is equal to NULL.
+    return 0;
+  info1=mMemory[(void*)s1];
+  info2=mMemory[(void*)s2];
+  if (!info1 &amp;&amp; !info2)
+    return ::strcmp (s1,s2);
+  while (1)
+    {
+      //printf (&quot;index %i\n&quot;, index);
+      if (index==n) //maximum number of chars to compare reached.
+	{
+	  return 0; //strins are equal so far.
+	}
+      int s1_end = (s1[index]==0);
+      if (info1)
+	s1_end |= (index&gt;=info1-&gt;size);
+      int s2_end = (s2[index]==0);
+      if (info2)
+	s2_end |= (index&gt;=info2-&gt;size);
+      if (s1_end &amp;&amp; s2_end)
+	{
+	  //printf (&quot;eqv, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 0; //both strings are equal
+	}
+      else if (s1_end &amp;&amp; !s2_end) //s1 is less than s2 
+	{
+	  //printf (&quot;lt, index=%i, s1s:%i, s2s:%i, *s1:%02x, *s2:%02x\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return -1;
+	}
+      else if (!s1_end &amp;&amp; s2_end) //s2 is less than s1
+	{
+	  //printf (&quot;gt, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 1;
+	}
+      if (s1[index] &lt; s2[index])
+	return -1;
+      else if (s1[index] &gt; s2[index])
+	return 1;
+      index++;
+    }
+}
+
+
+/**
+ *@param s1
+ *@param s2
+ *@return &lt;0 if s1&lt;s2, 0 if s1==s2, &gt;0 if s1&gt;s2
+ */
+int Picdb::MemoryManager::strcasecmp (const char *s1, const char *s2)
+{
+  unsigned long int index=0;
+  ptrinfo_t *info1, *info2;
+  if (!s1 &amp;&amp; s2) //NULL is less than everything else
+    return -1;
+  if (!s2 &amp;&amp; s1) //everything is greater than NULL
+    return 1;
+  if (!s2 &amp;&amp; !s1) //NULL is equal to NULL.
+    return 0;
+  info1=mMemory[(void*)s1];
+  info2=mMemory[(void*)s2];
+  if (!info1 &amp;&amp; !info2)
+    return ::strcmp (s1,s2);
+  while (1)
+    {
+      //printf (&quot;index %i\n&quot;, index);
+      int s1_end = (s1[index]==0);
+      char s1c, s2c;
+      if (info1)
+	s1_end |= (index&gt;=info1-&gt;size);
+      int s2_end = (s2[index]==0);
+      if (info2)
+	s2_end |= (index&gt;=info2-&gt;size);
+      if (s1_end &amp;&amp; s2_end)
+	{
+	  //printf (&quot;eqv, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 0; //both strings are equal
+	}
+      else if (s1_end &amp;&amp; !s2_end) //s1 is less than s2 
+	{
+	  //printf (&quot;lt, index=%i, s1s:%i, s2s:%i, *s1:%02x, *s2:%02x\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return -1;
+	}
+      else if (!s1_end &amp;&amp; s2_end) //s2 is less than s1
+	{
+	  //printf (&quot;gt, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 1;
+	}
+      s1c = s1[index];
+      s2c = s2[index];
+      if (s1c &gt;='A' &amp;&amp; s1c&lt;='Z')
+	s1c += 'a' - 'A';
+      if (s2c &gt;='A' &amp;&amp; s2c&lt;='Z')
+	s2c += 'a' - 'A';
+      if (s1c &lt; s2c)
+	return -1;
+      else if (s1c &gt; s2c)
+	return 1;
+      index++;
+    }
+}
+
+/**
+ *@param s1
+ *@param s2
+ *@param n compare at most this many bytes.
+ *@return &lt;0 if s1&lt;s2, 0 if s1==s2, &gt;0 if s1&gt;s2
+ */
+int Picdb::MemoryManager::strncasecmp (const char *s1, const char *s2, size_t n)
+{
+  unsigned long int index=0;
+  ptrinfo_t *info1, *info2;
+  if (!s1 &amp;&amp; s2) //NULL is less than everything else
+    return -1;
+  if (!s2 &amp;&amp; s1) //everything is greater than NULL
+    return 1;
+  if (!s2 &amp;&amp; !s1) //NULL is equal to NULL.
+    return 0;
+  info1=mMemory[(void*)s1];
+  info2=mMemory[(void*)s2];
+  if (!info1 &amp;&amp; !info2)
+    return ::strcmp (s1,s2);
+  while (1)
+    {
+     if (index==n) //maximum number of chars to compare reached.
+	{
+	  return 0; //strins are equal so far.
+	}
+      //printf (&quot;index %i\n&quot;, index);
+      int s1_end = (s1[index]==0);
+      char s1c, s2c;
+      if (info1)
+	s1_end |= (index&gt;=info1-&gt;size);
+      int s2_end = (s2[index]==0);
+      if (info2)
+	s2_end |= (index&gt;=info2-&gt;size);
+      if (s1_end &amp;&amp; s2_end)
+	{
+	  //printf (&quot;eqv, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 0; //both strings are equal
+	}
+      else if (s1_end &amp;&amp; !s2_end) //s1 is less than s2 
+	{
+	  //printf (&quot;lt, index=%i, s1s:%i, s2s:%i, *s1:%02x, *s2:%02x\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return -1;
+	}
+      else if (!s1_end &amp;&amp; s2_end) //s2 is less than s1
+	{
+	  //printf (&quot;gt, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 1;
+	}
+      s1c = s1[index];
+      s2c = s2[index];
+      if (s1c &gt;='A' &amp;&amp; s1c&lt;='Z')
+	s1c += 'a' - 'A';
+      if (s2c &gt;='A' &amp;&amp; s2c&lt;='Z')
+	s2c += 'a' - 'A';
+      if (s1c &lt; s2c)
+	return -1;
+      else if (s1c &gt; s2c)
+	return 1;
+      index++;
+    }
+}

Added: trunk/missing
===================================================================
--- trunk/missing	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/missing	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+link /usr/share/automake-1.5/missing
\ No newline at end of file


Property changes on: trunk/missing
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/mkclasses.sh
===================================================================
--- trunk/mkclasses.sh	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/mkclasses.sh	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,60 @@
+xCat() #xCat filename str_to_prepend str_to_append
+{
+    echo -e -n &quot;import sys\nfor i in file('$1'):\n  sys.stdout.write ('%s%s%s' % ('$2',i,'$3'))\n&quot; | python
+}
+
+copyright() #copyright filename author mail license
+{
+    cat &lt;&lt;EOF
+/******************************************************************
+*                $1 
+*   `date +%c`
+*   Copyright `date +%Y` $2
+*   $3
+******************************************************************/
+EOF
+    printf &quot;\n/******************************************************************\n&quot;
+    xCat ${4}_hdr.txt '* '
+    printf &quot;******************************************************************/\n\n\n&quot;
+}
+lower()
+{
+    printf &quot;print '$1'.lower()\n&quot; | python
+}
+
+upper()
+{
+    printf &quot;print '$1'.upper()\n&quot; | python
+}
+
+for i in $*
+do
+  f=`lower $i`
+  I=`upper $i`
+  copyright $f.cc 'Jens Krafczyk' '<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>' gpl &gt; src/$f.cc
+  copyright $f.hpp 'Jens Krafczyk' '<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>' gpl &gt; include/$f.hpp
+  cat &lt;&lt;EOF &gt;&gt; src/$f.cc
+#include &quot;../include/$f.hpp&quot;
+Picdb::$i::$i ()
+{
+}
+Picdb::$i::~$i ()
+{
+}
+EOF
+  cat &lt;&lt;EOF &gt;&gt;  include/$f.hpp
+#ifndef PICDB_${I}_HPP
+#define PICDB_${I}_HPP
+namespace Picdb
+{
+  class $i;
+}
+class Picdb::$i
+{
+public:
+  $i ();
+  virtual ~$i (); 
+};
+#endif
+EOF
+done


Property changes on: trunk/mkclasses.sh
___________________________________________________________________
Name: svn:executable
   + 

Added: trunk/mkinstalldirs
===================================================================
--- trunk/mkinstalldirs	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/mkinstalldirs	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+link /usr/share/automake-1.5/mkinstalldirs
\ No newline at end of file


Property changes on: trunk/mkinstalldirs
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/mysqlcfg.xml
===================================================================
--- trunk/mysqlcfg.xml	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/mysqlcfg.xml	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,4 @@
+&lt;?xml version='1.0' encoding='iso-8859-1'?&gt;
+&lt;config name='mysql'&gt;
+  &lt;option name='server' value='localhost' /&gt;
+&lt;/config&gt;

Added: trunk/src/Makefile.am
===================================================================
--- trunk/src/Makefile.am	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/Makefile.am	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,8 @@
+lib_LTLIBRARIES = libpicdb.la
+#noinst_LTLIBRARIES = libpicdb.la
+libpicdb_la_SOURCES = exception.cc logger.cc memorymanager.cc warning.cc xml.cc xmllogstream.cc picdb_init.cc os.cc filelist.cc config.cc unixos.cc backend.cc filedata.cc media.cc
+#config.cc backend.cc
+#libpicdb_la_LDFLAGS = -version-info 3:12:1
+#libpicdb_la_LDFLAGS = -version-info 5:24:2 #is 3.2.34
+#libpicdb_la_LDFLAGS = -version-info 19:99:5 #is 14.5.99
+#copmlete version is: [0-2].2.1

Added: trunk/src/Makefile.in
===================================================================
--- trunk/src/Makefile.in	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/Makefile.in	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,351 @@
+# Makefile.in generated automatically by automake 1.5 from Makefile.am.
+
+# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
+# Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at SET_MAKE</A>@
+
+SHELL = @SHELL@
+
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
+VPATH = @srcdir@
+prefix = @prefix@
+exec_prefix = @exec_prefix@
+
+bindir = @bindir@
+sbindir = @sbindir@
+libexecdir = @libexecdir@
+datadir = @datadir@
+sysconfdir = @sysconfdir@
+sharedstatedir = @sharedstatedir@
+localstatedir = @localstatedir@
+libdir = @libdir@
+infodir = @infodir@
+mandir = @mandir@
+includedir = @includedir@
+oldincludedir = /usr/include
+pkgdatadir = $(datadir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = ..
+
+ACLOCAL = @ACLOCAL@
+AUTOCONF = @AUTOCONF@
+AUTOMAKE = @AUTOMAKE@
+AUTOHEADER = @AUTOHEADER@
+
+INSTALL = @INSTALL@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = @program_transform_name@
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+host_alias = @host_alias@
+host_triplet = @host@
+AMTAR = @AMTAR@
+AS = @AS@
+AWK = @AWK@
+CC = @CC@
+CXX = @CXX@
+DEPDIR = @DEPDIR@
+DLLTOOL = @DLLTOOL@
+ECHO = @ECHO@
+EXEEXT = @EXEEXT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+LIBTOOL = @LIBTOOL@
+LN_S = @LN_S@
+OBJDUMP = @OBJDUMP@
+OBJEXT = @OBJEXT@
+PACKAGE = @PACKAGE@
+RANLIB = @RANLIB@
+STRIP = @STRIP@
+VERSION = @VERSION@
+am__include = @am__include@
+am__quote = @am__quote@
+install_sh = @install_sh@
+
+lib_LTLIBRARIES = libpicdb.la
+#noinst_LTLIBRARIES = libpicdb.la
+libpicdb_la_SOURCES = exception.cc logger.cc memorymanager.cc warning.cc xml.cc xmllogstream.cc picdb_init.cc os.cc filelist.cc config.cc unixos.cc backend.cc filedata.cc media.cc
+subdir = src
+mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+CONFIG_HEADER = $(top_builddir)/config.h
+CONFIG_CLEAN_FILES =
+LTLIBRARIES = $(lib_LTLIBRARIES)
+
+libpicdb_la_LDFLAGS =
+libpicdb_la_LIBADD =
+am_libpicdb_la_OBJECTS = exception.lo logger.lo memorymanager.lo \
+	warning.lo xml.lo xmllogstream.lo picdb_init.lo os.lo \
+	filelist.lo config.lo unixos.lo backend.lo filedata.lo media.lo
+libpicdb_la_OBJECTS = $(am_libpicdb_la_OBJECTS)
+
+DEFS = @DEFS@
+DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir)
+CPPFLAGS = @CPPFLAGS@
+LDFLAGS = @LDFLAGS@
+LIBS = @LIBS@
+depcomp = $(SHELL) $(top_srcdir)/depcomp
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@DEP_FILES = $(DEPDIR)/backend.Plo $(DEPDIR)/config.Plo \
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(DEPDIR)/exception.Plo $(DEPDIR)/filedata.Plo \
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(DEPDIR)/filelist.Plo $(DEPDIR)/logger.Plo \
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(DEPDIR)/media.Plo $(DEPDIR)/memorymanager.Plo \
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(DEPDIR)/os.Plo $(DEPDIR)/picdb_init.Plo \
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(DEPDIR)/unixos.Plo $(DEPDIR)/warning.Plo \
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(DEPDIR)/xml.Plo $(DEPDIR)/xmllogstream.Plo
+CXXCOMPILE = $(CXX) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
+	$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)
+LTCXXCOMPILE = $(LIBTOOL) --mode=compile $(CXX) $(DEFS) \
+	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
+	$(AM_CXXFLAGS) $(CXXFLAGS)
+CXXLD = $(CXX)
+CXXLINK = $(LIBTOOL) --mode=link $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) \
+	$(AM_LDFLAGS) $(LDFLAGS) -o $@
+CXXFLAGS = @CXXFLAGS@
+DIST_SOURCES = $(libpicdb_la_SOURCES)
+DIST_COMMON = Makefile.am Makefile.in
+SOURCES = $(libpicdb_la_SOURCES)
+
+all: all-am
+
+.SUFFIXES:
+.SUFFIXES: .cc .lo .o .obj
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+
+distclean-libtool:
+	-rm -f libtool
+$(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.ac $(ACLOCAL_M4)
+	cd $(top_srcdir) &amp;&amp; \
+	  $(AUTOMAKE) --gnu  src/Makefile
+Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
+	cd $(top_builddir) &amp;&amp; \
+	  CONFIG_HEADERS= CONFIG_LINKS= \
+	  CONFIG_FILES=$(subdir)/$@ $(SHELL) ./config.status
+install-libLTLIBRARIES: $(lib_LTLIBRARIES)
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(libdir)
+	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
+	  if test -f $$p; then \
+	    echo &quot; $(LIBTOOL) --mode=install $(INSTALL) $(INSTALL_STRIP_FLAG) $$p $(DESTDIR)$(libdir)/$$p&quot;; \
+	    $(LIBTOOL) --mode=install $(INSTALL) $(INSTALL_STRIP_FLAG) $$p $(DESTDIR)$(libdir)/$$p; \
+	  else :; fi; \
+	done
+
+uninstall-libLTLIBRARIES:
+	@$(NORMAL_UNINSTALL)
+	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
+	  echo &quot; $(LIBTOOL) --mode=uninstall rm -f $(DESTDIR)$(libdir)/$$p&quot;; \
+	  $(LIBTOOL) --mode=uninstall rm -f $(DESTDIR)$(libdir)/$$p; \
+	done
+
+clean-libLTLIBRARIES:
+	-test -z &quot;$(lib_LTLIBRARIES)&quot; || rm -f $(lib_LTLIBRARIES)
+libpicdb.la: $(libpicdb_la_OBJECTS) $(libpicdb_la_DEPENDENCIES) 
+	$(CXXLINK) -rpath $(libdir) $(libpicdb_la_LDFLAGS) $(libpicdb_la_OBJECTS) $(libpicdb_la_LIBADD) $(LIBS)
+
+mostlyclean-compile:
+	-rm -f *.$(OBJEXT) core *.core
+
+distclean-compile:
+	-rm -f *.tab.c
+
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">backend.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">config.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">exception.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">filedata.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">filelist.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">logger.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">media.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">memorymanager.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">os.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">picdb_init.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">unixos.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">warning.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">xml.Plo at am__quote</A>@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@@am__include@ @am__quote@$(DEPDIR)/<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">xmllogstream.Plo at am__quote</A>@
+
+distclean-depend:
+	-rm -rf $(DEPDIR)
+
+.cc.o:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=no @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(CXXCOMPILE) -c -o $@ `test -f $&lt; || echo '$(srcdir)/'`$&lt;
+
+.cc.obj:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=no @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(CXXCOMPILE) -c -o $@ `cygpath -w $&lt;`
+
+.cc.lo:
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	source='$&lt;' object='$@' libtool=yes @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	depfile='$(DEPDIR)/$*.Plo' tmpdepfile='$(DEPDIR)/$*.TPlo' @AMDEPBACKSLASH@
<A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">+ at AMDEP_TRUE</A>@	$(CXXDEPMODE) $(depcomp) @AMDEPBACKSLASH@
+	$(LTCXXCOMPILE) -c -o $@ `test -f $&lt; || echo '$(srcdir)/'`$&lt;
+CXXDEPMODE = @CXXDEPMODE@
+uninstall-info-am:
+
+tags: TAGS
+
+ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	mkid -fID $$unique $(LISP)
+
+TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f &quot;$$i&quot;; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z &quot;$(ETAGS_ARGS)$$unique$(LISP)$$tags&quot; \
+	  || etags $(ETAGS_ARGS) $$tags  $$unique $(LISP)
+
+GTAGS:
+	here=`CDPATH=: &amp;&amp; cd $(top_builddir) &amp;&amp; pwd` \
+	  &amp;&amp; cd $(top_srcdir) \
+	  &amp;&amp; gtags -i $(GTAGS_ARGS) $$here
+
+distclean-tags:
+	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH
+
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+
+top_distdir = ..
+distdir = $(top_distdir)/$(PACKAGE)-$(VERSION)
+
+distdir: $(DISTFILES)
+	@for file in $(DISTFILES); do \
+	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
+	  dir=`echo &quot;$$file&quot; | sed -e 's,/[^/]*$$,,'`; \
+	  if test &quot;$$dir&quot; != &quot;$$file&quot; &amp;&amp; test &quot;$$dir&quot; != &quot;.&quot;; then \
+	    $(mkinstalldirs) &quot;$(distdir)/$$dir&quot;; \
+	  fi; \
+	  if test -d $$d/$$file; then \
+	    cp -pR $$d/$$file $(distdir) \
+	    || exit 1; \
+	  else \
+	    test -f $(distdir)/$$file \
+	    || cp -p $$d/$$file $(distdir)/$$file \
+	    || exit 1; \
+	  fi; \
+	done
+check-am: all-am
+check: check-am
+all-am: Makefile $(LTLIBRARIES)
+
+installdirs:
+	$(mkinstalldirs) $(DESTDIR)$(libdir)
+
+install: install-am
+install-exec: install-exec-am
+install-data: install-data-am
+uninstall: uninstall-am
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-am
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM=&quot;$(INSTALL_STRIP_PROGRAM)&quot; \
+	  `test -z '$(STRIP)' || \
+	    echo &quot;INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'&quot;` install
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-rm -f Makefile $(CONFIG_CLEAN_FILES) stamp-h stamp-h[0-9]*
+
+maintainer-clean-generic:
+	@echo &quot;This command is intended for maintainers to use&quot;
+	@echo &quot;it deletes files that may require special tools to rebuild.&quot;
+clean: clean-am
+
+clean-am: clean-generic clean-libLTLIBRARIES clean-libtool \
+	mostlyclean-am
+
+distclean: distclean-am
+
+distclean-am: clean-am distclean-compile distclean-depend \
+	distclean-generic distclean-libtool distclean-tags
+
+dvi: dvi-am
+
+dvi-am:
+
+info: info-am
+
+info-am:
+
+install-data-am:
+
+install-exec-am: install-libLTLIBRARIES
+
+install-info: install-info-am
+
+install-man:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-am
+
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-am
+
+mostlyclean-am: mostlyclean-compile mostlyclean-generic \
+	mostlyclean-libtool
+
+uninstall-am: uninstall-info-am uninstall-libLTLIBRARIES
+
+.PHONY: GTAGS all all-am check check-am clean clean-generic \
+	clean-libLTLIBRARIES clean-libtool distclean distclean-compile \
+	distclean-depend distclean-generic distclean-libtool \
+	distclean-tags distdir dvi dvi-am info info-am install \
+	install-am install-data install-data-am install-exec \
+	install-exec-am install-info install-info-am \
+	install-libLTLIBRARIES install-man install-strip installcheck \
+	installcheck-am installdirs maintainer-clean \
+	maintainer-clean-generic mostlyclean mostlyclean-compile \
+	mostlyclean-generic mostlyclean-libtool tags uninstall \
+	uninstall-am uninstall-info-am uninstall-libLTLIBRARIES
+
+#config.cc backend.cc
+#libpicdb_la_LDFLAGS = -version-info 3:12:1
+#libpicdb_la_LDFLAGS = -version-info 5:24:2 #is 3.2.34
+#libpicdb_la_LDFLAGS = -version-info 19:99:5 #is 14.5.99
+#copmlete version is: [0-2].2.1
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:

Added: trunk/src/backend.cc
===================================================================
--- trunk/src/backend.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/backend.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,68 @@
+/******************************************************************
+*                backend.cc 
+*   Thu Dec 30 16:50:32 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/backend.hpp&quot;
+Picdb::Backend::Backend (){}
+Picdb::Backend::~Backend (){}
+
+#define exc(f) throw new ::Picdb::Exception (Errors::NotImplementedError, Log_Error, __FILE__, __LINE__, &quot;Backend&quot;, &quot;Function %s not implemented&quot;, f)
+
+Picdb::FileList *Picdb::Backend::GetFileList(){exc(&quot;GetFileList&quot;);}
+Picdb::FileData *Picdb::Backend::GetFileData(char *fmd5){exc(&quot;GetFileData&quot;);}
+Picdb::Media *Picdb::Backend::GetMedia(char *fmd5){exc(&quot;GetMedia&quot;);}
+Picdb::Media *Picdb::Backend::GetThumbnail(char *fmd5){exc(&quot;GetThumbnail&quot;);}
+bool Picdb::Backend::AddFile(char *fmd5, Picdb::FileData *fdta, Picdb::Media *med, Picdb::Media *thumb){exc(&quot;AddFile&quot;);}
+bool Picdb::Backend::ChangeFileData(char *fmd5, Picdb::FileData *fdta){exc(&quot;ChangeFileData&quot;);}
+bool Picdb::Backend::ChangeDataKey(char *fmd5, char *key, char *val){exc(&quot;ChangeDataKey&quot;);}
+bool Picdb::Backend::ChangeFileMedia(char *fmd5, Picdb::Media *med){exc(&quot;ChangeFileMedia&quot;);}
+bool Picdb::Backend::ChangeFileThumbnail(char *fmd5, Picdb::Media *thumb){exc(&quot;ChangeFileThumbnail&quot;);}
+
+//ypedef (Backend *)(*)(char *, int, char **);
+  typedef Picdb::Backend* (*Factory_t) (char*, int argc, char **argv);
+  typedef void (*Destructor_t) (Picdb::Backend*, char*, int argc, char **argv);
+
+
+Picdb::Backend *Picdb::LoadBackend (char *libname, char *sig, int argc, char* argv[])
+{
+  void *libhdl=NULL;
+  Factory_t funchdl=NULL;
+  //(Backend *)(*funchdl)(char *, int, char **);
+  Backend *be=NULL;
+  char *flibname=(char*)PicdbAlloc (MManager-&gt;strlen(libname)+8);
+  //flibname=strcpy (flibname, &quot;picdbbe&quot;);
+  //flibname=strcat (flibname, libname);
+  libhdl=OS::Instance-&gt;OpenLibrary (libname);
+  PicdbFree (flibname);
+  if (!libhdl)
+    PicdbError (Errors::Error, Log_Error, &quot;Backend&quot;, &quot;Failed to load library %s&quot;, libname);
+  funchdl = (Factory_t)OS::Instance-&gt;GetLibrarySymbol (libhdl, &quot;LoadBackend&quot;);
+  if (!funchdl)
+    PicdbError (Errors::Error, Log_Error, &quot;Backend&quot;, &quot;Failed to find symbol LoadBackend in %s&quot;, libname);
+  be = (*funchdl)(sig, argc, argv);
+  if (!be)
+    PicdbError (Errors::Error, Log_Error, &quot;Backend&quot;, &quot;Failed to create backend of type %s with library %s&quot;, sig, libname);
+  return be;
+}

Added: trunk/src/config.cc
===================================================================
--- trunk/src/config.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/config.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,227 @@
+/******************************************************************
+*                config.cc 
+*   Sun Nov 21 20:40:53 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/config.hpp&quot;
+Picdb::Config *Picdb::ConfigFile=NULL;
+
+void Picdb::XML::Config::CfgSaxHandler::endElement (const XMLCh *const uri, const XMLCh *const localname, const XMLCh *const qname)
+{
+  Picdb::XML::Config::StrX cqname(qname);
+  if (!strcmp (cqname.localForm(), &quot;config&quot;) || !strcmp (cqname.localForm(), &quot;option&quot;))
+  {
+    free (mElemPath.back());
+    mElemPath.pop_back();
+  }
+}
+
+void Picdb::XML::Config::CfgSaxHandler::startElement (const XMLCh *const uri, const XMLCh *const localname, const XMLCh *const qname, const Attributes &amp;attrs)
+{
+  Picdb::XML::Config::StrX *att_name=NULL;
+  Picdb::XML::Config::StrX *att_val=NULL;
+  Picdb::XML::Config::StrX *att_file=NULL;
+  Picdb::XML::Config::StrX cqname(qname);
+  unsigned int len = attrs.getLength();
+  for (unsigned int index = 0; index &lt; len; index++)
+    {
+      Picdb::XML::Config::StrX an(attrs.getQName(index));
+      if (!strcmp (an.localForm(), &quot;name&quot;))
+	att_name = new StrX (attrs.getValue(index));
+      if (!strcmp (an.localForm(), &quot;value&quot;))
+	att_val = new StrX (attrs.getValue(index));
+      if (!strcmp (an.localForm(), &quot;file&quot;))
+	att_file = new StrX(attrs.getValue(index));
+    }
+  if (!strcmp (cqname.localForm(), &quot;config&quot;) || !strcmp (cqname.localForm(), &quot;option&quot;) &amp;&amp; att_name)
+    {
+      mElemPath.push_back (strdup (att_name-&gt;localForm()));
+      if (att_name)
+	delete att_name;
+      if (att_val)
+	{
+	  AddOption (att_val);
+	  delete att_val;
+	}
+    }
+  else if (!strcmp (cqname.localForm(), &quot;include&quot;) &amp;&amp; att_file)
+    {
+      //printf (&quot;Trying to include file %s\n&quot;, att_file-&gt;localForm());
+      AddConfig (att_file);
+      delete att_file;
+    }
+  else
+    {
+      PicdbWarning (Errors::XmlError, &quot;Config&quot;, &quot;Invalid xml ? (qname = %s)&quot;, cqname.localForm());
+    }
+  //printf (&quot;%s\n&quot;, Picdb::XML::Config::StrX(qname).localForm());
+}
+
+void Picdb::XML::Config::CfgSaxHandler::AddOption (Picdb::XML::Config::StrX *v, char *suffix)
+{
+  std::list&lt;char *&gt;::iterator iter;
+  unsigned int namemem=1024;
+  unsigned int namelen=1;
+  char *optname=(char*)PicdbAlloc(1024);
+  optname[0]=0;
+  for (iter=mElemPath.begin(); iter!=mElemPath.end(); iter++)
+    {
+      if (strlen (*iter) + namelen +1 &gt;= namemem)
+	optname = (char*)MManager-&gt;realloc (optname, namelen+strlen(*iter)+1024);
+      if (MManager-&gt;strlen (optname))
+	MManager-&gt;strcat (optname, &quot;.&quot;);
+      MManager-&gt;strcat (optname, *iter);
+      namelen += strlen(*iter)+1;
+    }
+  if (suffix)
+    {
+      namelen += strlen(suffix);
+      if (namelen &gt; namemem)
+	optname = (char*)MManager-&gt;realloc (optname, namelen+1);
+      MManager-&gt;strcat (optname, &quot;.&quot;);
+      MManager-&gt;strcat (optname, suffix);
+    }
+  //printf (&quot;%s:%s\n&quot;, optname, v-&gt;localForm());
+  char *mval=(char*)PicdbAlloc (strlen(v-&gt;localForm()));
+  MManager-&gt;strcpy (mval, v-&gt;localForm());
+  cfg-&gt;mData[optname]=mval;;
+  cfg-&gt;mKeys.push_back(optname);
+  //MManager-&gt;free (mval);
+  //free(optname);
+  //MManager-&gt;free(optname);
+}
+
+void Picdb::XML::Config::CfgSaxHandler::AddOption (char *v, char *suffix)
+{
+  std::list&lt;char *&gt;::iterator iter;
+  unsigned int namemem=1024;
+  unsigned int namelen=1;
+  char *optname=(char*)PicdbAlloc(1024);
+  optname[0]=0;
+  for (iter=mElemPath.begin(); iter!=mElemPath.end(); iter++)
+    {
+      if (strlen (*iter) + namelen +1 &gt;= namemem)
+	optname = (char*)realloc (optname, namelen+strlen(*iter)+1024);
+      if (strlen (optname))
+	strcat (optname, &quot;.&quot;);
+      strcat (optname, *iter);
+      namelen += strlen(*iter)+1;
+    }
+  if (suffix)
+    {
+      namelen += strlen(suffix);
+      if (namelen &gt; namemem)
+	optname = (char*)realloc (optname, namelen+1);
+      if (strlen(optname))
+	strcat (optname, &quot;.&quot;);
+      strcat (optname, suffix);
+    }
+  //printf (&quot;%s:%s\n&quot;, optname, v-&gt;localForm());
+  if (v)
+    {
+      cfg-&gt;mData[optname]=MManager-&gt;strdup (v);
+      cfg-&gt;mKeys.push_back(optname);
+      free(v);
+    }
+  //free(optname);
+}
+
+void Picdb::XML::Config::CfgSaxHandler::AddConfig (Picdb::XML::Config::StrX *cfgfilename)
+{
+  Picdb::Config *icfg;
+  try
+    {
+      icfg = new Picdb::Config (cfgfilename-&gt;localForm());
+    }
+  catch (Exception *e)
+    {
+      delete e;
+      return;
+    }
+  Picdb::Config::list_t keys;
+  Picdb::Config::list_t::iterator iter;
+  keys=icfg-&gt;mKeys;
+  for (iter=keys.begin(); iter!=keys.end(); iter++)
+    {
+      //printf (&quot;%s:%s\n&quot;, *iter, icfg-&gt;mData[*iter]);
+      AddOption (icfg-&gt;mData[*iter], (char*)*iter);
+    }
+}
+
+void Picdb::XML::Config::CfgSaxHandler::error (const SAXParseException &amp;exc)
+{}
+void Picdb::XML::Config::CfgSaxHandler::fatalError (const SAXParseException &amp;exc)
+{}
+void Picdb::XML::Config::CfgSaxHandler::warning (const SAXParseException &amp;exc)
+{}
+
+
+
+Picdb::Config::Config (const char *cfgfilename)
+{
+  success=1;
+  LogMessage (Log_Info, &quot;Config&quot;, &quot;Trying to create configuration from file %s&quot;, cfgfilename);
+  try
+    {
+      SAX2XMLReader* parser = XMLReaderFactory::createXMLReader();
+      Picdb::XML::Config::CfgSaxHandler handler(this);
+      parser-&gt;setContentHandler(&amp;handler);
+      parser-&gt;setErrorHandler(&amp;handler);
+      parser-&gt;parse(cfgfilename);
+    }
+  catch (...)
+    {
+      PicdbError (Errors::XmlError, Log_Error, &quot;Config&quot;, &quot;Failure while trying to parse configuration.&quot;);
+      success=0;
+    }
+  if (success)
+    LogMessage (Log_Info, &quot;Config&quot;, &quot;Successfully parsed configuration with %i options.&quot;, mKeys.size());
+}
+
+Picdb::Config::~Config ()
+{
+  if (!success)
+    return;
+  hash_map&lt;const char*, char *, hash&lt;const char*&gt;, eqstr&gt;::iterator iter;
+  for (iter=mData.begin(); iter!=mData.end(); iter++)
+    {
+      PicdbFree ((*iter).second);
+      //free ((char*)(*iter).first);
+    }
+  Picdb::Config::list_t::iterator kiter;
+  for (kiter=mKeys.begin(); kiter!=mKeys.end(); kiter++)
+    PicdbFree ((void*)*kiter);
+}
+
+char *Picdb::Config::operator[](const char *key)
+{
+  if (success)
+    return mData[key];
+  return NULL;
+}
+
+const std::list&lt;const char*&gt; &amp;Picdb::Config::Keys()
+{
+  return mKeys;
+}

Added: trunk/src/db.cc
===================================================================
--- trunk/src/db.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/db.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,33 @@
+/******************************************************************
+*                db.cc 
+*   Fri Jan 14 00:18:09 2005
+*   Copyright 2005 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/db.hpp&quot;
+Picdb::DB::DB ()
+{
+}
+Picdb::DB::~DB ()
+{
+}

Added: trunk/src/exception.cc
===================================================================
--- trunk/src/exception.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/exception.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,85 @@
+/******************************************************************
+*                exception.cc 
+*   Sun Nov 21 17:04:17 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/exception.hpp&quot;
+
+Picdb::ErrorType Picdb::Errors::Error(&quot;Error&quot;);
+Picdb::ErrorType Picdb::Errors::NotImplementedError(&quot;NotImplementedError&quot;);
+Picdb::ErrorType Picdb::Errors::FileNotFoundError(&quot;FileNotFoundError&quot;);
+Picdb::ErrorType Picdb::Errors::ParseError(&quot;ParseError&quot;);
+Picdb::ErrorType Picdb::Errors::VersionError(&quot;VersionError&quot;);
+Picdb::ErrorType Picdb::Errors::RegexpError (&quot;RegexpError&quot;);
+Picdb::ErrorType Picdb::Errors::XmlError(&quot;XmlError&quot;);
+
+Picdb::Exception::Exception (Picdb::ErrorType &amp;et, Picdb::LogLevel &amp;lvl, char *f, unsigned long l, char *s, char *fmt, ...)
+{
+  file=strdup(f);
+  subsystem=strdup (s);
+  level=lvl;
+  msg=NULL;
+  line=l;
+  exc_type = et;
+  va_list ap;
+  va_start(ap,fmt);
+  vasprintf (&amp;msg, fmt, ap);
+  va_end(ap);
+  Log (lvl, f, l, s, msg);
+}
+
+void Picdb::Exception::Log (Picdb::LogLevel &amp;lvl, char *f, unsigned long l, char *s, char *m)
+{
+  char *xsubsystem;
+  /*if (file)
+    free(file);
+  if (subsystem)
+    free(subsystem);
+  if (msg)
+    free (msg);
+  file=strdup (f);
+  subsystem=strdup (s);
+  msg=strdup(m);
+  level=lvl;
+  line=l; */
+  xsubsystem = (char*)(malloc (strlen (subsystem) + strlen(exc_type.GetErrorType()) +5));
+  strcpy (xsubsystem, subsystem);
+  strcat (xsubsystem, &quot; -&gt; &quot;);
+  strcat (xsubsystem, exc_type.GetErrorType());
+  Picdb::Log.LogSimple (level, file, line, xsubsystem, msg);
+  free (xsubsystem);
+}
+
+Picdb::Exception::~Exception ()
+{
+  if (file)
+    free(file);
+  file=NULL;
+  if (subsystem)
+    free(subsystem);
+  subsystem=NULL;
+  if (msg)
+    free (msg);
+  msg=NULL;
+}

Added: trunk/src/filedata.cc
===================================================================
--- trunk/src/filedata.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/filedata.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,167 @@
+/******************************************************************
+*                filedata.cc 
+*   Thu Dec 30 16:52:01 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/filedata.hpp&quot;
+Picdb::FileData::FileData (const char *lines)
+{
+  const char *clineptr=lines, *tempptr=lines;
+  size_used=0;
+  blocksize=MManager-&gt;BlockSize (lines, 1);
+  while (*clineptr)
+    {
+      ParseLine (clineptr);
+      tempptr=clineptr;
+      while (*tempptr!='\n' &amp;&amp; *tempptr)
+	{
+	  tempptr++;
+	  if (blocksize &amp;&amp; lines-tempptr&gt;=blocksize)
+	    {
+	      tempptr--; 
+	      break;
+	    }
+	}
+      if (blocksize &amp;&amp; lines-clineptr&gt;=blocksize)
+	break;
+      clineptr=lines+size_used;//tempptr+1;
+    }
+  //printf (&quot;%i lines parsed.\n&quot;, nlines);
+}
+
+Picdb::FileData::~FileData ()
+{
+  hash_map&lt;const char*, char *, hash&lt;const char*&gt;, eqstr&gt;::iterator iter;
+  for (iter=mData.begin(); iter!=mData.end(); iter++)
+    {
+      if ((*iter).second)
+	PicdbFree ((*iter).second);
+    }
+}
+
+char *&amp;Picdb::FileData::operator[] (const char *k)
+{
+  return mData[k];
+}
+
+void Picdb::FileData::ParseLine (const char *line)
+{
+  char *key=NULL, *val=NULL;
+  const char *p=line;
+  const char *kstart=NULL, *vstart=NULL;
+  size_t klen=0, vlen=0;
+  int st=0; //0: before key, 1: in key, 2:between colon and value, 3: in value
+  while (*p &amp;&amp; *p!='\n')
+    {
+      size_used++;
+      if (*p=='\r' &amp;&amp; *(p+1)=='\n')
+	{
+	  size_used+=2;
+	  p+=2;
+	  continue;
+	}
+      else if (*p=='\r')
+	{
+	  size_used++;
+	  p++;
+	  continue;
+	}
+      switch (st)
+	{
+	case 0:
+	  if (*p&gt;32)
+	    {
+	      st=1;
+	      kstart=p;
+	    }
+	  else
+	    break;
+	case 1:
+	  if (*p==':')
+	    {
+	      klen--;
+	      p++;
+	      st=2;
+	    }
+	  else
+	    {
+	      klen++;
+	      break;
+	    }
+	case 2:
+	  if (*p&gt;32)
+	    {
+	      st=3;
+	      vstart=p;
+	    }
+	  else
+	    break;
+	case 3:
+	  vlen++;
+	  break;
+	}
+      p++;
+      if (blocksize &amp;&amp; size_used&gt;=blocksize)
+	break;
+    }
+  size_used++;
+  if (!kstart || !klen)
+    return;
+  //i'll continue using the default malloc/free functions for keys, since they tned to be unfree'able.
+  //\todo we need a non-stl-hash-class which makes it possible to free the keys again. this approach is *not* good.
+  //key=(char*)MManager-&gt;alloc (klen+1);
+  //key=(char*)MManager-&gt;memcpy (key, kstart, klen);
+  key=(char*)malloc(klen+2);
+  memset(key,0,klen+2);
+  key=(char*)memcpy (key, kstart,klen+1);
+  
+  //st=0;//0=in trailing whitespace, 1 in key
+  size_t i;
+  for (i=klen+1; i&gt;0; i--)
+    {
+      if (key[i]&lt;=32)
+	{
+	  key[i]=0;
+	  continue;
+	}
+      break;
+    } 
+  //printf (&quot;%s\n&quot;, key);
+  if (vstart &amp;&amp; vlen)
+    {
+      vlen++;
+      val=(char*)PicdbAlloc (vlen+1);
+      val=(char*)MManager-&gt;memcpy (val, vstart, vlen);
+      for (i=vlen+1; i&gt;0; i--)
+	{
+	  if (val[i]&lt;=32)
+	    {
+	      val[i]=0;
+	      continue;
+	    }
+	  break;
+	}
+    }
+  mData[key]=val;
+}

Added: trunk/src/filelist.cc
===================================================================
--- trunk/src/filelist.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/filelist.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,120 @@
+/******************************************************************
+*                filelist.cc 
+*   Sun Dec 19 13:21:22 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/filelist.hpp&quot;
+Picdb::FileList::FileList ()
+{}
+
+Picdb::FileList::~FileList ()
+{
+  Clear();
+}
+
+
+Picdb::FileList::FileList (FileList &amp;that)
+{
+  (*this)=that;
+}
+
+Picdb::FileList &amp;Picdb::FileList::operator --()
+{
+  i--;
+  return *this;
+}
+
+Picdb::FileList &amp;Picdb::FileList::operator ++()
+{
+  i++;
+return *this;
+}
+
+Picdb::FileList &amp;Picdb::FileList::operator --(int)
+{
+  i--;
+return *this;
+}
+
+
+Picdb::FileList &amp;Picdb::FileList::operator ++(int)
+{
+  i++;
+  return *this;
+}
+
+Picdb::FileList &amp;Picdb::FileList::operator =(Picdb::FileList &amp;that)
+{
+  Clear();
+  for (that.ResetBegin();!that.IsEnd();that++)
+    {
+      char *scp=(char*)PicdbAlloc (MManager-&gt;strlen (*that)+1);
+      scp=MManager-&gt;strcpy (scp,*that);
+      l.push_back (scp);
+    }
+  return *this;
+}
+
+int Picdb::FileList::IsEnd(){return i==l.end();}
+
+int Picdb::FileList::IsBegin(){return i==l.begin();}
+
+void Picdb::FileList::ResetBegin(){i=l.begin();}
+
+void Picdb::FileList::ResetEnd(){i=l.end();}
+
+char *Picdb::FileList::operator *(){return *i;}
+
+void Picdb::FileList::PushBack(const char *s)
+{
+  char *scp=(char*)PicdbAlloc (MManager-&gt;strlen(s)+1);
+  scp=MManager-&gt;strcpy (scp,s);
+  l.push_back (scp);
+}
+
+unsigned long int  Picdb::FileList::Size()
+{
+  return l.size();
+}
+
+void Picdb::FileList::Dump()
+{
+  std::list&lt;char*&gt;::iterator c;
+  for (c=l.begin(); c!=l.end(); c++)
+    printf (&quot;%s\n&quot;, *c);  
+}
+
+void Picdb::FileList::Clear()
+{
+  for (ResetBegin();!IsEnd();(*this)++)
+    {
+      PicdbFree (**this);
+    }
+  l.clear();
+}
+
+void Picdb::FileList::Sort()
+{
+  l.sort();
+}

Added: trunk/src/logger.cc
===================================================================
--- trunk/src/logger.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/logger.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,201 @@
+/******************************************************************
+*                logger.cc 
+*   Sun Nov 21 12:43:41 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/logger.hpp&quot;
+
+Picdb::LogLevel Picdb::Log_Debug (0, &quot;Debug&quot;, 15);
+Picdb::LogLevel Picdb::Log_Info (5, &quot;Info&quot;, 12);
+Picdb::LogLevel Picdb::Log_Warning (10, &quot;Warning&quot;, 4);
+Picdb::LogLevel Picdb::Log_Error (15, &quot;Error&quot;, 1);
+Picdb::LogLevel Picdb::Log_Critical (20, &quot;Critical&quot;, 11);
+Picdb::Logger Picdb::Log;
+
+
+////////////////////Levels//////////////////////////////////
+Picdb::LogLevel::LogLevel (int lvl, char *lname, int clr)
+{
+  if (lname)
+    name = strdup (lname);
+  else
+    name=NULL;
+  level=lvl;
+  if (!clr)
+    color=level%10;
+  else
+    color=clr;
+}
+
+Picdb::LogLevel::~LogLevel ()
+{
+  if (name)
+    {
+      free (name);
+      name=NULL;
+    }
+}
+
+int Picdb::LogLevel::operator == (LogLevel &amp;l)
+{
+  return l.level == level;
+}
+
+Picdb::LogLevel &amp; Picdb::LogLevel::operator = (LogLevel &amp;l)
+{
+  if (name)
+    {
+      free (name);
+      name=NULL;
+    }
+  if (l.name)
+    name = strdup (l.name);
+  level=l.level;
+  return *this;
+}
+
+int Picdb::LogLevel::operator &lt; (LogLevel &amp;l)
+{
+  return level &lt; l.level;
+}
+
+int Picdb::LogLevel::operator &gt; (LogLevel &amp;l)
+{
+  return level &gt; l.level;
+}
+
+int Picdb::LogLevel::operator &gt;= (LogLevel &amp;l)
+{
+  return level &gt;= l.level;
+}
+
+int Picdb::LogLevel::operator &lt;= (LogLevel &amp;l)
+{
+  return level &lt;= l.level;
+}
+
+////////////////////Streams/////////////////////////////////
+Picdb::LogStream::LogStream(){}
+Picdb::LogStream::~LogStream(){}
+
+void Picdb::LogStream::Write (Picdb::LogLevel &amp;lvl, char *subsystem, char *txt)
+{
+  Write (lvl, NULL, 0, subsystem, txt);
+}
+
+void Picdb::LogStream::Write (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsystem, char *txt)
+{
+  time_t T;
+  time(&amp;T);
+  char *ct;
+  ct=ctime(&amp;T);// Flawfinder: ignore
+  ct[strlen(ct)-1]=0;
+  printf (&quot;%s &lt;%s&gt; &lt;%s:%li&gt; %s %s\n&quot;, ct, subsystem, file?file:&quot;?&quot;, line?line:0, lvl.GetName()?lvl.GetName():&quot;?&quot;, txt);
+}
+
+void Picdb::TerminalLogStream::Write (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsystem, char *txt)
+{
+  time_t T;
+  time(&amp;T);
+  char *ct;
+  ct=ctime(&amp;T);// Flawfinder: ignore
+  ct[strlen(ct)-1]=0;
+  printf (&quot;\033[37;1m%s\033[0m &lt;\033[34;1m%s\033[0m&gt; &lt;\033[34;1m%s:%li\033[0m&gt; \033[3%i;1m%s\033[0m %s\n&quot;, ct, subsystem, file?file:&quot;?&quot;, line?line:0, lvl.GetColor()%10, lvl.GetName()?lvl.GetName():&quot;?&quot;, txt);
+}
+
+void Picdb::TerminalLogStream::Write (Picdb::LogLevel &amp;lvl, char *subsystem, char *txt)
+{
+  Write (lvl, NULL, 0, subsystem, txt);
+}
+////////////////////Loggers/////////////////////////////////
+
+Picdb::Logger::Logger ()
+{
+}
+
+Picdb::Logger::~Logger ()
+{
+  Log (Picdb::Log_Info, __FILE__, __LINE__, &quot;Logger&quot;, &quot;Shutting down Logger %p&quot;, this);
+  std::list &lt;Picdb::LogStream*&gt;::iterator iter;
+  for (iter = streams.begin();iter!=streams.end();iter++)
+    {
+      delete (*iter);
+      *iter=NULL;
+    }
+}
+
+void Picdb::Logger::AddStream (Picdb::LogStream *s)
+{
+  if (s)
+    streams.push_back (s);
+}
+void Picdb::Logger::Log (Picdb::LogLevel &amp;lvl, char *subsystem, char *fmt, ...)
+{
+  //printf (&quot;Message of level %i, minlvl is %i&quot;, lvl.GetLevel(), mask.GetLevel());
+  if (lvl &lt; mask)
+    return;
+  char *buffer;
+  std::list&lt;Picdb::LogStream*&gt;::iterator iter;
+  va_list ap;
+  va_start (ap, fmt);
+  vasprintf (&amp;buffer, fmt, ap);
+  va_end(ap);
+  for (iter=streams.begin();iter!=streams.end();iter++)
+    {
+      (*iter)-&gt;Write (lvl, subsystem, buffer);
+    }
+  free (buffer);
+}
+
+void Picdb::Logger::Log (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsystem, char *fmt, ...)
+{
+  
+  if (lvl &lt; mask)
+    return;
+  char *buffer;
+  std::list&lt;Picdb::LogStream*&gt;::iterator iter;
+  va_list ap;
+  va_start (ap, fmt);
+  ::vasprintf (&amp;buffer, fmt, ap);
+  va_end(ap);
+  for (iter=streams.begin();iter!=streams.end();iter++)
+    {
+      (*iter)-&gt;Write (lvl, file, line, subsystem, buffer);
+    }
+  //free (buffer);
+}
+
+void Picdb::Logger::LogSimple (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsystem, char *msg)
+{
+  if (lvl&lt;mask);
+  for (std::list&lt;Picdb::LogStream*&gt;::iterator iter=streams.begin(); iter!=streams.end();iter++)
+    (*iter)-&gt;Write (lvl, file, line, subsystem, msg);
+}
+
+void Picdb::Logger::LogSimple (Picdb::LogLevel &amp;lvl, char *subsystem, char *msg)
+{
+  if (lvl&lt;mask);
+  for (std::list&lt;Picdb::LogStream*&gt;::iterator iter=streams.begin(); iter!=streams.end();iter++)
+    (*iter)-&gt;Write (lvl, subsystem, msg);
+}

Added: trunk/src/media.cc
===================================================================
--- trunk/src/media.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/media.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,30 @@
+/******************************************************************
+*                media.cc 
+*   Tue Jan  4 00:47:42 2005
+*   Copyright 2005 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/media.hpp&quot;
+Picdb::Media::Media (char *filename, char *mtype){}
+Picdb::Media::Media (void *data, size_t length, char *mtype){}
+Picdb::Media::~Media (){}

Added: trunk/src/memorymanager.cc
===================================================================
--- trunk/src/memorymanager.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/memorymanager.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,827 @@
+/******************************************************************
+*                memorymanager.cc 
+*   Thu Dec  2 15:15:31 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/memorymanager.hpp&quot;
+#define MM_SHOW_UNFREED_PTRS
+
+
+Picdb::MemoryManager *Picdb::MManager;
+
+Picdb::MemoryManager::MemoryManager ()
+{
+  LogMessage (Log_Info, &quot;MemoryManager&quot;, &quot;Initialising&quot;);
+}
+
+Picdb::MemoryManager::~MemoryManager ()
+{
+  std::map &lt;void *, ptrinfo_t *&gt;::iterator iter;
+  size_t LeakSize=0;
+  size_t NumLeaks=0;
+  LogMessage (Log_Info, &quot;MemoryManager&quot;, &quot;Shutting down.&quot;);
+  for (iter=mMemory.begin();iter!=mMemory.end();iter++)
+    {
+      if ((*iter).second==NULL)
+	continue;
+      if (!(*iter).second-&gt;freed)
+	{
+#ifdef MM_SHOW_UNFREED_PTRS
+	  PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Memory leak from %p (%s:%i)(%s): %i bytes at %p not freed&quot;, (*iter).second-&gt;alloc_from, (*iter).second-&gt;file, (*iter).second-&gt;line, (*iter).second-&gt;fctn, (*iter).second-&gt;size, (*iter).second-&gt;address);
+#endif
+	  LeakSize += (*iter).second-&gt;size;
+	  NumLeaks++;
+	  //::free ((*iter).first);
+	}
+      ::free ((*iter).second-&gt;file);
+      ::free ((*iter).second-&gt;fctn);
+      ::free ((*iter).second);
+    }
+  if (LeakSize)
+    {
+      int mb=LeakSize/(1024*1024);
+      LeakSize=LeakSize%(1024*1024);
+      int kb=LeakSize/1024;
+      LeakSize=LeakSize%1024;
+      PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Total leak-size: %iMB %iKB %iB&quot;, mb, kb, LeakSize);
+      PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;#Leaks: %li&quot;, NumLeaks);
+    }
+  else
+    {
+      LogMessage (Log_Info, &quot;MemoryManager&quot;, &quot;No leaks found.&quot;);
+    }
+}
+
+/**
+ *@param s how many bytes to allocate
+ *@param fcntaddr the address of the calling function (for debugging purposes)
+ *@param file the file where 'free' was called (...)
+ *@param line the line where 'free' was called (...)
+ *@param func the function where 'free' was called (...)
+ *@return NULL on error, address of the allocated block otherwise
+ */
+void *Picdb::MemoryManager::alloc (size_t s, void *fcntaddr, const char *file,const  int line, const char *func)
+{
+  void *block=::malloc(s);
+  ptrinfo_t *info = new ptrinfo_t;
+  info-&gt;address=block;
+  info-&gt;size=s;
+  if (!fcntaddr)
+    fcntaddr = __builtin_return_address (0);
+  if (file)
+    info-&gt;file=::strdup(file);
+  else
+    info-&gt;file=::strdup(&quot;(unknown)&quot;);
+  info-&gt;line=line;
+  if (func)
+    info-&gt;fctn=::strdup(func);
+  else
+    info-&gt;fctn=::strdup(&quot;(unknown)&quot;);
+  info-&gt;alloc_from=fcntaddr;
+  info-&gt;freed=0;
+  mMemory[block]=info;
+  memset (block, 0, s);
+  return block;
+}
+
+/**
+ *@param block the block to be free'd
+ *@param fcntaddr the address of the calling function (for debugging purposes)
+ *@param file the file where 'free' was called (...)
+ *@param line the line where 'free' was called (...)
+ *@param func the function where 'free' was called (...)
+ */
+void Picdb::MemoryManager::free (void *block, void *fcntaddr, const char *file, const int line, const char *func)
+{
+  ptrinfo_t *info = mMemory[block];
+  fcntaddr = __builtin_return_address (0);
+  if (!info)
+    {
+      PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Trying to free unallocated block %p. Caller is %p. (%s:%i:%s)&quot;, block, fcntaddr, file, line, func);
+      return;
+    }
+  if (info-&gt;freed)
+    {
+      PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Trying to free block %p which was already free'd. Caller is %p (%s:%i:%s)&quot;, block, fcntaddr, file, line, func);
+      return;
+    }
+  ::free (block);
+  info-&gt;freed=1;
+}
+
+/**
+ *@param p the address of the block to retrieve the size from
+ *@param exact_ptr if nonzero, the pointer must match an allocated block exactly, if zero, the pointer can be any address in an allocated block
+ *@return 0 on error, the size of the block if the pointer matches exactly, the remaining size of the block, counted from the given pointer
+ */
+size_t Picdb::MemoryManager::BlockSize (const void *p, int exact_ptr)
+{
+  ptrinfo_t *info=mMemory[(void*)p];
+  if (exact_ptr)
+    {
+      if (!info)
+	return 0;
+      if (info-&gt;freed)
+	{
+	  PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Trying to check blocksize of already free'd block %p.&quot;, p);
+	  return 0;
+	}
+      return info-&gt;size;
+    }
+  else
+    {
+      if (info &amp;&amp; !info-&gt;freed)
+	return info-&gt;size;
+      //LogMessage (Log_Debug, &quot;MemoryManager&quot;, &quot;Fuzzy checking for ptr %p.&quot;, p);
+      std::map &lt;void*, ptrinfo_t*&gt;::iterator iter;
+      for (iter=mMemory.begin();iter!=mMemory.end();iter++)
+	{
+	  if (!(*iter).second)
+	    continue;
+	  //if ((*iter).second-&gt;freed)
+	  //  continue;
+	  info = (*iter).second;
+	  void *start=info-&gt;address;
+	  void *end=((char*)info-&gt;address)+info-&gt;size;
+	  //LogMessage (Log_Debug, &quot;MemoryManager&quot;, &quot;checking ptr %p (%i)...&quot;, info-&gt;address, info-&gt;size);
+	  if (p&gt;=start &amp;&amp; p&lt;end &amp;&amp; !info-&gt;freed)
+	    return (info-&gt;size - ((char*)p-(char*)start));
+	  else if (info-&gt;freed)
+	    PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Trying to check blocksize of already free'd block %p ?&quot;, info-&gt;address);
+	}
+    }
+  return 0;
+}
+
+/**
+ *@param p pointer of block to reallocate
+ *@param ns new size of the block
+ *@return NULL on error, pointer to the new block otherwise
+ *\bug doesn't always change the 'size' field for the newly allocated block. 
+ */
+void *Picdb::MemoryManager::realloc (void *p, size_t ns)
+{
+  void *np;
+  if (!p)
+    return NULL;
+  if (!mMemory[(void*)p])
+    {
+      np= ::realloc (p, ns);
+      ptrinfo_t *info = new ptrinfo_t;
+      info-&gt;size=ns;
+      info-&gt;file=strdup(&quot;(unknown)&quot;);
+      info-&gt;fctn=strdup(&quot;(unknown)&quot;);
+      info-&gt;line=0;
+      info-&gt;alloc_from=NULL;
+      info-&gt;freed=0;
+      mMemory[np]=info;
+      return np;
+    }
+  ptrinfo_t *info=mMemory[(void*)p];
+  if (info-&gt;size &gt;= ns || ns&lt;1)
+    return p;
+  np=::realloc (p,ns);
+  if (np!=p)
+    {
+      info-&gt;freed=1;
+      ptrinfo_t *oi=info;
+      info = new ptrinfo_t;
+      info-&gt;size=ns;
+      info-&gt;file = ::strdup (oi-&gt;file);
+      info-&gt;line = oi-&gt;line;
+      info-&gt;fctn = ::strdup (oi-&gt;fctn);
+      info-&gt;alloc_from = oi-&gt;alloc_from;
+      info-&gt;freed=0;
+      info-&gt;address=np;
+      mMemory[np]=info;
+      //PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;reallocated block %p(%i)-&gt;%p(%i)&quot;, p,oi-&gt;size, np, ns);
+    }
+  else
+    {
+      mMemory[np]-&gt;size=ns;
+    }
+  return np;  
+}
+
+
+/*========================== str* ==============================*/
+
+/**
+ *@param str the string to retrieve the length from
+ *@param start where to begin counting (0 to use the complete string)
+ *@return 0 on error, the length of the (remaining) string otherwise
+ */
+size_t Picdb::MemoryManager::strlen (const char *str, int start)
+{
+  const char *p;
+  if (!str)
+    return 0;
+  if (!mMemory[(void*)str])
+    return ::strlen (str+start); //we don't have any information about the given memory address, so we can as well use the original functions
+  ptrinfo_t *info = mMemory[(void*)str];
+  for (p=str+start; (unsigned int)(p-str)&lt;=info-&gt;size &amp;&amp; *p; p++)
+    {}
+  //if (p-str&gt;info-&gt;size)
+  //  return 0;
+  return (size_t)(p-str-start);
+}
+
+/**
+ *@param str the string to duplicate
+ *@param start first char to duplicate (0 to duplicate the complete string)
+ *@return NULL on error, a pointer to the new string otherwise
+ */
+char * Picdb::MemoryManager::strdup (const char *str, int start)
+{
+  char *dest;
+  ptrinfo_t *info, *dinfo;
+  if (!str)  //we got NULL pointer. this would cause a crash in the next block, so we return now.
+    return NULL;
+  info = mMemory[(void*)str];
+  if (!info) //the source pointer doesn't belong to us. just try to duplicate it using the default strcpy but register the copy for us.
+    {
+      dest=::strdup (str+start);
+      dinfo=new ptrinfo_t;
+      dinfo-&gt;address=dest;
+      dinfo-&gt;size = ::strlen(dest)+1;
+      dinfo-&gt;file=::strdup(&quot;(unknown)&quot;);
+      dinfo-&gt;line=0;
+      dinfo-&gt;fctn=::strdup(&quot;(unknown)&quot;);
+      dinfo-&gt;alloc_from=__builtin_return_address (0);
+      dinfo-&gt;freed=0;
+      mMemory[(void*)dest] = dinfo;
+      return dest;
+    }
+  //We've got one of our own blocks and can do full error checking... :)
+  if (info-&gt;freed)
+    {
+      PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Trying to get a duplicate of an already free'd string...&quot;);
+      return NULL;
+    }
+  size_t memsize = info-&gt;size - start;
+  if (info-&gt;size-start &lt;=0)
+    {
+      PicdbWarning (Errors::Error, &quot;MemoryManager&quot;, &quot;Invalid index given. Block size is %li, index is %li&quot;, info-&gt;size, start);
+      return NULL;
+    }
+  dest = (char*)alloc (memsize+1);
+  ::memcpy (dest, str, memsize);
+  dinfo=new ptrinfo_t;
+  dinfo-&gt;address=dest;
+  dinfo-&gt;size=memsize+1;
+  dinfo-&gt;file=::strdup(&quot;(unknown)&quot;);
+  dinfo-&gt;line=0;
+  dinfo-&gt;fctn=::strdup(&quot;(unknown)&quot;);
+  dinfo-&gt;alloc_from=__builtin_return_address (0);
+  dinfo-&gt;freed=0;
+  mMemory[(void*)dest]=dinfo;
+  return dest;
+}
+
+/**
+ *@param dest the string to which 'src' should be appended
+ *@param src the string to append to 'dest'
+ *@return NULL on error, 'dest' otherwise
+ */
+char *Picdb::MemoryManager::strcat (char *dest, const char *src)
+{
+  unsigned long int index=0;
+  unsigned long int dindex=0;
+  ptrinfo_t *sinfo, *dinfo;
+  sinfo = mMemory[(void*)src];
+  dinfo = mMemory[(void*)dest];
+  if (!dinfo &amp;&amp; !sinfo) //neither source address nor destination address can be checked. no need to try any tricks here, just let ::strcat do it's job...
+    {
+      ::strcat (dest, src);
+      return dest;
+    }
+  dindex = strlen(dest);
+  while (src[index])
+    {
+      if (dinfo &amp;&amp; index+dindex &gt; dinfo-&gt;size)
+	{
+	  dest = (char*)realloc (dest, dinfo-&gt;size+256);
+	}
+      if (sinfo &amp;&amp; index &gt; sinfo-&gt;size)
+	{
+	 dest[index]=0;
+	 break;
+	}
+      dest[index+dindex]=src[index];
+      index++;
+    }
+  return dest;
+}
+
+/**
+ *@param dest the string to which 'src' should be appended
+ *@param src the string to append to 'dest'
+ *@param n copy at most this many character
+ *@return NULL on error, 'dest' otherwise.
+ */
+char *Picdb::MemoryManager::strncat (char *dest, const char *src, size_t n)
+{
+  unsigned long int index=0;
+  unsigned long int dindex=0;
+  ptrinfo_t *sinfo, *dinfo;
+  if (!n)
+    return dest; //we do not seem to want to copy anything... 
+  sinfo = mMemory[(void*)src];
+  dinfo = mMemory[(void*)dest];
+  if (!dinfo &amp;&amp; !sinfo) //neither source address nor destination address can be checked. no need to try any tricks here, just let ::strcat do it's job...
+    {
+      ::strncat (dest, src, n);
+      return dest;
+    }
+  dindex = strlen(dest);
+  while (src[index] &amp;&amp; index&lt;=n)
+    {
+      if (dinfo &amp;&amp; index+dindex &gt; dinfo-&gt;size)
+	{
+	  dest = (char*)realloc (dest, dinfo-&gt;size+256);
+	}
+      if (sinfo &amp;&amp; index &gt; sinfo-&gt;size)
+	{
+	 dest[index+dindex]=0;
+	 break;
+	}
+      dest[index+dindex]=src[index];
+      index++;
+    }
+  dest[index+dindex]=0;
+  return dest;
+}
+
+/*==================================== str*cmp =====================================*/
+
+
+/**
+ *@param s1
+ *@param s2
+ *@return &lt;0 if s1&lt;s2, 0 if s1==s2, &gt;0 if s1&gt;s2
+ */
+int Picdb::MemoryManager::strcmp (const char *s1, const char *s2)
+{
+  unsigned long int index=0;
+  ptrinfo_t *info1, *info2;
+  if (!s1 &amp;&amp; s2) //NULL is less than everything else
+    return -1;
+  if (!s2 &amp;&amp; s1) //everything is greater than NULL
+    return 1;
+  if (!s2 &amp;&amp; !s1) //NULL is equal to NULL.
+    return 0;
+  info1=mMemory[(void*)s1];
+  info2=mMemory[(void*)s2];
+  if (!info1 &amp;&amp; !info2)
+    return ::strcmp (s1,s2);
+  while (1)
+    {
+      //printf (&quot;index %i\n&quot;, index);
+      int s1_end = (s1[index]==0);
+      if (info1)
+	s1_end |= (index&gt;=info1-&gt;size);
+      int s2_end = (s2[index]==0);
+      if (info2)
+	s2_end |= (index&gt;=info2-&gt;size);
+      if (s1_end &amp;&amp; s2_end)
+	{
+	  //printf (&quot;eqv, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 0; //both strings are equal
+	}
+      else if (s1_end &amp;&amp; !s2_end) //s1 is less than s2 
+	{
+	  //printf (&quot;lt, index=%i, s1s:%i, s2s:%i, *s1:%02x, *s2:%02x\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return -1;
+	}
+      else if (!s1_end &amp;&amp; s2_end) //s2 is less than s1
+	{
+	  //printf (&quot;gt, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 1;
+	}
+      if (s1[index] &lt; s2[index])
+	return -1;
+      else if (s1[index] &gt; s2[index])
+	return 1;
+      index++;
+    }
+}
+
+/**
+ *@param s1
+ *@param s2
+ *@param n compare at most this many bytes.
+ *@return &lt;0 if s1&lt;s2, 0 if s1==s2, &gt;0 if s1&gt;s2
+ */
+int Picdb::MemoryManager::strncmp (const char *s1, const char *s2, size_t n)
+{
+  unsigned long int index=0;
+  ptrinfo_t *info1, *info2;
+  if (!s1 &amp;&amp; s2) //NULL is less than everything else
+    return -1;
+  if (!s2 &amp;&amp; s1) //everything is greater than NULL
+    return 1;
+  if (!s2 &amp;&amp; !s1) //NULL is equal to NULL.
+    return 0;
+  info1=mMemory[(void*)s1];
+  info2=mMemory[(void*)s2];
+  if (!info1 &amp;&amp; !info2)
+    return ::strcmp (s1,s2);
+  while (1)
+    {
+      //printf (&quot;index %i\n&quot;, index);
+      if (index==n) //maximum number of chars to compare reached.
+	{
+	  return 0; //strins are equal so far.
+	}
+      int s1_end = (s1[index]==0);
+      if (info1)
+	s1_end |= (index&gt;=info1-&gt;size);
+      int s2_end = (s2[index]==0);
+      if (info2)
+	s2_end |= (index&gt;=info2-&gt;size);
+      if (s1_end &amp;&amp; s2_end)
+	{
+	  //printf (&quot;eqv, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 0; //both strings are equal
+	}
+      else if (s1_end &amp;&amp; !s2_end) //s1 is less than s2 
+	{
+	  //printf (&quot;lt, index=%i, s1s:%i, s2s:%i, *s1:%02x, *s2:%02x\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return -1;
+	}
+      else if (!s1_end &amp;&amp; s2_end) //s2 is less than s1
+	{
+	  //printf (&quot;gt, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 1;
+	}
+      if (s1[index] &lt; s2[index])
+	return -1;
+      else if (s1[index] &gt; s2[index])
+	return 1;
+      index++;
+    }
+}
+
+
+/**
+ *@param s1
+ *@param s2
+ *@return &lt;0 if s1&lt;s2, 0 if s1==s2, &gt;0 if s1&gt;s2
+ */
+int Picdb::MemoryManager::strcasecmp (const char *s1, const char *s2)
+{
+  unsigned long int index=0;
+  ptrinfo_t *info1, *info2;
+  if (!s1 &amp;&amp; s2) //NULL is less than everything else
+    return -1;
+  if (!s2 &amp;&amp; s1) //everything is greater than NULL
+    return 1;
+  if (!s2 &amp;&amp; !s1) //NULL is equal to NULL.
+    return 0;
+  info1=mMemory[(void*)s1];
+  info2=mMemory[(void*)s2];
+  if (!info1 &amp;&amp; !info2)
+    return ::strcmp (s1,s2);
+  while (1)
+    {
+      //printf (&quot;index %i\n&quot;, index);
+      int s1_end = (s1[index]==0);
+      char s1c, s2c;
+      if (info1)
+	s1_end |= (index&gt;=info1-&gt;size);
+      int s2_end = (s2[index]==0);
+      if (info2)
+	s2_end |= (index&gt;=info2-&gt;size);
+      if (s1_end &amp;&amp; s2_end)
+	{
+	  //printf (&quot;eqv, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 0; //both strings are equal
+	}
+      else if (s1_end &amp;&amp; !s2_end) //s1 is less than s2 
+	{
+	  //printf (&quot;lt, index=%i, s1s:%i, s2s:%i, *s1:%02x, *s2:%02x\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return -1;
+	}
+      else if (!s1_end &amp;&amp; s2_end) //s2 is less than s1
+	{
+	  //printf (&quot;gt, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 1;
+	}
+      s1c = s1[index];
+      s2c = s2[index];
+      if (s1c &gt;='A' &amp;&amp; s1c&lt;='Z')
+	s1c += 'a' - 'A';
+      if (s2c &gt;='A' &amp;&amp; s2c&lt;='Z')
+	s2c += 'a' - 'A';
+      if (s1c &lt; s2c)
+	return -1;
+      else if (s1c &gt; s2c)
+	return 1;
+      index++;
+    }
+}
+
+/**
+ *@param s1
+ *@param s2
+ *@param n compare at most this many bytes.
+ *@return &lt;0 if s1&lt;s2, 0 if s1==s2, &gt;0 if s1&gt;s2
+ */
+int Picdb::MemoryManager::strncasecmp (const char *s1, const char *s2, size_t n)
+{
+  unsigned long int index=0;
+  ptrinfo_t *info1, *info2;
+  if (!s1 &amp;&amp; s2) //NULL is less than everything else
+    return -1;
+  if (!s2 &amp;&amp; s1) //everything is greater than NULL
+    return 1;
+  if (!s2 &amp;&amp; !s1) //NULL is equal to NULL.
+    return 0;
+  info1=mMemory[(void*)s1];
+  info2=mMemory[(void*)s2];
+  if (!info1 &amp;&amp; !info2)
+    return ::strcmp (s1,s2);
+  while (1)
+    {
+     if (index==n) //maximum number of chars to compare reached.
+	{
+	  return 0; //strins are equal so far.
+	}
+      //printf (&quot;index %i\n&quot;, index);
+      int s1_end = (s1[index]==0);
+      char s1c, s2c;
+      if (info1)
+	s1_end |= (index&gt;=info1-&gt;size);
+      int s2_end = (s2[index]==0);
+      if (info2)
+	s2_end |= (index&gt;=info2-&gt;size);
+      if (s1_end &amp;&amp; s2_end)
+	{
+	  //printf (&quot;eqv, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 0; //both strings are equal
+	}
+      else if (s1_end &amp;&amp; !s2_end) //s1 is less than s2 
+	{
+	  //printf (&quot;lt, index=%i, s1s:%i, s2s:%i, *s1:%02x, *s2:%02x\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return -1;
+	}
+      else if (!s1_end &amp;&amp; s2_end) //s2 is less than s1
+	{
+	  //printf (&quot;gt, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 1;
+	}
+      s1c = s1[index];
+      s2c = s2[index];
+      if (s1c &gt;='A' &amp;&amp; s1c&lt;='Z')
+	s1c += 'a' - 'A';
+      if (s2c &gt;='A' &amp;&amp; s2c&lt;='Z')
+	s2c += 'a' - 'A';
+      if (s1c &lt; s2c)
+	return -1;
+      else if (s1c &gt; s2c)
+	return 1;
+      index++;
+    }
+}
+
+/**
+ *@param haystack
+ *@param needle
+ *@return the last occurence of needle in haystack
+ */
+char *Picdb::MemoryManager::index (const char *haystack, char needle)
+{
+  ptrinfo_t *info;
+  if (!haystack)
+    return NULL;
+  if (!needle)
+    return (char*)(haystack + ::strlen(haystack)); //first occurence of NULL is always end of string, so return end of string...
+  info = mMemory[(void*)haystack];
+  if (!info)
+    return ::index (haystack, needle);
+  for (unsigned long int idx=0; idx&lt;strlen (haystack); idx++)
+    {
+      if (idx&gt;=info-&gt;size)
+	break;
+      if (haystack[idx]==needle)
+	return (char*)(haystack+idx);
+    }
+  return NULL;
+}
+
+/**
+ *@param haystack 
+ *@param needle
+ *@return the last occurence of needle in haystack
+ */
+char *Picdb::MemoryManager::rindex (const char *haystack, char needle)
+{
+  ptrinfo_t *info;
+  if (!haystack)
+    return NULL;
+  if (!needle)
+    return (char*)(haystack + ::strlen (haystack));
+  info = mMemory[(void*)haystack];
+  if (!info)
+    return ::rindex (haystack, needle);
+  for (long int idx=strlen(haystack)-1; idx&gt;=0; idx--)
+    {
+      if (haystack[idx]==needle)
+	return (char*)(haystack+idx);
+    }
+  return NULL;
+}
+
+/**
+ *@param p memory location to be overwritten
+ *@param v value to overwrite the memory with
+ *@param l overwrite this many bytes
+ */
+void Picdb::MemoryManager::memset (void *p, char v, size_t l)
+{
+  ptrinfo_t *info;
+  if (!p || !l)
+    return;
+  info=mMemory[p];
+  if (!info)
+    ::memset (p,v,l);
+  for (signed long long int L=l; L&gt;=0; L--)
+    {
+      if (L&gt;info-&gt;size)
+	continue;
+      ((char*)(p))[L]=v;
+    }
+}
+
+/**
+ *@param s1
+ *@param s2
+ *@param n compare at most this many bytes.
+ *@return &lt;0 if s1&lt;s2, 0 if s1==s2, &gt;0 if s1&gt;s2
+ */
+int Picdb::MemoryManager::memcmp (const void *p1, const void *p2, size_t n)
+{
+  const char *s1=(const char*)p1, *s2=(const char*)p2;
+  unsigned long int index=0;
+  ptrinfo_t *info1, *info2;
+  if (!s1 &amp;&amp; s2) //NULL is less than everything else
+    return -1;
+  if (!s2 &amp;&amp; s1) //everything is greater than NULL
+    return 1;
+  if (!s2 &amp;&amp; !s1) //NULL is equal to NULL.
+    return 0;
+  info1=mMemory[(void*)s1];
+  info2=mMemory[(void*)s2];
+  if (!info1 &amp;&amp; !info2)
+    return ::strcmp (s1,s2);
+  while (1)
+    {
+      //printf (&quot;index %i\n&quot;, index);
+      if (index==n) //maximum number of chars to compare reached.
+	{
+	  return 0; //strins are equal so far.
+	}
+      int s1_end = 0;//(s1[index]==0);
+      if (info1)
+	s1_end |= (index&gt;=info1-&gt;size);
+      int s2_end = 0;//(s2[index]==0);
+      if (info2)
+	s2_end |= (index&gt;=info2-&gt;size);
+      if (s1_end &amp;&amp; s2_end)
+	{
+	  //printf (&quot;eqv, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 0; //both strings are equal
+	}
+      else if (s1_end &amp;&amp; !s2_end) //s1 is less than s2 
+	{
+	  //printf (&quot;lt, index=%i, s1s:%i, s2s:%i, *s1:%02x, *s2:%02x\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return -1;
+	}
+      else if (!s1_end &amp;&amp; s2_end) //s2 is less than s1
+	{
+	  //printf (&quot;gt, index=%i, s1s:%i, s2s:%i, *s1:%i, *s2:%i\n&quot;, index, info1-&gt;size, info2-&gt;size, s1[index], s2[index]);
+	  return 1;
+	}
+      if (s1[index] &lt; s2[index])
+	return -1;
+      else if (s1[index] &gt; s2[index])
+	return 1;
+      index++;
+    }
+}
+
+/**
+ *@param dest The buffer to copy src to
+ *@param src the buffer to be copied
+ *@param n copy at most this many bytes
+ *@return dest
+ *\todo reallocate dest, so that, if src is big enough, always exactly n bytes are copied
+ */
+void *Picdb::MemoryManager::memcpy (void *dest, const void *src, size_t n)
+{
+  if (!dest)
+    return NULL;
+  if (!src || !n)
+    return dest;
+  ptrinfo_t *dinfo, *sinfo;
+  dinfo=mMemory[dest];
+  sinfo=mMemory[(void*)src];
+  if (!dinfo &amp;&amp; !sinfo)
+    return ::memcpy (dest, src, n);
+  for (signed long long int L=n; L&gt;=0; L--)
+    {
+      if (dinfo &amp;&amp; L&gt;dinfo-&gt;size)
+	continue;
+      if (sinfo &amp;&amp; L&gt;sinfo-&gt;size)
+	continue;
+      ((char*)(dest))[L]=((char*)(src))[L];
+    }
+  return dest;
+}
+
+/**
+ *@param dest The buffer to copy src to
+ *@param src the buffer to be copied
+ *@return dest
+ *\todo reallocate dest, so that src is always copied completely
+ */
+char *Picdb::MemoryManager::strcpy (char *dest, const char *src)
+{
+  if (!dest)
+    return NULL;
+  if (!src)
+    return dest;
+  ptrinfo_t *dinfo, *sinfo;
+  dinfo=mMemory[(void*)dest];
+  sinfo=mMemory[(void*)src];
+  unsigned long int idx;
+  for (idx=0;;idx++)
+    {
+      if (sinfo &amp;&amp; idx&gt;=sinfo-&gt;size)
+	break;
+      if (dinfo &amp;&amp; idx&gt;=dinfo-&gt;size)
+	break;
+      dest[idx]=src[idx];
+      if (!src[idx])
+	break;
+    }
+  return dest;
+}
+
+/**
+ *@param dest The buffer to copy src to
+ *@param src the buffer to be copied
+ *@return dest
+ *\todo reallocate dest, so that, if src is big enough, always exactly n bytes are copied
+ */
+char *Picdb::MemoryManager::strncpy (char *dest, const char *src, size_t n)
+{
+  if (!dest)
+    return NULL;
+  if (!src || !n)
+    return dest;
+  ptrinfo_t *dinfo, *sinfo;
+  dinfo=mMemory[(void*)dest];
+  sinfo=mMemory[(void*)src];
+  unsigned long int idx;
+  for (idx=0;;idx++)
+    {
+      if (idx&gt;=n)
+	{
+	  dest[idx]=0;
+	  break;
+	}
+      if (sinfo &amp;&amp; idx&gt;=sinfo-&gt;size)
+	{
+	  dest[idx]=0;
+	  break;
+	}
+      if (dinfo &amp;&amp; idx&gt;=dinfo-&gt;size)
+	break;
+      dest[idx]=src[idx];
+      if (!src[idx])
+	break;
+    }
+  return dest;
+}

Added: trunk/src/os.cc
===================================================================
--- trunk/src/os.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/os.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,39 @@
+/******************************************************************
+*                os.cc 
+*   Tue Dec  7 15:48:11 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/os.hpp&quot;
+Picdb::OS *Picdb::OS::Instance=NULL;
+Picdb::OS::OS ()
+{
+  if (!Instance)
+    Instance=this;
+}
+
+Picdb::OS::~OS ()
+{
+  if (Instance==this)
+    Instance=NULL;
+}

Added: trunk/src/picdb_init.cc
===================================================================
--- trunk/src/picdb_init.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/picdb_init.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,31 @@
+#include &quot;../include/memorymanager.hpp&quot;
+//#include &quot;../include/picdb.hpp&quot;
+#include &quot;../include/os.hpp&quot;
+#ifdef __unix__
+#include &quot;../include/unixos.hpp&quot;
+#endif
+
+int Picdb::Init()
+{
+  MManager = new MemoryManager;
+#ifdef __unix__
+  new UnixOS;
+  //ConfigFile=new Config(&quot;config.xml&quot;);
+#else
+#error unkown os
+#endif
+  return 0;
+}
+
+void Picdb::Shutdown()
+{
+  if (MManager)
+    delete MManager;
+  MManager=NULL;
+  //if (ConfigFile)
+  //  delete ConfigFile;
+  //ConfigFile=NULL;
+  if (OS::Instance)
+    delete OS::Instance;
+  OS::Instance=NULL;
+}

Added: trunk/src/sqlbackend.cc
===================================================================
--- trunk/src/sqlbackend.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/sqlbackend.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,33 @@
+/******************************************************************
+*                sqlbackend.cc 
+*   Sat Dec  4 14:53:57 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/sqlbackend.hpp&quot;
+/*Picdb::SqlBackend::SqlBackend ()
+{
+}
+Picdb::SqlBackend::~SqlBackend ()
+{
+}*/

Added: trunk/src/unixos.cc
===================================================================
--- trunk/src/unixos.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/unixos.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,116 @@
+/******************************************************************
+*                unixos.cc 
+*   Thu Dec 30 13:32:28 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/unixos.hpp&quot;
+/*Picdb::UnixOS::UnixOS ()
+{}
+Picdb::UnixOS::~UnixOS ()
+{}*/
+
+void *Picdb::UnixOS::OpenLibrary (const char *libname)
+{
+  LogMessage (Log_Info, &quot;OS/Unix&quot;, &quot;Loading library %s&quot;, libname);
+  void *hdl=dlopen (libname, RTLD_NOW);
+  if (hdl)
+    {
+      LogMessage (Log_Info, &quot;OS/Unix&quot;, &quot;Ok:%p&quot;, hdl);
+      return hdl;
+    }
+  char *xdlname=(char*)PicdbAlloc (MManager-&gt;strlen(libname)+7);
+  xdlname=MManager-&gt;strcpy (xdlname, &quot;lib&quot;);
+  xdlname=MManager-&gt;strcat (xdlname, libname);
+  xdlname=MManager-&gt;strcat (xdlname, &quot;.so&quot;);
+  LogMessage (Log_Info, &quot;OS/Unix&quot;, &quot;Trying %s instead.&quot;, xdlname);
+  hdl=dlopen (libname, RTLD_NOW);
+  PicdbFree (xdlname);
+  if (hdl)
+    {
+      LogMessage (Log_Info, &quot;OS/Unix&quot;, &quot;Ok:%p&quot;, hdl);
+      return hdl;
+    }
+  else
+    {
+      PicdbWarning (Errors::Error, &quot;OS/Unix&quot;, &quot;Library %s not found.&quot;, libname);
+      return NULL;
+    }
+}
+
+void *Picdb::UnixOS::GetLibrarySymbol (void *libhdl, const char *symname)
+{
+  LogMessage (Log_Info, &quot;OS/Unix&quot;, &quot;Getting symbol %s from library %p&quot;, symname, libhdl);
+  void *s=dlsym (libhdl, symname);
+  if (s)
+    LogMessage (Log_Info, &quot;OS/Unix&quot;, &quot;Ok&quot;);
+  else
+    PicdbWarning (Errors::Error, &quot;OS/Unix&quot;, &quot;Symbol %s not found.&quot;, symname);
+  return s;
+}
+
+void Picdb::UnixOS::CloseLibrary (void *libhdl)
+{
+  LogMessage (Log_Info, &quot;OS/Unix&quot;, &quot;Closing library %p&quot;, libhdl);
+  dlclose (libhdl);
+}
+
+void *Picdb::UnixOS::Fopen (const char *filename, const char *perm)
+{
+  return fopen (filename, perm);
+}
+
+size_t Picdb::UnixOS::Fread (void *handle, size_t numbytes, void *buffer)
+{
+  return fread (buffer, 1, numbytes, (FILE*)handle);
+}
+
+size_t Picdb::UnixOS::Fwrite (void *handle, size_t numbytes, void *buffer)
+{
+  return fwrite (buffer, 1, numbytes, (FILE*)handle);
+}
+
+void Picdb::UnixOS::Fclose (void *handle)
+{
+  fclose ((FILE*)handle);
+}
+
+void *Picdb::UnixOS::Diropen (const char *dirname)
+{
+  return opendir (dirname);
+}
+
+int Picdb::UnixOS::ReadDirEntry (void *handle, char *entryname, int *ftype)
+{
+  struct dirent *ent=readdir ((DIR*)handle);
+  if (!ent)
+    return 1; //ERROR
+  strcpy (entryname, ent-&gt;d_name);
+  *ftype=2;
+  return 0;
+}
+
+void Picdb::UnixOS::Dirclose (void *handle)
+{
+  closedir ((DIR*)handle);
+}

Added: trunk/src/warning.cc
===================================================================
--- trunk/src/warning.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/warning.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,46 @@
+/******************************************************************
+*                warning.cc 
+*   Tue Nov 23 20:13:21 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/warning.hpp&quot;
+Picdb::Warning::Warning (Picdb::ErrorType &amp;e, char *f, unsigned long l, char *s, char *fmt, ...)
+{
+  char *msg, *ss;
+  va_list ap;
+  va_start(ap,fmt);
+  vasprintf (&amp;msg, fmt, ap);
+  va_end(ap);
+  ss=(char*)malloc (strlen(s)+strlen(&quot;warning&quot;)+5);
+  strcpy (ss, &quot;warning: &quot;);
+  strcat (ss, s);
+  Log.Log (Log_Warning, f, l, ss, &quot;'%s': %s&quot;, e.GetErrorType(), msg);
+  free(ss);
+  free (msg);
+  delete this;
+}
+
+Picdb::Warning::~Warning ()
+{
+}

Added: trunk/src/xml.cc
===================================================================
--- trunk/src/xml.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/xml.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,53 @@
+/******************************************************************
+*                xml.cc 
+*   Wed Dec  1 16:47:18 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/xml.hpp&quot;
+
+int Picdb::XML::XML::smCount;
+
+Picdb::XML::XML::XML ()
+{
+  if (!smCount)
+    {
+      try
+	{
+	  LogMessage (Log_Info, &quot;XML&quot;, &quot;Initialising Xerces-C.&quot;);
+	  XMLPlatformUtils::Initialize();
+	}
+      catch (const XMLException &amp;e)
+	{
+	  PicdbError (Picdb::Errors::XmlError, Log_Critical, &quot;XML&quot;, &quot;error while trying to initialise Xerces-C&quot;);
+	}
+    }
+  smCount++;
+}
+Picdb::XML::XML::~XML ()
+{
+  smCount--;
+  if (!smCount)
+    {
+    }
+}

Added: trunk/src/xmllogstream.cc
===================================================================
--- trunk/src/xmllogstream.cc	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/src/xmllogstream.cc	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,179 @@
+/******************************************************************
+*                xmllogstream.cc 
+*   Wed Dec  1 14:44:11 2004
+*   Copyright 2004 Jens Krafczyk
+*   <A HREF="https://lists.berlios.de/mailman/listinfo/picdb-svn">segv at gmx.de</A>
+******************************************************************/
+
+/******************************************************************
+* 
+*   This program is free software; you can redistribute it and/or modify
+*   it under the terms of the GNU General Public License as published by
+*   the Free Software Foundation; either version 2 of the License, or
+*   (at your option) any later version.
+* 
+*   This program is distributed in the hope that it will be useful,
+*   but WITHOUT ANY WARRANTY; without even the implied warranty of
+*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+*   GNU Library General Public License for more details.
+* 
+*   You should have received a copy of the GNU General Public License
+*   along with this program; if not, write to the Free Software
+*   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+* 
+******************************************************************/
+
+
+#include &quot;../include/xmllogstream.hpp&quot;
+std::map&lt;const int, char*&gt; Picdb::XhtmlLogStream::mColorNames;
+
+
+Picdb::XmlLogStream::XmlLogStream (char *filename)
+{
+  stream=fopen (filename,&quot;w&quot;);
+  StartDocument();
+}
+
+Picdb::XmlLogStream::XmlLogStream (FILE *fp)
+{
+  stream=fp;
+  StartDocument();
+}
+
+void Picdb::XmlLogStream::StartDocument ()
+{
+  if (!stream)
+    return;
+  fprintf (stream, &quot;&lt;?xml version='1.0' encoding='iso-8859-1'?&gt;\n&lt;log&gt;\n&quot;);
+}
+
+Picdb::XmlLogStream::~XmlLogStream ()
+{
+  if (stream)
+    {
+      fprintf (stream, &quot;&lt;/log&gt;\n&quot;);
+      fclose(stream);
+    }
+}
+
+char *Picdb::XmlLogStream::GetDate()
+{
+  time_t T;
+  tm TM;
+  char *result;
+  time (&amp;T);
+  localtime_r (&amp;T, &amp;TM);
+  asprintf (&amp;result, &quot;%02i-%02i-%02i&quot;, TM.tm_year+1900, TM.tm_mon+1, TM.tm_mday);
+  return result;
+}
+
+char *Picdb::XmlLogStream::GetTime()
+{
+  time_t T;
+  tm TM;
+  char *result;
+  time (&amp;T);
+  localtime_r (&amp;T, &amp;TM);
+  asprintf (&amp;result, &quot;%02i:%02i:%02i&quot;, TM.tm_hour, TM.tm_min, TM.tm_sec);
+  return result;  
+}
+
+void Picdb::XmlLogStream::Write (Picdb::LogLevel &amp;lvl, char *subsystem, char *txt)
+{
+  if(!stream)
+    return;
+  char *date, *t;
+  date=GetDate();
+  t=GetTime();
+  fprintf (stream, &quot;&lt;entry date='%s' time='%s' subsystem='%s' level='%s'&gt;%s&lt;/entry&gt;\n&quot;, date, t, subsystem, lvl.GetName(), txt);
+  free(date);
+  free(t);
+}
+
+void Picdb::XmlLogStream::Write (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsystem, char *txt)
+{
+  if(!stream)
+    return;
+  char *date, *t;
+  date=GetDate();
+  t=GetTime();
+  fprintf (stream, &quot;&lt;entry file='%s' line='%i' date='%s' time='%s' subsystem='%s' level='%s'&gt;%s&lt;/entry&gt;\n&quot;, file, line, date, t, subsystem, lvl.GetName(), txt);
+  free(date);
+  free(t);
+}
+
+
+Picdb::XhtmlLogStream::XhtmlLogStream(FILE *fp):XmlLogStream()
+{
+  stream=fp;
+  InitColorNames();
+  StartDocument();
+}
+Picdb::XhtmlLogStream::XhtmlLogStream(char *filename):XmlLogStream()
+{
+  stream=fopen (filename,&quot;w&quot;);
+  InitColorNames();
+  StartDocument();
+}
+
+Picdb::XhtmlLogStream::~XhtmlLogStream()
+{
+  if (stream)
+    {
+      fprintf (stream, &quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\n&quot;);
+      fclose(stream);
+    }
+}
+
+void Picdb::XhtmlLogStream::Write (Picdb::LogLevel &amp;lvl, char *subsystem, char *txt)
+{
+  Write (lvl, &quot;&amp;&quot;, 0, subsystem, txt);
+}
+
+void Picdb::XhtmlLogStream::Write (Picdb::LogLevel &amp;lvl, char *file, unsigned long line, char *subsystem, char *txt)
+{
+  if(!stream)
+    return;
+  char *date, *t;
+  date=GetDate();
+  t=GetTime();
+  //fprintf (stream, &quot;&lt;entry file='%s' line='%i' date='%s' time='%s' subsystem='%s' level='%s'&gt;%s&lt;/entry&gt;\n&quot;, file, line, date, t, subsystem, lvl.GetName(), txt);
+  fprintf (stream, &quot;&lt;tr&gt;&lt;td&gt;%s, %s&lt;/td&gt;&lt;td style='color: %s; font-weight: bold;'&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%i&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;\n&quot;, date, t, mColorNames[lvl.GetColor()],lvl.GetName(), subsystem, file, line, txt);
+  free(date);
+  free(t);
+}
+
+void Picdb::XhtmlLogStream::StartDocument()
+{
+  if (!stream)
+    return;
+  fprintf (stream, &quot;&lt;?xml version='1.0' encoding='iso-8859-1'?&gt;\n&lt;!DOCTYPE html PUBLIC \&quot;-//W3C//DTD XHTML 1.0 Strict//EN\&quot;\n \&quot;<A HREF="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\</A>&quot;&gt;\n&lt;html&gt;\n&quot;);
+  fprintf (stream, &quot;&lt;head&gt;&lt;title&gt;Log&lt;/title&gt;\n&quot;);
+  fprintf (stream, &quot;&lt;style type='text/css'&gt;&quot;);
+  fprintf (stream, &quot;body {background: #0f0f0f; color: #9f9f3f;}\ntable {width: 100%; border-width: 0px}\ntd,th{border-style: ridge; border-width: 1px; border-color: #9f9f3f;}\n&quot;);
+  fprintf (stream, &quot;&lt;/style&gt;&lt;/head&gt;\n&lt;body&gt;\n&quot;);
+  fprintf (stream, &quot;&lt;table&gt;\n&quot;);
+  fprintf (stream, &quot;&lt;tr&gt;&lt;th&gt;Time&lt;/th&gt;&lt;th&gt;Level&lt;/th&gt;&lt;th&gt;Subsystem&lt;/th&gt;&lt;th&gt;File&lt;/th&gt;&lt;th&gt;Line&lt;/th&gt;&lt;th&gt;Message&lt;/th&gt;&lt;/tr&gt;\n&quot;);
+}
+
+void Picdb::XhtmlLogStream::InitColorNames()
+{
+  if (!mColorNames.empty())
+    return;
+  mColorNames[0]=&quot;#000000&quot;;
+  mColorNames[1]=&quot;#7f0000&quot;;
+  mColorNames[2]=&quot;#007f00&quot;;
+  mColorNames[3]=&quot;#7f7f00&quot;;
+  mColorNames[4]=&quot;#00007f&quot;;
+  mColorNames[5]=&quot;#7f007f&quot;;
+  mColorNames[6]=&quot;#007f7f&quot;;
+  mColorNames[7]=&quot;#7f7f7f&quot;;
+  mColorNames[10]=&quot;#000000&quot;;
+  mColorNames[11]=&quot;#ff0000&quot;;
+  mColorNames[12]=&quot;#00ff00&quot;;
+  mColorNames[13]=&quot;#ffff00&quot;;
+  mColorNames[14]=&quot;#0000ff&quot;;
+  mColorNames[15]=&quot;#ff00ff&quot;;
+  mColorNames[16]=&quot;#00ffff&quot;;
+  mColorNames[17]=&quot;#ffffff&quot;;
+}

Added: trunk/stamp-h.in
===================================================================
--- trunk/stamp-h.in	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/stamp-h.in	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1 @@
+timestamp

Added: trunk/testrun
===================================================================
--- trunk/testrun	2004-12-07 17:38:50 UTC (rev 0)
+++ trunk/testrun	2005-01-15 03:36:41 UTC (rev 1)
@@ -0,0 +1,10 @@
+#!/usr/bin/env bash
+if test &quot;$1&quot; '=' '-debug'
+then
+  EXC='gdb'
+  shift
+else
+  EXC='exec'
+fi
+echo $EXC
+make &amp;&amp; make install &amp;&amp; $EXC `which picdb_test` $*


Property changes on: trunk/testrun
___________________________________________________________________
Name: svn:executable
   + 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#0">[ date ]</a>
              <a href="thread.html#0">[ thread ]</a>
              <a href="subject.html#0">[ subject ]</a>
              <a href="author.html#0">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/picdb-svn">More information about the Picdb-svn
mailing list</a><br>
</body></html>
